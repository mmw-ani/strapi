(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([[6764],{53844:()=>{(function(ti){const Kt=ti.en=ti.en||{};Kt.dictionary=Object.assign(Kt.dictionary||{},{"Align center":"Align center","Align left":"Align left","Align right":"Align right",Justify:"Justify","Text alignment":"Text alignment","Text alignment toolbar":"Text alignment toolbar"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var ti={704:(m,E,y)=>{m.exports=y(79)("./src/core.js")},273:(m,E,y)=>{m.exports=y(79)("./src/ui.js")},209:(m,E,y)=>{m.exports=y(79)("./src/utils.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},Kt={};function re(m){var E=Kt[m];if(E!==void 0)return E.exports;var y=Kt[m]={exports:{}};return ti[m](y,y.exports,re),y.exports}re.d=(m,E)=>{for(var y in E)re.o(E,y)&&!re.o(m,y)&&Object.defineProperty(m,y,{enumerable:!0,get:E[y]})},re.o=(m,E)=>Object.prototype.hasOwnProperty.call(m,E),re.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})};var ii={};(()=>{"use strict";re.r(ii),re.d(ii,{Alignment:()=>pe,AlignmentEditing:()=>U,AlignmentUI:()=>ge});var m=re(704),E=re(209);const y=["left","right","center","justify"];function f(me){return y.includes(me)}function _(me,J){return J.contentLanguageDirection=="rtl"?me==="right":me==="left"}function a(me){const J=me.map(Z=>{let h;return h=typeof Z=="string"?{name:Z}:Z,h}).filter(Z=>{const h=y.includes(Z.name);return h||(0,E.logWarning)("alignment-config-name-not-recognized",{option:Z}),h}),ee=J.filter(Z=>Boolean(Z.className)).length;if(ee&&ee<J.length)throw new E.CKEditorError("alignment-config-classnames-are-missing",{configuredOptions:me});return J.forEach((Z,h,g)=>{const r=g.slice(h+1);if(r.some(u=>u.name==Z.name))throw new E.CKEditorError("alignment-config-name-already-defined",{option:Z,configuredOptions:me});if(Z.className&&r.some(u=>u.className==Z.className))throw new E.CKEditorError("alignment-config-classname-already-defined",{option:Z,configuredOptions:me})}),J}const d="alignment";class S extends m.Command{refresh(){const J=this.editor.locale,ee=(0,E.first)(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=Boolean(ee)&&this._canBeAligned(ee),this.isEnabled&&ee.hasAttribute("alignment")?this.value=ee.getAttribute("alignment"):this.value=J.contentLanguageDirection==="rtl"?"right":"left"}execute(J={}){const ee=this.editor,Z=ee.locale,h=ee.model,g=h.document,r=J.value;h.change(u=>{const w=Array.from(g.selection.getSelectedBlocks()).filter(T=>this._canBeAligned(T)),v=w[0].getAttribute("alignment");_(r,Z)||v===r||!r?function(T,z){for(const L of T)z.removeAttribute(d,L)}(w,u):function(T,z,L){for(const x of T)z.setAttribute(d,L,x)}(w,u,r)})}_canBeAligned(J){return this.editor.model.schema.checkAttribute(J,d)}}class U extends m.Plugin{static get pluginName(){return"AlignmentEditing"}constructor(J){super(J),J.config.define("alignment",{options:y.map(ee=>({name:ee}))})}init(){const J=this.editor,ee=J.locale,Z=J.model.schema,h=a(J.config.get("alignment.options")).filter(w=>f(w.name)&&!_(w.name,ee)),g=h.some(w=>!!w.className);Z.extend("$block",{allowAttributes:"alignment"}),J.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),g?J.conversion.attributeToAttribute(function(w){const v={};for(const z of w)v[z.name]={key:"class",value:z.className};return{model:{key:"alignment",values:w.map(z=>z.name)},view:v}}(h)):J.conversion.for("downcast").attributeToAttribute(function(w){const v={};for(const{name:z}of w)v[z]={key:"style",value:{"text-align":z}};return{model:{key:"alignment",values:w.map(z=>z.name)},view:v}}(h));const r=function(w){const v=[];for(const{name:T}of w)v.push({view:{key:"style",value:{"text-align":T}},model:{key:"alignment",value:T}});return v}(h);for(const w of r)J.conversion.for("upcast").attributeToAttribute(w);const u=function(w){const v=[];for(const{name:T}of w)v.push({view:{key:"align",value:T},model:{key:"alignment",value:T}});return v}(h);for(const w of u)J.conversion.for("upcast").attributeToAttribute(w);J.commands.add("alignment",new S(J))}}var I=re(273);const C=new Map([["left",m.icons.alignLeft],["right",m.icons.alignRight],["center",m.icons.alignCenter],["justify",m.icons.alignJustify]]);class ge extends m.Plugin{get localizedOptionTitles(){const J=this.editor.t;return{left:J("Align left"),right:J("Align right"),center:J("Align center"),justify:J("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const J=this.editor,ee=J.ui.componentFactory,Z=J.t,h=a(J.config.get("alignment.options"));h.map(g=>g.name).filter(f).forEach(g=>this._addButton(g)),ee.add("alignment",g=>{const r=(0,I.createDropdown)(g);(0,I.addToolbarToDropdown)(r,()=>h.map(v=>ee.create(`alignment:${v.name}`)),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:Z("Text alignment toolbar")}),r.buttonView.set({label:Z("Text alignment"),tooltip:!0}),r.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const u=g.contentLanguageDirection==="rtl"?C.get("right"):C.get("left"),w=J.commands.get("alignment");return r.buttonView.bind("icon").to(w,"value",v=>C.get(v)||u),r.bind("isEnabled").to(w,"isEnabled"),this.listenTo(r,"execute",()=>{J.editing.view.focus()}),r})}_addButton(J){const ee=this.editor;ee.ui.componentFactory.add(`alignment:${J}`,Z=>{const h=ee.commands.get("alignment"),g=new I.ButtonView(Z);return g.set({label:this.localizedOptionTitles[J],icon:C.get(J),tooltip:!0,isToggleable:!0}),g.bind("isEnabled").to(h),g.bind("isOn").to(h,"value",r=>r===J),this.listenTo(g,"execute",()=>{ee.execute("alignment",{value:J}),ee.editing.view.focus()}),g})}}class pe extends m.Plugin{static get requires(){return[U,ge]}static get pluginName(){return"Alignment"}}})(),(window.CKEditor5=window.CKEditor5||{}).alignment=ii})()},98491:()=>{/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var ti={704:(m,E,y)=>{m.exports=y(79)("./src/core.js")},492:(m,E,y)=>{m.exports=y(79)("./src/engine.js")},181:(m,E,y)=>{m.exports=y(79)("./src/typing.js")},209:(m,E,y)=>{m.exports=y(79)("./src/utils.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},Kt={};function re(m){var E=Kt[m];if(E!==void 0)return E.exports;var y=Kt[m]={exports:{}};return ti[m](y,y.exports,re),y.exports}re.d=(m,E)=>{for(var y in E)re.o(E,y)&&!re.o(m,y)&&Object.defineProperty(m,y,{enumerable:!0,get:E[y]})},re.o=(m,E)=>Object.prototype.hasOwnProperty.call(m,E),re.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})};var ii={};(()=>{"use strict";re.r(ii),re.d(ii,{Autoformat:()=>S});var m=re(704),E=re(181),y=re(492),f=re(209);function _(I,C,ge,pe){let me,J=null;typeof pe=="function"?me=pe:(J=I.commands.get(pe),me=()=>{I.execute(pe)}),I.model.document.on("change:data",(ee,Z)=>{if(J&&!J.isEnabled||!C.isEnabled)return;const h=(0,f.first)(I.model.document.selection.getRanges());if(!h.isCollapsed||Z.isUndo||!Z.isLocal)return;const g=Array.from(I.model.document.differ.getChanges()),r=g[0];if(g.length!=1||r.type!=="insert"||r.name!="$text"||r.length!=1)return;const u=r.position.parent;if(u.is("element","codeBlock")||u.is("element","listItem")&&typeof pe!="function"&&!["numberedList","bulletedList","todoList"].includes(pe)||J&&J.value===!0)return;const w=u.getChild(0),v=I.model.createRangeOn(w);if(!v.containsRange(h)&&!h.end.isEqual(v.end))return;const T=ge.exec(w.data.substr(0,h.end.offset));T&&I.model.enqueueChange(z=>{const L=z.createPositionAt(u,0),x=z.createPositionAt(u,T[0].length),c=new y.LiveRange(L,x);if(me({match:T})!==!1){z.remove(c);const D=I.model.document.selection.getFirstRange(),W=z.createRangeIn(u);!u.isEmpty||W.isEqual(D)||W.containsRange(D,!0)||z.remove(u)}c.detach(),I.model.enqueueChange(()=>{I.plugins.get("Delete").requestUndoOnBackspace()})})})}function a(I,C,ge,pe){let me,J;ge instanceof RegExp?me=ge:J=ge,J=J||(ee=>{let Z;const h=[],g=[];for(;(Z=me.exec(ee))!==null&&!(Z&&Z.length<4);){let{index:r,1:u,2:w,3:v}=Z;const T=u+w+v;r+=Z[0].length-T.length;const z=[r,r+u.length],L=[r+u.length+w.length,r+u.length+w.length+v.length];h.push(z),h.push(L),g.push([r+u.length,r+u.length+w.length])}return{remove:h,format:g}}),I.model.document.on("change:data",(ee,Z)=>{if(Z.isUndo||!Z.isLocal||!C.isEnabled)return;const h=I.model,g=h.document.selection;if(!g.isCollapsed)return;const r=Array.from(h.document.differ.getChanges()),u=r[0];if(r.length!=1||u.type!=="insert"||u.name!="$text"||u.length!=1)return;const w=g.focus,v=w.parent,{text:T,range:z}=function(D,W){let q=D.start;return{text:Array.from(D.getItems()).reduce((Ie,Ve)=>!Ve.is("$text")&&!Ve.is("$textProxy")||Ve.getAttribute("code")?(q=W.createPositionAfter(Ve),""):Ie+Ve.data,""),range:W.createRange(q,D.end)}}(h.createRange(h.createPositionAt(v,0),w),h),L=J(T),x=d(z.start,L.format,h),c=d(z.start,L.remove,h);x.length&&c.length&&h.enqueueChange(D=>{if(pe(D,x)!==!1){for(const W of c.reverse())D.remove(W);h.enqueueChange(()=>{I.plugins.get("Delete").requestUndoOnBackspace()})}})})}function d(I,C,ge){return C.filter(pe=>pe[0]!==void 0&&pe[1]!==void 0).map(pe=>ge.createRange(I.getShiftedBy(pe[0]),I.getShiftedBy(pe[1])))}class S extends m.Plugin{static get requires(){return[E.Delete]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const C=this.editor.commands;C.get("bulletedList")&&_(this.editor,this,/^[*-]\s$/,"bulletedList"),C.get("numberedList")&&_(this.editor,this,/^1[.|)]\s$/,"numberedList"),C.get("todoList")&&_(this.editor,this,/^\[\s?\]\s$/,"todoList"),C.get("checkTodoList")&&_(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const C=this.editor.commands;if(C.get("bold")){const ge=U(this.editor,"bold");a(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,ge),a(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,ge)}if(C.get("italic")){const ge=U(this.editor,"italic");a(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,ge),a(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,ge)}if(C.get("code")){const ge=U(this.editor,"code");a(this.editor,this,/(`)([^`]+)(`)$/g,ge)}if(C.get("strikethrough")){const ge=U(this.editor,"strikethrough");a(this.editor,this,/(~~)([^~]+)(~~)$/g,ge)}}_addHeadingAutoformats(){const C=this.editor.commands.get("heading");C&&C.modelElements.filter(ge=>ge.match(/^heading[1-6]$/)).forEach(ge=>{const pe=ge[7],me=new RegExp(`^(#{${pe}})\\s$`);_(this.editor,this,me,()=>{if(!C.isEnabled||C.value===ge)return!1;this.editor.execute("heading",{value:ge})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&_(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const C=this.editor,ge=C.model.document.selection;C.commands.get("codeBlock")&&_(C,this,/^```$/,()=>{if(ge.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&_(this.editor,this,/^---$/,"horizontalLine")}}function U(I,C){return(ge,pe)=>{if(!I.commands.get(C).isEnabled)return!1;const me=I.model.schema.getValidRanges(pe,C);for(const J of me)ge.setAttribute(C,!0,J);ge.removeSelectionAttribute(C)}}})(),(window.CKEditor5=window.CKEditor5||{}).autoformat=ii})()},6378:()=>{(function(ti){const Kt=ti.en=ti.en||{};Kt.dictionary=Object.assign(Kt.dictionary||{},{Bold:"Bold",Code:"Code",Italic:"Italic",Strikethrough:"Strikethrough",Subscript:"Subscript",Superscript:"Superscript",Underline:"Underline"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var ti={415:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}",""]);const a=_},609:m=>{"use strict";m.exports=function(E){var y=[];return y.toString=function(){return this.map(function(f){var _=E(f);return f[2]?"@media ".concat(f[2]," {").concat(_,"}"):_}).join("")},y.i=function(f,_,a){typeof f=="string"&&(f=[[null,f,""]]);var d={};if(a)for(var S=0;S<this.length;S++){var U=this[S][0];U!=null&&(d[U]=!0)}for(var I=0;I<f.length;I++){var C=[].concat(f[I]);a&&d[C[0]]||(_&&(C[2]?C[2]="".concat(_," and ").concat(C[2]):C[2]=_),y.push(C))}},y}},62:(m,E,y)=>{"use strict";var f,_=function(){return f===void 0&&(f=Boolean(window&&document&&document.all&&!window.atob)),f},a=function(){var h={};return function(g){if(h[g]===void 0){var r=document.querySelector(g);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch{r=null}h[g]=r}return h[g]}}(),d=[];function S(h){for(var g=-1,r=0;r<d.length;r++)if(d[r].identifier===h){g=r;break}return g}function U(h,g){for(var r={},u=[],w=0;w<h.length;w++){var v=h[w],T=g.base?v[0]+g.base:v[0],z=r[T]||0,L="".concat(T," ").concat(z);r[T]=z+1;var x=S(L),c={css:v[1],media:v[2],sourceMap:v[3]};x!==-1?(d[x].references++,d[x].updater(c)):d.push({identifier:L,updater:Z(c,g),references:1}),u.push(L)}return u}function I(h){var g=document.createElement("style"),r=h.attributes||{};if(r.nonce===void 0){var u=y.nc;u&&(r.nonce=u)}if(Object.keys(r).forEach(function(v){g.setAttribute(v,r[v])}),typeof h.insert=="function")h.insert(g);else{var w=a(h.insert||"head");if(!w)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");w.appendChild(g)}return g}var C,ge=(C=[],function(h,g){return C[h]=g,C.filter(Boolean).join(`
`)});function pe(h,g,r,u){var w=r?"":u.media?"@media ".concat(u.media," {").concat(u.css,"}"):u.css;if(h.styleSheet)h.styleSheet.cssText=ge(g,w);else{var v=document.createTextNode(w),T=h.childNodes;T[g]&&h.removeChild(T[g]),T.length?h.insertBefore(v,T[g]):h.appendChild(v)}}function me(h,g,r){var u=r.css,w=r.media,v=r.sourceMap;if(w?h.setAttribute("media",w):h.removeAttribute("media"),v&&typeof btoa<"u"&&(u+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(v))))," */")),h.styleSheet)h.styleSheet.cssText=u;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(u))}}var J=null,ee=0;function Z(h,g){var r,u,w;if(g.singleton){var v=ee++;r=J||(J=I(g)),u=pe.bind(null,r,v,!1),w=pe.bind(null,r,v,!0)}else r=I(g),u=me.bind(null,r,g),w=function(){(function(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T)})(r)};return u(h),function(T){if(T){if(T.css===h.css&&T.media===h.media&&T.sourceMap===h.sourceMap)return;u(h=T)}else w()}}m.exports=function(h,g){(g=g||{}).singleton||typeof g.singleton=="boolean"||(g.singleton=_());var r=U(h=h||[],g);return function(u){if(u=u||[],Object.prototype.toString.call(u)==="[object Array]"){for(var w=0;w<r.length;w++){var v=S(r[w]);d[v].references--}for(var T=U(u,g),z=0;z<r.length;z++){var L=S(r[z]);d[L].references===0&&(d[L].updater(),d.splice(L,1))}r=T}}}},704:(m,E,y)=>{m.exports=y(79)("./src/core.js")},181:(m,E,y)=>{m.exports=y(79)("./src/typing.js")},273:(m,E,y)=>{m.exports=y(79)("./src/ui.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},Kt={};function re(m){var E=Kt[m];if(E!==void 0)return E.exports;var y=Kt[m]={id:m,exports:{}};return ti[m](y,y.exports,re),y.exports}re.n=m=>{var E=m&&m.__esModule?()=>m.default:()=>m;return re.d(E,{a:E}),E},re.d=(m,E)=>{for(var y in E)re.o(E,y)&&!re.o(m,y)&&Object.defineProperty(m,y,{enumerable:!0,get:E[y]})},re.o=(m,E)=>Object.prototype.hasOwnProperty.call(m,E),re.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},re.nc=void 0;var ii={};(()=>{"use strict";re.r(ii),re.d(ii,{Bold:()=>S,BoldEditing:()=>f,BoldUI:()=>d,Code:()=>h,CodeEditing:()=>C,CodeUI:()=>Z,Italic:()=>v,ItalicEditing:()=>r,ItalicUI:()=>w,Strikethrough:()=>c,StrikethroughEditing:()=>z,StrikethroughUI:()=>x,Subscript:()=>Ie,SubscriptEditing:()=>W,SubscriptUI:()=>ae,Superscript:()=>ut,SuperscriptEditing:()=>_e,SuperscriptUI:()=>Qe,Underline:()=>Nt,UnderlineEditing:()=>qe,UnderlineUI:()=>Bt});var m=re(704);class E extends m.Command{constructor(tt,Dt){super(tt),this.attributeKey=Dt}refresh(){const tt=this.editor.model,Dt=tt.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=tt.schema.checkAttributeInSelection(Dt.selection,this.attributeKey)}execute(tt={}){const Dt=this.editor.model,ye=Dt.document.selection,Se=tt.forceValue===void 0?!this.value:tt.forceValue;Dt.change(Ke=>{if(ye.isCollapsed)Se?Ke.setSelectionAttribute(this.attributeKey,!0):Ke.removeSelectionAttribute(this.attributeKey);else{const kt=Dt.schema.getValidRanges(ye.getRanges(),this.attributeKey);for(const Lt of kt)Se?Ke.setAttribute(this.attributeKey,Se,Lt):Ke.removeAttribute(this.attributeKey,Lt)}})}_getValueFromFirstAllowedNode(){const tt=this.editor.model,Dt=tt.schema,ye=tt.document.selection;if(ye.isCollapsed)return ye.hasAttribute(this.attributeKey);for(const Se of ye.getRanges())for(const Ke of Se.getItems())if(Dt.checkAttribute(Ke,this.attributeKey))return Ke.hasAttribute(this.attributeKey);return!1}}const y="bold";class f extends m.Plugin{static get pluginName(){return"BoldEditing"}init(){const tt=this.editor;tt.model.schema.extend("$text",{allowAttributes:y}),tt.model.schema.setAttributeProperties(y,{isFormatting:!0,copyOnEnter:!0}),tt.conversion.attributeToElement({model:y,view:"strong",upcastAlso:["b",Dt=>{const ye=Dt.getStyle("font-weight");return ye&&(ye=="bold"||Number(ye)>=600)?{name:!0,styles:["font-weight"]}:null}]}),tt.commands.add(y,new E(tt,y)),tt.keystrokes.set("CTRL+B",y)}}var _=re(273);const a="bold";class d extends m.Plugin{static get pluginName(){return"BoldUI"}init(){const tt=this.editor,Dt=tt.t;tt.ui.componentFactory.add(a,ye=>{const Se=tt.commands.get(a),Ke=new _.ButtonView(ye);return Ke.set({label:Dt("Bold"),icon:m.icons.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),Ke.bind("isOn","isEnabled").to(Se,"value","isEnabled"),this.listenTo(Ke,"execute",()=>{tt.execute(a),tt.editing.view.focus()}),Ke})}}class S extends m.Plugin{static get requires(){return[f,d]}static get pluginName(){return"Bold"}}var U=re(181);const I="code";class C extends m.Plugin{static get pluginName(){return"CodeEditing"}static get requires(){return[U.TwoStepCaretMovement]}init(){const tt=this.editor;tt.model.schema.extend("$text",{allowAttributes:I}),tt.model.schema.setAttributeProperties(I,{isFormatting:!0,copyOnEnter:!1}),tt.conversion.attributeToElement({model:I,view:"code",upcastAlso:{styles:{"word-wrap":"break-word"}}}),tt.commands.add(I,new E(tt,I)),tt.plugins.get(U.TwoStepCaretMovement).registerAttribute(I),(0,U.inlineHighlight)(tt,I,"code","ck-code_selected")}}var ge=re(62),pe=re.n(ge),me=re(415),J={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pe()(me.Z,J),me.Z.locals;const ee="code";class Z extends m.Plugin{static get pluginName(){return"CodeUI"}init(){const tt=this.editor,Dt=tt.t;tt.ui.componentFactory.add(ee,ye=>{const Se=tt.commands.get(ee),Ke=new _.ButtonView(ye);return Ke.set({label:Dt("Code"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z"/></svg>',tooltip:!0,isToggleable:!0}),Ke.bind("isOn","isEnabled").to(Se,"value","isEnabled"),this.listenTo(Ke,"execute",()=>{tt.execute(ee),tt.editing.view.focus()}),Ke})}}class h extends m.Plugin{static get requires(){return[C,Z]}static get pluginName(){return"Code"}}const g="italic";class r extends m.Plugin{static get pluginName(){return"ItalicEditing"}init(){const tt=this.editor;tt.model.schema.extend("$text",{allowAttributes:g}),tt.model.schema.setAttributeProperties(g,{isFormatting:!0,copyOnEnter:!0}),tt.conversion.attributeToElement({model:g,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),tt.commands.add(g,new E(tt,g)),tt.keystrokes.set("CTRL+I",g)}}const u="italic";class w extends m.Plugin{static get pluginName(){return"ItalicUI"}init(){const tt=this.editor,Dt=tt.t;tt.ui.componentFactory.add(u,ye=>{const Se=tt.commands.get(u),Ke=new _.ButtonView(ye);return Ke.set({label:Dt("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),Ke.bind("isOn","isEnabled").to(Se,"value","isEnabled"),this.listenTo(Ke,"execute",()=>{tt.execute(u),tt.editing.view.focus()}),Ke})}}class v extends m.Plugin{static get requires(){return[r,w]}static get pluginName(){return"Italic"}}const T="strikethrough";class z extends m.Plugin{static get pluginName(){return"StrikethroughEditing"}init(){const tt=this.editor;tt.model.schema.extend("$text",{allowAttributes:T}),tt.model.schema.setAttributeProperties(T,{isFormatting:!0,copyOnEnter:!0}),tt.conversion.attributeToElement({model:T,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),tt.commands.add(T,new E(tt,T)),tt.keystrokes.set("CTRL+SHIFT+X","strikethrough")}}const L="strikethrough";class x extends m.Plugin{static get pluginName(){return"StrikethroughUI"}init(){const tt=this.editor,Dt=tt.t;tt.ui.componentFactory.add(L,ye=>{const Se=tt.commands.get(L),Ke=new _.ButtonView(ye);return Ke.set({label:Dt("Strikethrough"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>',keystroke:"CTRL+SHIFT+X",tooltip:!0,isToggleable:!0}),Ke.bind("isOn","isEnabled").to(Se,"value","isEnabled"),this.listenTo(Ke,"execute",()=>{tt.execute(L),tt.editing.view.focus()}),Ke})}}class c extends m.Plugin{static get requires(){return[z,x]}static get pluginName(){return"Strikethrough"}}const D="subscript";class W extends m.Plugin{static get pluginName(){return"SubscriptEditing"}init(){const tt=this.editor;tt.model.schema.extend("$text",{allowAttributes:D}),tt.model.schema.setAttributeProperties(D,{isFormatting:!0,copyOnEnter:!0}),tt.conversion.attributeToElement({model:D,view:"sub",upcastAlso:[{styles:{"vertical-align":"sub"}}]}),tt.commands.add(D,new E(tt,D))}}const q="subscript";class ae extends m.Plugin{static get pluginName(){return"SubscriptUI"}init(){const tt=this.editor,Dt=tt.t;tt.ui.componentFactory.add(q,ye=>{const Se=tt.commands.get(q),Ke=new _.ButtonView(ye);return Ke.set({label:Dt("Subscript"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.03 10.349 3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82zm8.147 7.829h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309z"/></svg>',tooltip:!0,isToggleable:!0}),Ke.bind("isOn","isEnabled").to(Se,"value","isEnabled"),this.listenTo(Ke,"execute",()=>{tt.execute(q),tt.editing.view.focus()}),Ke})}}class Ie extends m.Plugin{static get requires(){return[W,ae]}static get pluginName(){return"Subscript"}}const Ve="superscript";class _e extends m.Plugin{static get pluginName(){return"SuperscriptEditing"}init(){const tt=this.editor;tt.model.schema.extend("$text",{allowAttributes:Ve}),tt.model.schema.setAttributeProperties(Ve,{isFormatting:!0,copyOnEnter:!0}),tt.conversion.attributeToElement({model:Ve,view:"sup",upcastAlso:[{styles:{"vertical-align":"super"}}]}),tt.commands.add(Ve,new E(tt,Ve))}}const Me="superscript";class Qe extends m.Plugin{static get pluginName(){return"SuperscriptUI"}init(){const tt=this.editor,Dt=tt.t;tt.ui.componentFactory.add(Me,ye=>{const Se=tt.commands.get(Me),Ke=new _.ButtonView(ye);return Ke.set({label:Dt("Superscript"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.677 8.678h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309zM7.03 10.349l3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82z"/></svg>',tooltip:!0,isToggleable:!0}),Ke.bind("isOn","isEnabled").to(Se,"value","isEnabled"),this.listenTo(Ke,"execute",()=>{tt.execute(Me),tt.editing.view.focus()}),Ke})}}class ut extends m.Plugin{static get requires(){return[_e,Qe]}static get pluginName(){return"Superscript"}}const rt="underline";class qe extends m.Plugin{static get pluginName(){return"UnderlineEditing"}init(){const tt=this.editor;tt.model.schema.extend("$text",{allowAttributes:rt}),tt.model.schema.setAttributeProperties(rt,{isFormatting:!0,copyOnEnter:!0}),tt.conversion.attributeToElement({model:rt,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),tt.commands.add(rt,new E(tt,rt)),tt.keystrokes.set("CTRL+U","underline")}}const et="underline";class Bt extends m.Plugin{static get pluginName(){return"UnderlineUI"}init(){const tt=this.editor,Dt=tt.t;tt.ui.componentFactory.add(et,ye=>{const Se=tt.commands.get(et),Ke=new _.ButtonView(ye);return Ke.set({label:Dt("Underline"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>',keystroke:"CTRL+U",tooltip:!0,isToggleable:!0}),Ke.bind("isOn","isEnabled").to(Se,"value","isEnabled"),this.listenTo(Ke,"execute",()=>{tt.execute(et),tt.editing.view.focus()}),Ke})}}class Nt extends m.Plugin{static get requires(){return[qe,Bt]}static get pluginName(){return"Underline"}}})(),(window.CKEditor5=window.CKEditor5||{}).basicStyles=ii})()},67564:()=>{(function(ti){const Kt=ti.en=ti.en||{};Kt.dictionary=Object.assign(Kt.dictionary||{},{"Block quote":"Block quote"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var ti={446:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}",""]);const a=_},609:m=>{"use strict";m.exports=function(E){var y=[];return y.toString=function(){return this.map(function(f){var _=E(f);return f[2]?"@media ".concat(f[2]," {").concat(_,"}"):_}).join("")},y.i=function(f,_,a){typeof f=="string"&&(f=[[null,f,""]]);var d={};if(a)for(var S=0;S<this.length;S++){var U=this[S][0];U!=null&&(d[U]=!0)}for(var I=0;I<f.length;I++){var C=[].concat(f[I]);a&&d[C[0]]||(_&&(C[2]?C[2]="".concat(_," and ").concat(C[2]):C[2]=_),y.push(C))}},y}},62:(m,E,y)=>{"use strict";var f,_=function(){return f===void 0&&(f=Boolean(window&&document&&document.all&&!window.atob)),f},a=function(){var h={};return function(g){if(h[g]===void 0){var r=document.querySelector(g);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch{r=null}h[g]=r}return h[g]}}(),d=[];function S(h){for(var g=-1,r=0;r<d.length;r++)if(d[r].identifier===h){g=r;break}return g}function U(h,g){for(var r={},u=[],w=0;w<h.length;w++){var v=h[w],T=g.base?v[0]+g.base:v[0],z=r[T]||0,L="".concat(T," ").concat(z);r[T]=z+1;var x=S(L),c={css:v[1],media:v[2],sourceMap:v[3]};x!==-1?(d[x].references++,d[x].updater(c)):d.push({identifier:L,updater:Z(c,g),references:1}),u.push(L)}return u}function I(h){var g=document.createElement("style"),r=h.attributes||{};if(r.nonce===void 0){var u=y.nc;u&&(r.nonce=u)}if(Object.keys(r).forEach(function(v){g.setAttribute(v,r[v])}),typeof h.insert=="function")h.insert(g);else{var w=a(h.insert||"head");if(!w)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");w.appendChild(g)}return g}var C,ge=(C=[],function(h,g){return C[h]=g,C.filter(Boolean).join(`
`)});function pe(h,g,r,u){var w=r?"":u.media?"@media ".concat(u.media," {").concat(u.css,"}"):u.css;if(h.styleSheet)h.styleSheet.cssText=ge(g,w);else{var v=document.createTextNode(w),T=h.childNodes;T[g]&&h.removeChild(T[g]),T.length?h.insertBefore(v,T[g]):h.appendChild(v)}}function me(h,g,r){var u=r.css,w=r.media,v=r.sourceMap;if(w?h.setAttribute("media",w):h.removeAttribute("media"),v&&typeof btoa<"u"&&(u+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(v))))," */")),h.styleSheet)h.styleSheet.cssText=u;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(u))}}var J=null,ee=0;function Z(h,g){var r,u,w;if(g.singleton){var v=ee++;r=J||(J=I(g)),u=pe.bind(null,r,v,!1),w=pe.bind(null,r,v,!0)}else r=I(g),u=me.bind(null,r,g),w=function(){(function(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T)})(r)};return u(h),function(T){if(T){if(T.css===h.css&&T.media===h.media&&T.sourceMap===h.sourceMap)return;u(h=T)}else w()}}m.exports=function(h,g){(g=g||{}).singleton||typeof g.singleton=="boolean"||(g.singleton=_());var r=U(h=h||[],g);return function(u){if(u=u||[],Object.prototype.toString.call(u)==="[object Array]"){for(var w=0;w<r.length;w++){var v=S(r[w]);d[v].references--}for(var T=U(u,g),z=0;z<r.length;z++){var L=S(r[z]);d[L].references===0&&(d[L].updater(),d.splice(L,1))}r=T}}}},704:(m,E,y)=>{m.exports=y(79)("./src/core.js")},331:(m,E,y)=>{m.exports=y(79)("./src/enter.js")},181:(m,E,y)=>{m.exports=y(79)("./src/typing.js")},273:(m,E,y)=>{m.exports=y(79)("./src/ui.js")},209:(m,E,y)=>{m.exports=y(79)("./src/utils.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},Kt={};function re(m){var E=Kt[m];if(E!==void 0)return E.exports;var y=Kt[m]={id:m,exports:{}};return ti[m](y,y.exports,re),y.exports}re.n=m=>{var E=m&&m.__esModule?()=>m.default:()=>m;return re.d(E,{a:E}),E},re.d=(m,E)=>{for(var y in E)re.o(E,y)&&!re.o(m,y)&&Object.defineProperty(m,y,{enumerable:!0,get:E[y]})},re.o=(m,E)=>Object.prototype.hasOwnProperty.call(m,E),re.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},re.nc=void 0;var ii={};(()=>{"use strict";re.r(ii),re.d(ii,{BlockQuote:()=>ee,BlockQuoteEditing:()=>U,BlockQuoteUI:()=>J});var m=re(704),E=re(331),y=re(181),f=re(209);class _ extends m.Command{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(h={}){const g=this.editor.model,r=g.schema,u=g.document.selection,w=Array.from(u.getSelectedBlocks()),v=h.forceValue===void 0?!this.value:h.forceValue;g.change(T=>{if(v){const z=w.filter(L=>a(L)||S(r,L));this._applyQuote(T,z)}else this._removeQuote(T,w.filter(a))})}_getValue(){const h=this.editor.model.document.selection,g=(0,f.first)(h.getSelectedBlocks());return!(!g||!a(g))}_checkEnabled(){if(this.value)return!0;const h=this.editor.model.document.selection,g=this.editor.model.schema,r=(0,f.first)(h.getSelectedBlocks());return!!r&&S(g,r)}_removeQuote(h,g){d(h,g).reverse().forEach(r=>{if(r.start.isAtStart&&r.end.isAtEnd)return void h.unwrap(r.start.parent);if(r.start.isAtStart){const w=h.createPositionBefore(r.start.parent);return void h.move(r,w)}r.end.isAtEnd||h.split(r.end);const u=h.createPositionAfter(r.end.parent);h.move(r,u)})}_applyQuote(h,g){const r=[];d(h,g).reverse().forEach(u=>{let w=a(u.start);w||(w=h.createElement("blockQuote"),h.wrap(u,w)),r.push(w)}),r.reverse().reduce((u,w)=>u.nextSibling==w?(h.merge(h.createPositionAfter(u)),u):w)}}function a(Z){return Z.parent.name=="blockQuote"?Z.parent:null}function d(Z,h){let g,r=0;const u=[];for(;r<h.length;){const w=h[r],v=h[r+1];g||(g=Z.createPositionBefore(w)),v&&w.nextSibling==v||(u.push(Z.createRange(g,Z.createPositionAfter(w))),g=null),r++}return u}function S(Z,h){const g=Z.checkChild(h.parent,"blockQuote"),r=Z.checkChild(["$root","blockQuote"],h);return g&&r}class U extends m.Plugin{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[E.Enter,y.Delete]}init(){const h=this.editor,g=h.model.schema;h.commands.add("blockQuote",new _(h)),g.register("blockQuote",{inheritAllFrom:"$container"}),h.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),h.model.document.registerPostFixer(v=>{const T=h.model.document.differ.getChanges();for(const z of T)if(z.type=="insert"){const L=z.position.nodeAfter;if(!L)continue;if(L.is("element","blockQuote")&&L.isEmpty)return v.remove(L),!0;if(L.is("element","blockQuote")&&!g.checkChild(z.position,L))return v.unwrap(L),!0;if(L.is("element")){const x=v.createRangeIn(L);for(const c of x.getItems())if(c.is("element","blockQuote")&&!g.checkChild(v.createPositionBefore(c),c))return v.unwrap(c),!0}}else if(z.type=="remove"){const L=z.position.parent;if(L.is("element","blockQuote")&&L.isEmpty)return v.remove(L),!0}return!1});const r=this.editor.editing.view.document,u=h.model.document.selection,w=h.commands.get("blockQuote");this.listenTo(r,"enter",(v,T)=>{!u.isCollapsed||!w.value||u.getLastPosition().parent.isEmpty&&(h.execute("blockQuote"),h.editing.view.scrollToTheSelection(),T.preventDefault(),v.stop())},{context:"blockquote"}),this.listenTo(r,"delete",(v,T)=>{if(T.direction!="backward"||!u.isCollapsed||!w.value)return;const z=u.getLastPosition().parent;z.isEmpty&&!z.previousSibling&&(h.execute("blockQuote"),h.editing.view.scrollToTheSelection(),T.preventDefault(),v.stop())},{context:"blockquote"})}}var I=re(273),C=re(62),ge=re.n(C),pe=re(446),me={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ge()(pe.Z,me),pe.Z.locals;class J extends m.Plugin{static get pluginName(){return"BlockQuoteUI"}init(){const h=this.editor,g=h.t;h.ui.componentFactory.add("blockQuote",r=>{const u=h.commands.get("blockQuote"),w=new I.ButtonView(r);return w.set({label:g("Block quote"),icon:m.icons.quote,tooltip:!0,isToggleable:!0}),w.bind("isOn","isEnabled").to(u,"value","isEnabled"),this.listenTo(w,"execute",()=>{h.execute("blockQuote"),h.editing.view.focus()}),w})}}class ee extends m.Plugin{static get requires(){return[U,J]}static get pluginName(){return"BlockQuote"}}})(),(window.CKEditor5=window.CKEditor5||{}).blockQuote=ii})()},15535:()=>{(function(ti){const Kt=ti.en=ti.en||{};Kt.dictionary=Object.assign(Kt.dictionary||{},{"Insert code block":"Insert code block","Plain text":"Plain text"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var ti={67:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,".ck-content pre{background:hsla(0,0%,78%,.3);border:1px solid #c4c4c4;border-radius:2px;color:#353535;direction:ltr;font-style:normal;min-width:200px;padding:1em;tab-size:4;text-align:left;white-space:pre-wrap}.ck-content pre code{background:unset;border-radius:0;padding:0}.ck.ck-editor__editable pre{position:relative}.ck.ck-editor__editable pre[data-language]:after{content:attr(data-language);position:absolute}:root{--ck-color-code-block-label-background:#757575}.ck.ck-editor__editable pre[data-language]:after{background:var(--ck-color-code-block-label-background);color:#fff;font-family:var(--ck-font-face);font-size:10px;line-height:16px;padding:var(--ck-spacing-tiny) var(--ck-spacing-medium);right:10px;top:-1px;white-space:nowrap}.ck.ck-code-block-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}",""]);const a=_},609:m=>{"use strict";m.exports=function(E){var y=[];return y.toString=function(){return this.map(function(f){var _=E(f);return f[2]?"@media ".concat(f[2]," {").concat(_,"}"):_}).join("")},y.i=function(f,_,a){typeof f=="string"&&(f=[[null,f,""]]);var d={};if(a)for(var S=0;S<this.length;S++){var U=this[S][0];U!=null&&(d[U]=!0)}for(var I=0;I<f.length;I++){var C=[].concat(f[I]);a&&d[C[0]]||(_&&(C[2]?C[2]="".concat(_," and ").concat(C[2]):C[2]=_),y.push(C))}},y}},62:(m,E,y)=>{"use strict";var f,_=function(){return f===void 0&&(f=Boolean(window&&document&&document.all&&!window.atob)),f},a=function(){var h={};return function(g){if(h[g]===void 0){var r=document.querySelector(g);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch{r=null}h[g]=r}return h[g]}}(),d=[];function S(h){for(var g=-1,r=0;r<d.length;r++)if(d[r].identifier===h){g=r;break}return g}function U(h,g){for(var r={},u=[],w=0;w<h.length;w++){var v=h[w],T=g.base?v[0]+g.base:v[0],z=r[T]||0,L="".concat(T," ").concat(z);r[T]=z+1;var x=S(L),c={css:v[1],media:v[2],sourceMap:v[3]};x!==-1?(d[x].references++,d[x].updater(c)):d.push({identifier:L,updater:Z(c,g),references:1}),u.push(L)}return u}function I(h){var g=document.createElement("style"),r=h.attributes||{};if(r.nonce===void 0){var u=y.nc;u&&(r.nonce=u)}if(Object.keys(r).forEach(function(v){g.setAttribute(v,r[v])}),typeof h.insert=="function")h.insert(g);else{var w=a(h.insert||"head");if(!w)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");w.appendChild(g)}return g}var C,ge=(C=[],function(h,g){return C[h]=g,C.filter(Boolean).join(`
`)});function pe(h,g,r,u){var w=r?"":u.media?"@media ".concat(u.media," {").concat(u.css,"}"):u.css;if(h.styleSheet)h.styleSheet.cssText=ge(g,w);else{var v=document.createTextNode(w),T=h.childNodes;T[g]&&h.removeChild(T[g]),T.length?h.insertBefore(v,T[g]):h.appendChild(v)}}function me(h,g,r){var u=r.css,w=r.media,v=r.sourceMap;if(w?h.setAttribute("media",w):h.removeAttribute("media"),v&&typeof btoa<"u"&&(u+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(v))))," */")),h.styleSheet)h.styleSheet.cssText=u;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(u))}}var J=null,ee=0;function Z(h,g){var r,u,w;if(g.singleton){var v=ee++;r=J||(J=I(g)),u=pe.bind(null,r,v,!1),w=pe.bind(null,r,v,!0)}else r=I(g),u=me.bind(null,r,g),w=function(){(function(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T)})(r)};return u(h),function(T){if(T){if(T.css===h.css&&T.media===h.media&&T.sourceMap===h.sourceMap)return;u(h=T)}else w()}}m.exports=function(h,g){(g=g||{}).singleton||typeof g.singleton=="boolean"||(g.singleton=_());var r=U(h=h||[],g);return function(u){if(u=u||[],Object.prototype.toString.call(u)==="[object Array]"){for(var w=0;w<r.length;w++){var v=S(r[w]);d[v].references--}for(var T=U(u,g),z=0;z<r.length;z++){var L=S(r[z]);d[L].references===0&&(d[L].updater(),d.splice(L,1))}r=T}}}},704:(m,E,y)=>{m.exports=y(79)("./src/core.js")},492:(m,E,y)=>{m.exports=y(79)("./src/engine.js")},331:(m,E,y)=>{m.exports=y(79)("./src/enter.js")},273:(m,E,y)=>{m.exports=y(79)("./src/ui.js")},209:(m,E,y)=>{m.exports=y(79)("./src/utils.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},Kt={};function re(m){var E=Kt[m];if(E!==void 0)return E.exports;var y=Kt[m]={id:m,exports:{}};return ti[m](y,y.exports,re),y.exports}re.n=m=>{var E=m&&m.__esModule?()=>m.default:()=>m;return re.d(E,{a:E}),E},re.d=(m,E)=>{for(var y in E)re.o(E,y)&&!re.o(m,y)&&Object.defineProperty(m,y,{enumerable:!0,get:E[y]})},re.o=(m,E)=>Object.prototype.hasOwnProperty.call(m,E),re.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},re.nc=void 0;var ii={};(()=>{"use strict";re.r(ii),re.d(ii,{CodeBlock:()=>L,CodeBlockEditing:()=>Z,CodeBlockUI:()=>z});var m=re(704),E=re(331),y=re(492),f=re(209);function _(x){const c=x.t,D=x.config.get("codeBlock.languages");for(const W of D)W.label==="Plain text"&&(W.label=c("Plain text")),W.class===void 0&&(W.class=`language-${W.language}`);return D}function a(x,c,D){const W={};for(const q of x)c==="class"?W[q[c].split(" ").shift()]=q[D]:W[q[c]]=q[D];return W}function d(x){return x.data.match(/^(\s*)/)[0]}function S(x){const c=x.document.selection,D=[];if(c.isCollapsed)return[c.anchor];const W=c.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"});for(const{item:q}of W){if(!q.is("$textProxy"))continue;const{parent:ae,startOffset:Ie}=q.textNode;if(!ae.is("element","codeBlock"))continue;const Ve=d(q.textNode),_e=x.createPositionAt(ae,Ie+Ve.length);D.push(_e)}return D}function U(x){const c=(0,f.first)(x.getSelectedBlocks());return!!c&&c.is("element","codeBlock")}function I(x,c){return!c.is("rootElement")&&!x.isLimit(c)&&x.checkChild(c.parent,"codeBlock")}class C extends m.Command{constructor(c){super(c),this._lastLanguage=null}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(c={}){const D=this.editor,W=D.model,q=W.document.selection,ae=_(D)[0],Ie=Array.from(q.getSelectedBlocks()),Ve=c.forceValue==null?!this.value:c.forceValue,_e=function(Me,Qe,ut){return Me.language?Me.language:Me.usePreviousLanguageChoice&&Qe?Qe:ut}(c,this._lastLanguage,ae.language);W.change(Me=>{Ve?this._applyCodeBlock(Me,Ie,_e):this._removeCodeBlock(Me,Ie)})}_getValue(){const c=this.editor.model.document.selection,D=(0,f.first)(c.getSelectedBlocks());return!(!D||!D.is("element","codeBlock"))&&D.getAttribute("language")}_checkEnabled(){if(this.value)return!0;const c=this.editor.model.document.selection,D=this.editor.model.schema,W=(0,f.first)(c.getSelectedBlocks());return!!W&&I(D,W)}_applyCodeBlock(c,D,W){this._lastLanguage=W;const q=this.editor.model.schema,ae=D.filter(Ie=>I(q,Ie));for(const Ie of ae)c.rename(Ie,"codeBlock"),c.setAttribute("language",W,Ie),q.removeDisallowedAttributes([Ie],c),Array.from(Ie.getChildren()).filter(Ve=>!q.checkChild(Ie,Ve)).forEach(Ve=>c.remove(Ve));ae.reverse().forEach((Ie,Ve)=>{const _e=ae[Ve+1];Ie.previousSibling===_e&&(c.appendElement("softBreak",_e),c.merge(c.createPositionBefore(Ie)))})}_removeCodeBlock(c,D){const W=D.filter(q=>q.is("element","codeBlock"));for(const q of W){const ae=c.createRangeOn(q);for(const Ie of Array.from(ae.getItems()).reverse())if(Ie.is("element","softBreak")&&Ie.parent.is("element","codeBlock")){const{position:Ve}=c.split(c.createPositionBefore(Ie)),_e=Ve.nodeAfter;c.rename(_e,"paragraph"),c.removeAttribute("language",_e),c.remove(Ie)}c.rename(q,"paragraph"),c.removeAttribute("language",q)}}}class ge extends m.Command{constructor(c){super(c),this._indentSequence=c.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const c=this.editor.model;c.change(D=>{const W=S(c);for(const q of W){const ae=D.createText(this._indentSequence);c.insertContent(ae,q)}})}_checkEnabled(){return!!this._indentSequence&&U(this.editor.model.document.selection)}}class pe extends m.Command{constructor(c){super(c),this._indentSequence=c.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const c=this.editor.model;c.change(()=>{const D=S(c);for(const W of D){const q=me(c,W,this._indentSequence);q&&c.deleteContent(c.createSelection(q))}})}_checkEnabled(){if(!this._indentSequence)return!1;const c=this.editor.model;return!!U(c.document.selection)&&S(c).some(D=>me(c,D,this._indentSequence))}}function me(x,c,D){const W=function(_e){let Me=_e.parent.getChild(_e.index);return Me&&!Me.is("element","softBreak")||(Me=_e.nodeBefore),!Me||Me.is("element","softBreak")?null:Me}(c);if(!W)return null;const q=d(W),ae=q.lastIndexOf(D);if(ae+D.length!==q.length||ae===-1)return null;const{parent:Ie,startOffset:Ve}=W;return x.createRange(x.createPositionAt(Ie,Ve+ae),x.createPositionAt(Ie,Ve+ae+D.length))}function J(x,c,D=!1){const W=a(c,"language","class"),q=a(c,"language","label");return(ae,Ie,Ve)=>{const{writer:_e,mapper:Me,consumable:Qe}=Ve;if(!Qe.consume(Ie.item,"insert"))return;const ut=Ie.item.getAttribute("language"),rt=Me.toViewPosition(x.createPositionBefore(Ie.item)),qe={};D&&(qe["data-language"]=q[ut],qe.spellcheck="false");const et=W[ut]?{class:W[ut]}:void 0,Bt=_e.createContainerElement("code",et),Nt=_e.createContainerElement("pre",qe,Bt);_e.insert(rt,Nt),Me.bindElements(Ie.item,Bt)}}const ee="paragraph";class Z extends m.Plugin{static get pluginName(){return"CodeBlockEditing"}static get requires(){return[E.ShiftEnter]}constructor(c){super(c),c.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"	"})}init(){const c=this.editor,D=c.model.schema,W=c.model,q=c.editing.view,ae=c.plugins.has("DocumentListEditing"),Ie=_(c);c.commands.add("codeBlock",new C(c)),c.commands.add("indentCodeBlock",new ge(c)),c.commands.add("outdentCodeBlock",new pe(c)),this.listenTo(q.document,"tab",(Ve,_e)=>{const Me=_e.shiftKey?"outdentCodeBlock":"indentCodeBlock";c.commands.get(Me).isEnabled&&(c.execute(Me),_e.stopPropagation(),_e.preventDefault(),Ve.stop())},{context:"pre"}),D.register("codeBlock",{allowWhere:"$block",allowChildren:"$text",isBlock:!0,allowAttributes:["language"]}),D.addAttributeCheck((Ve,_e)=>{const Me=Ve.endsWith("codeBlock")&&_e.startsWith("list")&&_e!=="list";return!(!ae||!Me)||!Ve.endsWith("codeBlock $text")&&void 0}),c.model.schema.addChildCheck((Ve,_e)=>{if(Ve.endsWith("codeBlock")&&_e.isObject)return!1}),c.editing.downcastDispatcher.on("insert:codeBlock",J(W,Ie,!0)),c.data.downcastDispatcher.on("insert:codeBlock",J(W,Ie)),c.data.downcastDispatcher.on("insert:softBreak",function(Ve){return(_e,Me,Qe)=>{if(Me.item.parent.name!=="codeBlock")return;const{writer:ut,mapper:rt,consumable:qe}=Qe;if(!qe.consume(Me.item,"insert"))return;const et=rt.toViewPosition(Ve.createPositionBefore(Me.item));ut.insert(et,ut.createText(`
`))}}(W),{priority:"high"}),c.data.upcastDispatcher.on("element:code",function(Ve,_e){const Me=a(_e,"class","language"),Qe=_e[0].language;return(ut,rt,qe)=>{const et=rt.viewItem,Bt=et.parent;if(!Bt||!Bt.is("element","pre")||rt.modelCursor.findAncestor("codeBlock"))return;const{consumable:Nt,writer:xt}=qe;if(!Nt.test(et,{name:!0}))return;const tt=xt.createElement("codeBlock"),Dt=[...et.getClassNames()];Dt.length||Dt.push("");for(const ye of Dt){const Se=Me[ye];if(Se){xt.setAttribute("language",Se,tt);break}}tt.hasAttribute("language")||xt.setAttribute("language",Qe,tt),qe.convertChildren(et,tt),qe.safeInsert(tt,rt.modelCursor)&&(Nt.consume(et,{name:!0}),qe.updateConversionResult(tt,rt))}}(0,Ie)),c.data.upcastDispatcher.on("text",(Ve,_e,{consumable:Me,writer:Qe})=>{let ut=_e.modelCursor;if(!Me.test(_e.viewItem)||!ut.findAncestor("codeBlock"))return;Me.consume(_e.viewItem);const rt=_e.viewItem.data.split(`
`).map(et=>Qe.createText(et)),qe=rt[rt.length-1];for(const et of rt)if(Qe.insert(et,ut),ut=ut.getShiftedBy(et.offsetSize),et!==qe){const Bt=Qe.createElement("softBreak");Qe.insert(Bt,ut),ut=Qe.createPositionAfter(Bt)}_e.modelRange=Qe.createRange(_e.modelCursor,ut),_e.modelCursor=ut}),c.data.upcastDispatcher.on("element:pre",(Ve,_e,{consumable:Me})=>{const Qe=_e.viewItem;if(Qe.findAncestor("pre"))return;const ut=Array.from(Qe.getChildren()),rt=ut.find(qe=>qe.is("element","code"));if(rt)for(const qe of ut)qe!==rt&&qe.is("$text")&&Me.consume(qe,{name:!0})},{priority:"high"}),this.listenTo(c.editing.view.document,"clipboardInput",(Ve,_e)=>{let Me=W.createRange(W.document.selection.anchor);if(_e.targetRanges&&(Me=c.editing.mapper.toModelRange(_e.targetRanges[0])),!Me.start.parent.is("element","codeBlock"))return;const Qe=_e.dataTransfer.getData("text/plain"),ut=new y.UpcastWriter(c.editing.view.document);_e.content=function(rt,qe){const et=rt.createDocumentFragment(),Bt=qe.split(`
`),Nt=Bt.reduce((xt,tt,Dt)=>(xt.push(tt),Dt<Bt.length-1&&xt.push(rt.createElement("br")),xt),[]);return rt.appendChild(Nt,et),et}(ut,Qe)}),this.listenTo(W,"getSelectedContent",(Ve,[_e])=>{const Me=_e.anchor;!_e.isCollapsed&&Me.parent.is("element","codeBlock")&&Me.hasSameParentAs(_e.focus)&&W.change(Qe=>{const ut=Ve.return;if(Me.parent.is("element")&&(ut.childCount>1||_e.containsEntireContent(Me.parent))){const qe=Qe.createElement("codeBlock",Me.parent.getAttributes());Qe.append(ut,qe);const et=Qe.createDocumentFragment();return Qe.append(qe,et),void(Ve.return=et)}const rt=ut.getChild(0);D.checkAttribute(rt,"code")&&Qe.setAttribute("code",!0,rt)})})}afterInit(){const c=this.editor,D=c.commands,W=D.get("indent"),q=D.get("outdent");W&&W.registerChildCommand(D.get("indentCodeBlock"),{priority:"highest"}),q&&q.registerChildCommand(D.get("outdentCodeBlock")),this.listenTo(c.editing.view.document,"enter",(ae,Ie)=>{c.model.document.selection.getLastPosition().parent.is("element","codeBlock")&&(function(Ve,_e){const Me=Ve.model,Qe=Me.document,ut=Ve.editing.view,rt=Qe.selection.getLastPosition(),qe=rt.nodeAfter;return _e||!Qe.selection.isCollapsed||!rt.isAtStart||!g(qe)?!1:(Ve.model.change(et=>{Ve.execute("enter");const Bt=Qe.selection.anchor.parent.previousSibling;et.rename(Bt,ee),et.setSelection(Bt,"in"),Ve.model.schema.removeDisallowedAttributes([Bt],et),et.remove(qe)}),ut.scrollToTheSelection(),!0)}(c,Ie.isSoft)||function(Ve,_e){const Me=Ve.model,Qe=Me.document,ut=Ve.editing.view,rt=Qe.selection.getLastPosition(),qe=rt.nodeBefore;let et;if(_e||!Qe.selection.isCollapsed||!rt.isAtEnd||!qe||!qe.previousSibling)return!1;if(g(qe)&&g(qe.previousSibling))et=Me.createRange(Me.createPositionBefore(qe.previousSibling),Me.createPositionAfter(qe));else if(h(qe)&&g(qe.previousSibling)&&g(qe.previousSibling.previousSibling))et=Me.createRange(Me.createPositionBefore(qe.previousSibling.previousSibling),Me.createPositionAfter(qe));else{if(!(h(qe)&&g(qe.previousSibling)&&h(qe.previousSibling.previousSibling)&&qe.previousSibling.previousSibling&&g(qe.previousSibling.previousSibling.previousSibling)))return!1;et=Me.createRange(Me.createPositionBefore(qe.previousSibling.previousSibling.previousSibling),Me.createPositionAfter(qe))}return Ve.model.change(Bt=>{Bt.remove(et),Ve.execute("enter");const Nt=Qe.selection.anchor.parent;Bt.rename(Nt,ee),Ve.model.schema.removeDisallowedAttributes([Nt],Bt)}),ut.scrollToTheSelection(),!0}(c,Ie.isSoft)||function(Ve){const _e=Ve.model,Me=_e.document,Qe=Me.selection.getLastPosition(),ut=Qe.nodeBefore||Qe.textNode;let rt;ut&&ut.is("$text")&&(rt=d(ut)),Ve.model.change(qe=>{Ve.execute("shiftEnter"),rt&&qe.insertText(rt,Me.selection.anchor)})}(c),Ie.preventDefault(),ae.stop())},{context:"pre"})}}function h(x){return x&&x.is("$text")&&!x.data.match(/\S/)}function g(x){return x&&x.is("element","softBreak")}var r=re(273),u=re(62),w=re.n(u),v=re(67),T={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};w()(v.Z,T),v.Z.locals;class z extends m.Plugin{static get pluginName(){return"CodeBlockUI"}init(){const c=this.editor,D=c.t,W=c.ui.componentFactory,q=_(c);W.add("codeBlock",ae=>{const Ie=c.commands.get("codeBlock"),Ve=(0,r.createDropdown)(ae,r.SplitButtonView),_e=Ve.buttonView;return _e.set({label:D("Insert code block"),tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',isToggleable:!0}),_e.bind("isOn").to(Ie,"value",Me=>!!Me),_e.on("execute",()=>{c.execute("codeBlock",{usePreviousLanguageChoice:!0}),c.editing.view.focus()}),Ve.on("execute",Me=>{c.execute("codeBlock",{language:Me.source._codeBlockLanguage,forceValue:!0}),c.editing.view.focus()}),Ve.class="ck-code-block-dropdown",Ve.bind("isEnabled").to(Ie),(0,r.addListToDropdown)(Ve,()=>this._getLanguageListItemDefinitions(q)),Ve})}_getLanguageListItemDefinitions(c){const D=this.editor.commands.get("codeBlock"),W=new f.Collection;for(const q of c){const ae={type:"button",model:new r.Model({_codeBlockLanguage:q.language,label:q.label,withText:!0})};ae.model.bind("isOn").to(D,"value",Ie=>Ie===ae.model._codeBlockLanguage),W.add(ae)}return W}}class L extends m.Plugin{static get requires(){return[Z,z]}static get pluginName(){return"CodeBlock"}}})(),(window.CKEditor5=window.CKEditor5||{}).codeBlock=ii})()},3108:(ti,Kt,re)=>{/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var ii={655:(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a(609),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}",""]);const U=S},609:f=>{"use strict";f.exports=function(_){var a=[];return a.toString=function(){return this.map(function(d){var S=_(d);return d[2]?"@media ".concat(d[2]," {").concat(S,"}"):S}).join("")},a.i=function(d,S,U){typeof d=="string"&&(d=[[null,d,""]]);var I={};if(U)for(var C=0;C<this.length;C++){var ge=this[C][0];ge!=null&&(I[ge]=!0)}for(var pe=0;pe<d.length;pe++){var me=[].concat(d[pe]);U&&I[me[0]]||(S&&(me[2]?me[2]="".concat(S," and ").concat(me[2]):me[2]=S),a.push(me))}},a}},62:(f,_,a)=>{"use strict";var d,S=function(){return d===void 0&&(d=Boolean(window&&document&&document.all&&!window.atob)),d},U=function(){var u={};return function(w){if(u[w]===void 0){var v=document.querySelector(w);if(window.HTMLIFrameElement&&v instanceof window.HTMLIFrameElement)try{v=v.contentDocument.head}catch{v=null}u[w]=v}return u[w]}}(),I=[];function C(u){for(var w=-1,v=0;v<I.length;v++)if(I[v].identifier===u){w=v;break}return w}function ge(u,w){for(var v={},T=[],z=0;z<u.length;z++){var L=u[z],x=w.base?L[0]+w.base:L[0],c=v[x]||0,D="".concat(x," ").concat(c);v[x]=c+1;var W=C(D),q={css:L[1],media:L[2],sourceMap:L[3]};W!==-1?(I[W].references++,I[W].updater(q)):I.push({identifier:D,updater:r(q,w),references:1}),T.push(D)}return T}function pe(u){var w=document.createElement("style"),v=u.attributes||{};if(v.nonce===void 0){var T=a.nc;T&&(v.nonce=T)}if(Object.keys(v).forEach(function(L){w.setAttribute(L,v[L])}),typeof u.insert=="function")u.insert(w);else{var z=U(u.insert||"head");if(!z)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");z.appendChild(w)}return w}var me,J=(me=[],function(u,w){return me[u]=w,me.filter(Boolean).join(`
`)});function ee(u,w,v,T){var z=v?"":T.media?"@media ".concat(T.media," {").concat(T.css,"}"):T.css;if(u.styleSheet)u.styleSheet.cssText=J(w,z);else{var L=document.createTextNode(z),x=u.childNodes;x[w]&&u.removeChild(x[w]),x.length?u.insertBefore(L,x[w]):u.appendChild(L)}}function Z(u,w,v){var T=v.css,z=v.media,L=v.sourceMap;if(z?u.setAttribute("media",z):u.removeAttribute("media"),L&&typeof btoa<"u"&&(T+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(L))))," */")),u.styleSheet)u.styleSheet.cssText=T;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(T))}}var h=null,g=0;function r(u,w){var v,T,z;if(w.singleton){var L=g++;v=h||(h=pe(w)),T=ee.bind(null,v,L,!1),z=ee.bind(null,v,L,!0)}else v=pe(w),T=Z.bind(null,v,w),z=function(){(function(x){if(x.parentNode===null)return!1;x.parentNode.removeChild(x)})(v)};return T(u),function(x){if(x){if(x.css===u.css&&x.media===u.media&&x.sourceMap===u.sourceMap)return;T(u=x)}else z()}}f.exports=function(u,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=S());var v=ge(u=u||[],w);return function(T){if(T=T||[],Object.prototype.toString.call(T)==="[object Array]"){for(var z=0;z<v.length;z++){var L=C(v[z]);I[L].references--}for(var x=ge(T,w),c=0;c<v.length;c++){var D=C(v[c]);I[D].references===0&&(I[D].updater(),I.splice(D,1))}v=x}}}},704:(f,_,a)=>{f.exports=a(79)("./src/core.js")},492:(f,_,a)=>{f.exports=a(79)("./src/engine.js")},273:(f,_,a)=>{f.exports=a(79)("./src/ui.js")},209:(f,_,a)=>{f.exports=a(79)("./src/utils.js")},79:f=>{"use strict";f.exports=CKEditor5.dll}},m={};function E(f){var _=m[f];if(_!==void 0)return _.exports;var a=m[f]={id:f,exports:{}};return ii[f](a,a.exports,E),a.exports}E.n=f=>{var _=f&&f.__esModule?()=>f.default:()=>f;return E.d(_,{a:_}),_},E.d=(f,_)=>{for(var a in _)E.o(_,a)&&!E.o(f,a)&&Object.defineProperty(f,a,{enumerable:!0,get:_[a]})},E.o=(f,_)=>Object.prototype.hasOwnProperty.call(f,_),E.r=f=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},E.nc=void 0;var y={};(()=>{"use strict";E.r(y),E.d(y,{ClassicEditor:()=>ut});var f=E(273),_=E(492),a=E(209);class d extends f.EditorUI{constructor(et,Bt){super(et),this.view=Bt,this._toolbarConfig=(0,f.normalizeToolbarConfig)(et.config.get("toolbar")),this._elementReplacer=new a.ElementReplacer}get element(){return this.view.element}init(et){const Bt=this.editor,Nt=this.view,xt=Bt.editing.view,tt=Nt.editable,Dt=xt.document.getRoot();tt.name=Dt.rootName,Nt.render();const ye=tt.element;this.setEditableElement(tt.name,ye),Nt.editable.bind("isFocused").to(this.focusTracker),xt.attachDomRoot(ye),et&&this._elementReplacer.replace(et,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const et=this.view,Bt=this.editor.editing.view;this._elementReplacer.restore(),Bt.detachDomRoot(et.editable.name),et.destroy()}_initToolbar(){const et=this.view;et.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),et.stickyPanel.limiterElement=et.element,et.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:Bt})=>Bt||0),et.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(et.toolbar)}_initPlaceholder(){const et=this.editor,Bt=et.editing.view,Nt=Bt.document.getRoot(),xt=et.sourceElement,tt=et.config.get("placeholder")||xt&&xt.tagName.toLowerCase()==="textarea"&&xt.getAttribute("placeholder");tt&&(0,_.enablePlaceholder)({view:Bt,element:Nt,text:tt,isDirectHost:!1,keepOnFocus:!0})}}var S=E(62),U=E.n(S),I=E(655),C={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};U()(I.Z,C),I.Z.locals;class ge extends f.BoxedEditorUIView{constructor(et,Bt,Nt={}){super(et),this.stickyPanel=new f.StickyPanelView(et),this.toolbar=new f.ToolbarView(et,{shouldGroupWhenFull:Nt.shouldToolbarGroupWhenFull}),this.editable=new f.InlineEditableUIView(et,Bt)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}var pe=E(704);const me=function(qe){return qe!=null&&typeof qe=="object"},J=typeof re.g=="object"&&re.g&&re.g.Object===Object&&re.g;var ee=typeof self=="object"&&self&&self.Object===Object&&self;const Z=(J||ee||Function("return this")()).Symbol;var h=Object.prototype,g=h.hasOwnProperty,r=h.toString,u=Z?Z.toStringTag:void 0;const w=function(qe){var et=g.call(qe,u),Bt=qe[u];try{qe[u]=void 0;var Nt=!0}catch{}var xt=r.call(qe);return Nt&&(et?qe[u]=Bt:delete qe[u]),xt};var v=Object.prototype.toString;const T=function(qe){return v.call(qe)};var z="[object Null]",L="[object Undefined]",x=Z?Z.toStringTag:void 0;const c=function(qe){return qe==null?qe===void 0?L:z:x&&x in Object(qe)?w(qe):T(qe)},D=function(qe,et){return function(Bt){return qe(et(Bt))}}(Object.getPrototypeOf,Object);var W="[object Object]",q=Function.prototype,ae=Object.prototype,Ie=q.toString,Ve=ae.hasOwnProperty,_e=Ie.call(Object);const Me=function(qe){if(!me(qe)||c(qe)!=W)return!1;var et=D(qe);if(et===null)return!0;var Bt=Ve.call(et,"constructor")&&et.constructor;return typeof Bt=="function"&&Bt instanceof Bt&&Ie.call(Bt)==_e},Qe=function(qe){return me(qe)&&qe.nodeType===1&&!Me(qe)};class ut extends(0,pe.DataApiMixin)((0,pe.ElementApiMixin)(pe.Editor)){constructor(et,Bt={}){if(!rt(et)&&Bt.initialData!==void 0)throw new a.CKEditorError("editor-create-initial-data",null);super(Bt),this.config.get("initialData")===void 0&&this.config.set("initialData",function(tt){return rt(tt)?(0,a.getDataFromElement)(tt):tt}(et)),rt(et)&&(this.sourceElement=et),this.model.document.createRoot();const Nt=!this.config.get("toolbar.shouldNotGroupWhenFull"),xt=new ge(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:Nt});this.ui=new d(this,xt),(0,pe.attachToForm)(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(et,Bt={}){return new Promise(Nt=>{const xt=new this(et,Bt);Nt(xt.initPlugins().then(()=>xt.ui.init(rt(et)?et:null)).then(()=>xt.data.init(xt.config.get("initialData"))).then(()=>xt.fire("ready")).then(()=>xt))})}}function rt(qe){return Qe(qe)}})(),(window.CKEditor5=window.CKEditor5||{}).editorClassic=y})()},29410:()=>{/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var ti={945:(m,E,y)=>{m.exports=y(79)("./src/clipboard.js")},704:(m,E,y)=>{m.exports=y(79)("./src/core.js")},331:(m,E,y)=>{m.exports=y(79)("./src/enter.js")},468:(m,E,y)=>{m.exports=y(79)("./src/select-all.js")},181:(m,E,y)=>{m.exports=y(79)("./src/typing.js")},254:(m,E,y)=>{m.exports=y(79)("./src/undo.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},Kt={};function re(m){var E=Kt[m];if(E!==void 0)return E.exports;var y=Kt[m]={exports:{}};return ti[m](y,y.exports,re),y.exports}re.d=(m,E)=>{for(var y in E)re.o(E,y)&&!re.o(m,y)&&Object.defineProperty(m,y,{enumerable:!0,get:E[y]})},re.o=(m,E)=>Object.prototype.hasOwnProperty.call(m,E),re.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})};var ii={};(()=>{"use strict";re.r(ii),re.d(ii,{Essentials:()=>d});var m=re(704),E=re(945),y=re(331),f=re(468),_=re(181),a=re(254);class d extends m.Plugin{static get requires(){return[E.Clipboard,y.Enter,f.SelectAll,y.ShiftEnter,_.Typing,a.Undo]}static get pluginName(){return"Essentials"}}})(),(window.CKEditor5=window.CKEditor5||{}).essentials=ii})()},46609:(ti,Kt,re)=>{(function(ii){const m=ii.en=ii.en||{};m.dictionary=Object.assign(m.dictionary||{},{Find:"Find","Find and replace":"Find and replace","Find in text\u2026":"Find in text\u2026","Match case":"Match case","Next result":"Next result","Previous result":"Previous result",Replace:"Replace","Replace all":"Replace all","Replace with\u2026":"Replace with\u2026","Show options":"Show options","Text to find must not be empty.":"Text to find must not be empty.","Tip: Find some text first in order to replace it.":"Tip: Find some text first in order to replace it.","Whole words only":"Whole words only"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var ii={299:(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a(609),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck-find-result{background:var(--ck-color-highlight-background);color:var(--ck-color-text)}.ck-find-result_selected{background:#ff9633}",""]);const U=S},226:(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a(609),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck.ck-find-and-replace-form{max-width:100%}.ck.ck-find-and-replace-form fieldset{display:flex}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{position:absolute}.ck.ck-find-and-replace-form{width:400px}.ck.ck-find-and-replace-form:focus{outline:none}.ck.ck-find-and-replace-form fieldset{align-content:stretch;align-items:center;border:0;flex-direction:row;flex-wrap:nowrap;margin:0;padding:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset>.ck-button{flex:0 0 auto}[dir=ltr] .ck.ck-find-and-replace-form fieldset>*+*{margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-find-and-replace-form fieldset>*+*{margin-right:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form fieldset .ck-labeled-field-view{flex:1 1 auto}.ck.ck-find-and-replace-form fieldset .ck-labeled-field-view .ck-input{min-width:50px;width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find{align-items:flex-start}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-find{font-weight:700}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-find .ck-button__label{padding-left:var(--ck-spacing-large);padding-right:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-prev>.ck-icon{transform:rotate(90deg)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-next>.ck-icon{transform:rotate(-90deg)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{left:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{color:var(--ck-color-base-border)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace{flex-wrap:wrap;justify-content:flex-end;margin-top:calc(var(--ck-spacing-large)*-1)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view{margin-bottom:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-options-dropdown{margin-left:0;margin-right:auto}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view,.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view .ck-input{width:100%}@media screen and (max-width:600px){.ck.ck-find-and-replace-form{width:300px}.ck.ck-find-and-replace-form fieldset{flex-wrap:wrap}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-labeled-field-view{flex:1 0 auto;margin-bottom:var(--ck-spacing-standard);width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button{text-align:center}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{flex:1 1 auto}[dir=ltr] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{margin-left:0}[dir=rtl] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{margin-right:0}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type .ck-button__label{text-align:center;width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>:not(.ck-labeled-field-view){flex:1 1 auto}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-dropdown:not(.ck-labeled-field-view){flex-grow:0}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-button:not(.ck-labeled-field-view)>.ck-button__label{text-align:center;width:100%}}",""]);const U=S},764:(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a(609),S=a.n(d)()(function(I){return I[1]});S.push([f.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const U=S},609:f=>{"use strict";f.exports=function(_){var a=[];return a.toString=function(){return this.map(function(d){var S=_(d);return d[2]?"@media ".concat(d[2]," {").concat(S,"}"):S}).join("")},a.i=function(d,S,U){typeof d=="string"&&(d=[[null,d,""]]);var I={};if(U)for(var C=0;C<this.length;C++){var ge=this[C][0];ge!=null&&(I[ge]=!0)}for(var pe=0;pe<d.length;pe++){var me=[].concat(d[pe]);U&&I[me[0]]||(S&&(me[2]?me[2]="".concat(S," and ").concat(me[2]):me[2]=S),a.push(me))}},a}},62:(f,_,a)=>{"use strict";var d,S=function(){return d===void 0&&(d=Boolean(window&&document&&document.all&&!window.atob)),d},U=function(){var u={};return function(w){if(u[w]===void 0){var v=document.querySelector(w);if(window.HTMLIFrameElement&&v instanceof window.HTMLIFrameElement)try{v=v.contentDocument.head}catch{v=null}u[w]=v}return u[w]}}(),I=[];function C(u){for(var w=-1,v=0;v<I.length;v++)if(I[v].identifier===u){w=v;break}return w}function ge(u,w){for(var v={},T=[],z=0;z<u.length;z++){var L=u[z],x=w.base?L[0]+w.base:L[0],c=v[x]||0,D="".concat(x," ").concat(c);v[x]=c+1;var W=C(D),q={css:L[1],media:L[2],sourceMap:L[3]};W!==-1?(I[W].references++,I[W].updater(q)):I.push({identifier:D,updater:r(q,w),references:1}),T.push(D)}return T}function pe(u){var w=document.createElement("style"),v=u.attributes||{};if(v.nonce===void 0){var T=a.nc;T&&(v.nonce=T)}if(Object.keys(v).forEach(function(L){w.setAttribute(L,v[L])}),typeof u.insert=="function")u.insert(w);else{var z=U(u.insert||"head");if(!z)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");z.appendChild(w)}return w}var me,J=(me=[],function(u,w){return me[u]=w,me.filter(Boolean).join(`
`)});function ee(u,w,v,T){var z=v?"":T.media?"@media ".concat(T.media," {").concat(T.css,"}"):T.css;if(u.styleSheet)u.styleSheet.cssText=J(w,z);else{var L=document.createTextNode(z),x=u.childNodes;x[w]&&u.removeChild(x[w]),x.length?u.insertBefore(L,x[w]):u.appendChild(L)}}function Z(u,w,v){var T=v.css,z=v.media,L=v.sourceMap;if(z?u.setAttribute("media",z):u.removeAttribute("media"),L&&typeof btoa<"u"&&(T+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(L))))," */")),u.styleSheet)u.styleSheet.cssText=T;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(T))}}var h=null,g=0;function r(u,w){var v,T,z;if(w.singleton){var L=g++;v=h||(h=pe(w)),T=ee.bind(null,v,L,!1),z=ee.bind(null,v,L,!0)}else v=pe(w),T=Z.bind(null,v,w),z=function(){(function(x){if(x.parentNode===null)return!1;x.parentNode.removeChild(x)})(v)};return T(u),function(x){if(x){if(x.css===u.css&&x.media===u.media&&x.sourceMap===u.sourceMap)return;T(u=x)}else z()}}f.exports=function(u,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=S());var v=ge(u=u||[],w);return function(T){if(T=T||[],Object.prototype.toString.call(T)==="[object Array]"){for(var z=0;z<v.length;z++){var L=C(v[z]);I[L].references--}for(var x=ge(T,w),c=0;c<v.length;c++){var D=C(v[c]);I[D].references===0&&(I[D].updater(),I.splice(D,1))}v=x}}}},704:(f,_,a)=>{f.exports=a(79)("./src/core.js")},273:(f,_,a)=>{f.exports=a(79)("./src/ui.js")},209:(f,_,a)=>{f.exports=a(79)("./src/utils.js")},79:f=>{"use strict";f.exports=CKEditor5.dll}},m={};function E(f){var _=m[f];if(_!==void 0)return _.exports;var a=m[f]={id:f,exports:{}};return ii[f](a,a.exports,E),a.exports}E.n=f=>{var _=f&&f.__esModule?()=>f.default:()=>f;return E.d(_,{a:_}),_},E.d=(f,_)=>{for(var a in _)E.o(_,a)&&!E.o(f,a)&&Object.defineProperty(f,a,{enumerable:!0,get:_[a]})},E.o=(f,_)=>Object.prototype.hasOwnProperty.call(f,_),E.r=f=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},E.nc=void 0;var y={};(()=>{"use strict";E.r(y),E.d(y,{FindAndReplace:()=>F,FindAndReplaceUtils:()=>kt});var f=E(704),_=E(273),a=E(209),d=E(62),S=E.n(d),U=E(764),I={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};S()(U.Z,I),U.Z.locals;var C=E(226),ge={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};S()(C.Z,ge),C.Z.locals;const pe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>';class me extends _.View{constructor(N){super(N);const de=N.t;this.set("matchCount",0),this.set("highlightOffset",0),this.set("isDirty",!1),this.set("_areCommandsEnabled",{}),this.set("_resultsCounterText",""),this.set("_matchCase",!1),this.set("_wholeWordsOnly",!1),this.bind("_searchResultsFound").to(this,"matchCount",this,"isDirty",(Ce,Ze)=>Ce>0&&!Ze),this._findInputView=this._createInputField(de("Find in text\u2026")),this._replaceInputView=this._createInputField(de("Replace with\u2026")),this._findButtonView=this._createButton({label:de("Find"),class:"ck-button-find ck-button-action",withText:!0}),this._findPrevButtonView=this._createButton({label:de("Previous result"),class:"ck-button-prev",icon:pe,keystroke:"Shift+F3",tooltip:!0}),this._findNextButtonView=this._createButton({label:de("Next result"),class:"ck-button-next",icon:pe,keystroke:"F3",tooltip:!0}),this._optionsDropdown=this._createOptionsDropdown(),this._replaceButtonView=this._createButton({label:de("Replace"),class:"ck-button-replace",withText:!0}),this._replaceAllButtonView=this._createButton({label:de("Replace all"),class:"ck-button-replaceall",withText:!0}),this._findFieldsetView=this._createFindFieldset(),this._replaceFieldsetView=this._createReplaceFieldset(),this._focusTracker=new a.FocusTracker,this._keystrokes=new a.KeystrokeHandler,this._focusables=new _.ViewCollection,this._focusCycler=new _.FocusCycler({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this._keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-find-and-replace-form"],tabindex:"-1"},children:[new _.FormHeaderView(N,{label:de("Find and replace")}),this._findFieldsetView,this._replaceFieldsetView]}),(0,_.injectCssTransitionDisabler)(this)}render(){super.render(),(0,_.submitHandler)({view:this}),this._initFocusCycling(),this._initKeystrokeHandling()}destroy(){super.destroy(),this._focusTracker.destroy(),this._keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}reset(){this._findInputView.errorText=null,this.isDirty=!0}get _textToFind(){return this._findInputView.fieldView.element.value}get _textToReplace(){return this._replaceInputView.fieldView.element.value}_createFindFieldset(){const N=this.locale,de=new _.View(N);return this._findInputView.fieldView.on("input",()=>{this.isDirty=!0}),this._findButtonView.on("execute",this._onFindButtonExecute.bind(this)),this._findPrevButtonView.delegate("execute").to(this,"findPrevious"),this._findNextButtonView.delegate("execute").to(this,"findNext"),this._findPrevButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",({findPrevious:Ce})=>Ce),this._findNextButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",({findNext:Ce})=>Ce),this._injectFindResultsCounter(),de.setTemplate({tag:"fieldset",attributes:{class:["ck","ck-find-and-replace-form__find"]},children:[this._findInputView,this._findButtonView,this._findPrevButtonView,this._findNextButtonView]}),de}_onFindButtonExecute(){if(this._textToFind)this.isDirty=!1,this.fire("findNext",{searchText:this._textToFind,matchCase:this._matchCase,wholeWords:this._wholeWordsOnly});else{const N=this.t;this._findInputView.errorText=N("Text to find must not be empty.")}}_injectFindResultsCounter(){const N=this.locale,de=N.t,Ce=this.bindTemplate,Ze=new _.View(N);this.bind("_resultsCounterText").to(this,"highlightOffset",this,"matchCount",(Ct,Ge)=>de("%0 of %1",[Ct,Ge])),Ze.setTemplate({tag:"span",attributes:{class:["ck","ck-results-counter",Ce.if("isDirty","ck-hidden")]},children:[{text:Ce.to("_resultsCounterText")}]});const st=()=>{const Ct=this._findInputView.fieldView.element;if(!Ct||!(0,a.isVisible)(Ct))return;const Ge=new a.Rect(Ze.element).width,Ft=N.uiLanguageDirection==="ltr"?"paddingRight":"paddingLeft";Ct.style[Ft]=Ge?`calc( 2 * var(--ck-spacing-standard) + ${Ge}px )`:null};this.on("change:_resultsCounterText",st,{priority:"low"}),this.on("change:isDirty",st,{priority:"low"}),this._findInputView.template.children[0].children.push(Ze)}_createReplaceFieldset(){const N=this.locale,de=N.t,Ce=new _.View(N);return this._replaceButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replace:Ze},st)=>Ze&&st),this._replaceAllButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replaceAll:Ze},st)=>Ze&&st),this._replaceInputView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replace:Ze},st)=>Ze&&st),this._replaceInputView.bind("infoText").to(this._replaceInputView,"isEnabled",this._replaceInputView,"isFocused",(Ze,st)=>Ze||!st?"":de("Tip: Find some text first in order to replace it.")),this._replaceButtonView.on("execute",()=>{this.fire("replace",{searchText:this._textToFind,replaceText:this._textToReplace})}),this._replaceAllButtonView.on("execute",()=>{this.fire("replaceAll",{searchText:this._textToFind,replaceText:this._textToReplace}),this.focus()}),Ce.setTemplate({tag:"fieldset",attributes:{class:["ck","ck-find-and-replace-form__replace"]},children:[this._replaceInputView,this._optionsDropdown,this._replaceButtonView,this._replaceAllButtonView]}),Ce}_createOptionsDropdown(){const N=this.locale,de=N.t,Ce=(0,_.createDropdown)(N);Ce.class="ck-options-dropdown",Ce.buttonView.set({withText:!1,label:de("Show options"),icon:f.icons.cog,tooltip:!0});const Ze=new _.Model({withText:!0,label:de("Match case"),_isMatchCaseSwitch:!0}),st=new _.Model({withText:!0,label:de("Whole words only")});return Ze.bind("isOn").to(this,"_matchCase"),st.bind("isOn").to(this,"_wholeWordsOnly"),Ce.on("execute",Ct=>{Ct.source._isMatchCaseSwitch?this._matchCase=!this._matchCase:this._wholeWordsOnly=!this._wholeWordsOnly,this.isDirty=!0}),(0,_.addListToDropdown)(Ce,new a.Collection([{type:"switchbutton",model:Ze},{type:"switchbutton",model:st}])),Ce}_initFocusCycling(){[this._findInputView,this._findButtonView,this._findPrevButtonView,this._findNextButtonView,this._replaceInputView,this._optionsDropdown,this._replaceButtonView,this._replaceAllButtonView].forEach(N=>{this._focusables.add(N),this._focusTracker.add(N.element)})}_initKeystrokeHandling(){const N=Ce=>Ce.stopPropagation(),de=Ce=>{Ce.stopPropagation(),Ce.preventDefault()};this._keystrokes.listenTo(this.element),this._keystrokes.set("f3",Ce=>{de(Ce),this._findNextButtonView.fire("execute")}),this._keystrokes.set("shift+f3",Ce=>{de(Ce),this._findPrevButtonView.fire("execute")}),this._keystrokes.set("enter",Ce=>{const Ze=Ce.target;Ze===this._findInputView.fieldView.element?(this._areCommandsEnabled.findNext?this._findNextButtonView.fire("execute"):this._findButtonView.fire("execute"),de(Ce)):Ze!==this._replaceInputView.fieldView.element||this.isDirty||(this._replaceButtonView.fire("execute"),de(Ce))}),this._keystrokes.set("shift+enter",Ce=>{Ce.target===this._findInputView.fieldView.element&&(this._areCommandsEnabled.findPrevious?this._findPrevButtonView.fire("execute"):this._findButtonView.fire("execute"),de(Ce))}),this._keystrokes.set("arrowright",N),this._keystrokes.set("arrowleft",N),this._keystrokes.set("arrowup",N),this._keystrokes.set("arrowdown",N),this.listenTo(this._findInputView.element,"selectstart",(Ce,Ze)=>{Ze.stopPropagation()},{priority:"high"}),this.listenTo(this._replaceInputView.element,"selectstart",(Ce,Ze)=>{Ze.stopPropagation()},{priority:"high"})}_createButton(N){const de=new _.ButtonView(this.locale);return de.set(N),de}_createInputField(N){const de=new _.LabeledFieldView(this.locale,_.createLabeledInputText);return de.label=N,de}}class J extends f.Plugin{static get pluginName(){return"FindAndReplaceUI"}constructor(N){super(N),this.formView=null}init(){const N=this.editor;N.ui.componentFactory.add("findAndReplace",de=>{const Ce=(0,_.createDropdown)(de);return Ce.bind("isEnabled").to(N.commands.get("find")),Ce.once("change:isOpen",()=>{this.formView=new me(N.locale),Ce.panelView.children.add(this.formView),this._setupFormView(this.formView)}),Ce.on("change:isOpen",(Ze,st,Ct)=>{Ct?(this.formView.disableCssTransitions(),this.formView.reset(),this.formView._findInputView.fieldView.select(),this.formView.enableCssTransitions()):this.fire("searchReseted")},{priority:"low"}),this._setupDropdownButton(Ce),Ce})}_setupDropdownButton(N){const de=this.editor,Ce=de.locale.t;N.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.87 13.786 1.532-1.286 3.857 4.596a1 1 0 1 1-1.532 1.286l-3.857-4.596z"/><path d="M16.004 8.5a6.5 6.5 0 0 1-9.216 5.905c-1.154-.53-.863-1.415-.663-1.615.194-.194.564-.592 1.635-.141a4.5 4.5 0 0 0 5.89-5.904l-.104-.227 1.332-1.331c.045-.046.196-.041.224.007a6.47 6.47 0 0 1 .902 3.306zm-3.4-5.715c.562.305.742 1.106.354 1.494-.388.388-.995.414-1.476.178a4.5 4.5 0 0 0-6.086 5.882l.114.236-1.348 1.349c-.038.037-.17.022-.198-.023a6.5 6.5 0 0 1 5.54-9.9 6.469 6.469 0 0 1 3.1.784z"/><path d="M4.001 11.93.948 8.877a.2.2 0 0 1 .141-.341h6.106a.2.2 0 0 1 .141.341L4.283 11.93a.2.2 0 0 1-.282 0zm11.083-6.789 3.053 3.053a.2.2 0 0 1-.14.342H11.89a.2.2 0 0 1-.14-.342l3.052-3.053a.2.2 0 0 1 .282 0z"/></svg>',label:Ce("Find and replace"),keystroke:"CTRL+F",tooltip:!0}),de.keystrokes.set("Ctrl+F",(Ze,st)=>{N.isEnabled&&(N.isOpen=!0,st())})}_setupFormView(N){const de=this.editor.commands,Ce=this.editor.plugins.get("FindAndReplaceEditing").state,Ze={before:-1,same:0,after:1};N.bind("highlightOffset").to(Ce,"highlightedResult",st=>st?Array.from(Ce.results).sort((Ct,Ge)=>Ze[Ct.marker.getStart().compareWith(Ge.marker.getStart())]).indexOf(st)+1:0),N.listenTo(Ce.results,"change",()=>{N.matchCount=Ce.results.length}),N.bind("_areCommandsEnabled").to(de.get("findNext"),"isEnabled",de.get("findPrevious"),"isEnabled",de.get("replace"),"isEnabled",de.get("replaceAll"),"isEnabled",(st,Ct,Ge,Ft)=>({findNext:st,findPrevious:Ct,replace:Ge,replaceAll:Ft})),N.delegate("findNext","findPrevious","replace","replaceAll").to(this),N.on("change:isDirty",(st,Ct,Ge)=>{Ge&&this.fire("searchReseted")})}}class ee extends f.Command{constructor(N,de){super(N),this.isEnabled=!0,this.affectsData=!1,this._state=de}execute(N,{matchCase:de,wholeWords:Ce}={}){const{editor:Ze}=this,{model:st}=Ze,Ct=Ze.plugins.get("FindAndReplaceUtils");let Ge;typeof N=="string"?(Ge=Ct.findByTextCallback(N,{matchCase:de,wholeWords:Ce}),this._state.searchText=N):Ge=N;const Ft=st.document.getRootNames().reduce((ci,yi)=>Ct.updateFindResultFromRange(st.createRangeIn(st.document.getRoot(yi)),st,Ge,ci),null);return this._state.clear(st),this._state.results.addMany(Array.from(Ft)),this._state.highlightedResult=Ft.get(0),typeof N=="string"&&(this._state.searchText=N),this._state.matchCase=!!de,this._state.matchWholeWords=!!Ce,{results:Ft,findCallback:Ge}}}class Z extends f.Command{constructor(N,de){super(N),this.isEnabled=!0,this._state=de}execute(N,de){const{model:Ce}=this.editor;Ce.change(Ze=>{const st=de.marker.getRange();if(st.root.rootName==="$graveyard")return void this._state.results.remove(de);let Ct={};for(const Ge of st.getItems())if(Ge.is("$text")||Ge.is("$textProxy")){Ct=Ge.getAttributes();break}Ce.insertContent(Ze.createText(N,Ct),st),this._state.results.has(de)&&this._state.results.remove(de)})}}class h extends Z{execute(N,de){const{editor:Ce}=this,{model:Ze}=Ce,st=Ce.plugins.get("FindAndReplaceUtils"),Ct=de instanceof a.Collection?de:Ze.document.getRootNames().reduce((Ge,Ft)=>st.updateFindResultFromRange(Ze.createRangeIn(Ze.document.getRoot(Ft)),Ze,st.findByTextCallback(de,this._state),Ge),null);Ct.length&&Ze.change(()=>{[...Ct].forEach(Ge=>{super.execute(N,Ge)})})}}class g extends f.Command{constructor(N,de){super(N),this.affectsData=!1,this._state=de,this.isEnabled=!1,this.listenTo(this._state.results,"change",()=>{this.isEnabled=this._state.results.length>1})}refresh(){this.isEnabled=this._state.results.length>1}execute(){const N=this._state.results,de=N.getIndex(this._state.highlightedResult),Ce=de+1>=N.length?0:de+1;this._state.highlightedResult=this._state.results.get(Ce)}}class r extends g{execute(){const N=this._state.results.getIndex(this._state.highlightedResult),de=N-1<0?this._state.results.length-1:N-1;this._state.highlightedResult=this._state.results.get(de)}}class u{constructor(N){this.set("results",new a.Collection),this.set("highlightedResult",null),this.set("searchText",""),this.set("replaceText",""),this.set("matchCase",!1),this.set("matchWholeWords",!1),this.results.on("change",(de,{removed:Ce,index:Ze})=>{if((Ce=Array.from(Ce)).length){let st=!1;if(N.change(Ct=>{for(const Ge of Ce)this.highlightedResult===Ge&&(st=!0),N.markers.has(Ge.marker.name)&&Ct.removeMarker(Ge.marker)}),st){const Ct=Ze>=this.results.length?0:Ze;this.highlightedResult=this.results.get(Ct)}}})}clear(N){this.searchText="",N.change(de=>{if(this.highlightedResult){const Ce=this.highlightedResult.marker.name.split(":")[1],Ze=N.markers.get(`findResultHighlighted:${Ce}`);Ze&&de.removeMarker(Ze)}[...this.results].forEach(({marker:Ce})=>{de.removeMarker(Ce)})}),this.results.clear()}}(0,a.mix)(u,a.ObservableMixin);const w=typeof re.g=="object"&&re.g&&re.g.Object===Object&&re.g;var v=typeof self=="object"&&self&&self.Object===Object&&self;const T=w||v||Function("return this")(),z=T.Symbol,L=function(P,N){for(var de=-1,Ce=P==null?0:P.length,Ze=Array(Ce);++de<Ce;)Ze[de]=N(P[de],de,P);return Ze},x=Array.isArray;var c=Object.prototype,D=c.hasOwnProperty,W=c.toString,q=z?z.toStringTag:void 0;const ae=function(P){var N=D.call(P,q),de=P[q];try{P[q]=void 0;var Ce=!0}catch{}var Ze=W.call(P);return Ce&&(N?P[q]=de:delete P[q]),Ze};var Ie=Object.prototype.toString;const Ve=function(P){return Ie.call(P)};var _e="[object Null]",Me="[object Undefined]",Qe=z?z.toStringTag:void 0;const ut=function(P){return P==null?P===void 0?Me:_e:Qe&&Qe in Object(P)?ae(P):Ve(P)},rt=function(P){return P!=null&&typeof P=="object"};var qe="[object Symbol]";const et=function(P){return typeof P=="symbol"||rt(P)&&ut(P)==qe};var Bt=1/0,Nt=z?z.prototype:void 0,xt=Nt?Nt.toString:void 0;const tt=function P(N){if(typeof N=="string")return N;if(x(N))return L(N,P)+"";if(et(N))return xt?xt.call(N):"";var de=N+"";return de=="0"&&1/N==-Bt?"-0":de},Dt=function(P){return P==null?"":tt(P)};var ye=/[\\^$.*+?()[\]{}|]/g,Se=RegExp(ye.source);const Ke=function(P){return(P=Dt(P))&&Se.test(P)?P.replace(ye,"\\$&"):P};class kt extends f.Plugin{static get pluginName(){return"FindAndReplaceUtils"}updateFindResultFromRange(N,de,Ce,Ze){const st=Ze||new a.Collection;return de.change(Ct=>{[...N].forEach(({type:Ge,item:Ft})=>{if(Ge==="elementStart"&&de.schema.checkChild(Ft,"$text")){const ci=Ce({item:Ft,text:this.rangeToText(de.createRangeIn(Ft))});if(!ci)return;ci.forEach(yi=>{const Oi=`findResult:${(0,a.uid)()}`,Ei=Ct.addMarker(Oi,{usingOperation:!1,affectsData:!1,range:Ct.createRange(Ct.createPositionAt(Ft,yi.start),Ct.createPositionAt(Ft,yi.end))}),Bi=function(Li,Ui){const Ht=Li.find(({marker:we})=>Ui.getStart().isBefore(we.getStart()));return Ht?Li.getIndex(Ht):Li.length}(st,Ei);st.add({id:Oi,label:yi.label,marker:Ei},Bi)})}})}),st}rangeToText(N){return Array.from(N.getItems()).reduce((de,Ce)=>Ce.is("text")||Ce.is("textProxy")?de+Ce.data:`${de}
`,"")}findByTextCallback(N,de){let Ce="gu";de.matchCase||(Ce+="i");let Ze=`(${Ke(N)})`;if(de.wholeWords){const Ct="[^a-zA-Z\xC0-\u024F\u1E00-\u1EFF]";new RegExp("^"+Ct).test(N)||(Ze=`(^|${Ct}|_)${Ze}`),new RegExp(Ct+"$").test(N)||(Ze=`${Ze}(?=_|${Ct}|$)`)}const st=new RegExp(Ze,Ce);return function({text:Ct}){return[...Ct.matchAll(st)].map(Lt)}}}function Lt(P){const N=P.length-1;let de=P.index;return P.length===3&&(de+=P[1].length),{label:P[N],start:de,end:de+P[N].length}}function Gt(P){return Object.prototype.toString.apply(P)=="[object Range]"}function $t(P){const N=Object.prototype.toString.apply(P);return N=="[object Window]"||N=="[object global]"}function ft(P){return Object.prototype.toString.call(P)=="[object Text]"}const Yt=["top","right","bottom","left","width","height"];class _t{constructor(N){const de=Gt(N);if(Object.defineProperty(this,"_source",{value:N._source||N,writable:!0,enumerable:!1}),Ai(N)||de)if(de){const Ce=_t.getDomRangeRects(N);ri(this,_t.getBoundingRect(Ce))}else ri(this,N.getBoundingClientRect());else if($t(N)){const{innerWidth:Ce,innerHeight:Ze}=N;ri(this,{top:0,right:Ce,bottom:Ze,left:0,width:Ce,height:Ze})}else ri(this,N)}clone(){return new _t(this)}moveTo(N,de){return this.top=de,this.right=N+this.width,this.bottom=de+this.height,this.left=N,this}moveBy(N,de){return this.top+=de,this.right+=N,this.left+=N,this.bottom+=de,this}getIntersection(N){const de={top:Math.max(this.top,N.top),right:Math.min(this.right,N.right),bottom:Math.min(this.bottom,N.bottom),left:Math.max(this.left,N.left),width:0,height:0};return de.width=de.right-de.left,de.height=de.bottom-de.top,de.width<0||de.height<0?null:new _t(de)}getIntersectionArea(N){const de=this.getIntersection(N);return de?de.getArea():0}getArea(){return this.width*this.height}getVisible(){const N=this._source;let de=this.clone();if(!ui(N)){let Ce=N.parentNode||N.commonAncestorContainer;for(;Ce&&!ui(Ce);){const Ze=new _t(Ce),st=de.getIntersection(Ze);if(!st)return null;st.getArea()<de.getArea()&&(de=st),Ce=Ce.parentNode}}return de}isEqual(N){for(const de of Yt)if(this[de]!==N[de])return!1;return!0}contains(N){const de=this.getIntersection(N);return!(!de||!de.isEqual(N))}excludeScrollbarsAndBorders(){const N=this._source;let de,Ce,Ze;if($t(N))de=N.innerWidth-N.document.documentElement.clientWidth,Ce=N.innerHeight-N.document.documentElement.clientHeight,Ze=N.getComputedStyle(N.document.documentElement).direction;else{const st=function(Ct){const Ge=Ct.ownerDocument.defaultView.getComputedStyle(Ct);return{top:parseInt(Ge.borderTopWidth,10),right:parseInt(Ge.borderRightWidth,10),bottom:parseInt(Ge.borderBottomWidth,10),left:parseInt(Ge.borderLeftWidth,10)}}(N);de=N.offsetWidth-N.clientWidth-st.left-st.right,Ce=N.offsetHeight-N.clientHeight-st.top-st.bottom,Ze=N.ownerDocument.defaultView.getComputedStyle(N).direction,this.left+=st.left,this.top+=st.top,this.right-=st.right,this.bottom-=st.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=de,Ze==="ltr"?this.right-=de:this.left+=de,this.height-=Ce,this.bottom-=Ce,this}static getDomRangeRects(N){const de=[],Ce=Array.from(N.getClientRects());if(Ce.length)for(const Ze of Ce)de.push(new _t(Ze));else{let Ze=N.startContainer;ft(Ze)&&(Ze=Ze.parentNode);const st=new _t(Ze.getBoundingClientRect());st.right=st.left,st.width=0,de.push(st)}return de}static getBoundingRect(N){const de={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let Ce=0;for(const Ze of N)Ce++,de.left=Math.min(de.left,Ze.left),de.top=Math.min(de.top,Ze.top),de.right=Math.max(de.right,Ze.right),de.bottom=Math.max(de.bottom,Ze.bottom);return Ce==0?null:(de.width=de.right-de.left,de.height=de.bottom-de.top,new _t(de))}}function ri(P,N){for(const de of Yt)P[de]=N[de]}function ui(P){return!!Ai(P)&&P===P.ownerDocument.body}function Ai(P){return P!==null&&typeof P=="object"&&P.nodeType===1&&typeof P.getBoundingClientRect=="function"}function bt(P,N,de){const Ce=N.clone().moveBy(0,de),Ze=N.clone().moveBy(0,-de),st=new _t(P).excludeScrollbarsAndBorders();if(![Ze,Ce].every(Ct=>st.contains(Ct))){let{scrollX:Ct,scrollY:Ge}=P;$e(Ze,st)?Ge-=st.top-N.top+de:Ne(Ce,st)&&(Ge+=N.bottom-st.bottom+de),gt(N,st)?Ct-=st.left-N.left+de:Tt(N,st)&&(Ct+=N.right-st.right+de),P.scrollTo(Ct,Ge)}}function be(P,N){const de=Et(P);let Ce,Ze;for(;P!=de.document.body;)Ze=N(),Ce=new _t(P).excludeScrollbarsAndBorders(),Ce.contains(Ze)||($e(Ze,Ce)?P.scrollTop-=Ce.top-Ze.top:Ne(Ze,Ce)&&(P.scrollTop+=Ze.bottom-Ce.bottom),gt(Ze,Ce)?P.scrollLeft-=Ce.left-Ze.left:Tt(Ze,Ce)&&(P.scrollLeft+=Ze.right-Ce.right)),P=P.parentNode}function Ne(P,N){return P.bottom>N.bottom}function $e(P,N){return P.top<N.top}function gt(P,N){return P.left<N.left}function Tt(P,N){return P.right>N.right}function Et(P){return Gt(P)?P.startContainer.ownerDocument.defaultView:P.ownerDocument.defaultView}function Xt(P){if(Gt(P)){let N=P.commonAncestorContainer;return ft(N)&&(N=N.parentNode),N}return P.parentNode}function Ut(P,N){const de=Et(P),Ce=new _t(P);if(de===N)return Ce;{let Ze=de;for(;Ze!=N;){const st=Ze.frameElement,Ct=new _t(st).excludeScrollbarsAndBorders();Ce.moveBy(Ct.left,Ct.top),Ze=Ze.parent}}return Ce}const ni=function(P){var N=typeof P;return P!=null&&(N=="object"||N=="function")},wi=function(){return T.Date.now()};var gi=/\s/;const Ti=function(P){for(var N=P.length;N--&&gi.test(P.charAt(N)););return N};var Rt=/^\s+/;const Ii=function(P){return P&&P.slice(0,Ti(P)+1).replace(Rt,"")};var Mi=NaN,Qi=/^[-+]0x[0-9a-f]+$/i,Fi=/^0b[01]+$/i,Vi=/^0o[0-7]+$/i,Ji=parseInt;const cn=function(P){if(typeof P=="number")return P;if(et(P))return Mi;if(ni(P)){var N=typeof P.valueOf=="function"?P.valueOf():P;P=ni(N)?N+"":N}if(typeof P!="string")return P===0?P:+P;P=Ii(P);var de=Fi.test(P);return de||Vi.test(P)?Ji(P.slice(2),de?2:8):Qi.test(P)?Mi:+P};var Ri="Expected a function",pn=Math.max,fi=Math.min;const pi=function(P,N,de){var Ce,Ze,st,Ct,Ge,Ft,ci=0,yi=!1,Oi=!1,Ei=!0;if(typeof P!="function")throw new TypeError(Ri);function Bi(He){var Q=Ce,R=Ze;return Ce=Ze=void 0,ci=He,Ct=P.apply(R,Q)}function Li(He){var Q=He-Ft;return Ft===void 0||Q>=N||Q<0||Oi&&He-ci>=st}function Ui(){var He=wi();if(Li(He))return Ht(He);Ge=setTimeout(Ui,function(Q){var R=N-(Q-Ft);return Oi?fi(R,st-(Q-ci)):R}(He))}function Ht(He){return Ge=void 0,Ei&&Ce?Bi(He):(Ce=Ze=void 0,Ct)}function we(){var He=wi(),Q=Li(He);if(Ce=arguments,Ze=this,Ft=He,Q){if(Ge===void 0)return function(R){return ci=R,Ge=setTimeout(Ui,N),yi?Bi(R):Ct}(Ft);if(Oi)return clearTimeout(Ge),Ge=setTimeout(Ui,N),Bi(Ft)}return Ge===void 0&&(Ge=setTimeout(Ui,N)),Ct}return N=cn(N)||0,ni(de)&&(yi=!!de.leading,st=(Oi="maxWait"in de)?pn(cn(de.maxWait)||0,N):st,Ei="trailing"in de?!!de.trailing:Ei),we.cancel=function(){Ge!==void 0&&clearTimeout(Ge),ci=0,Ce=Ft=Ze=Ge=void 0},we.flush=function(){return Ge===void 0?Ct:Ht(wi())},we};var qi=E(299),ke={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};S()(qi.Z,ke),qi.Z.locals;class V extends f.Plugin{static get requires(){return[kt]}static get pluginName(){return"FindAndReplaceEditing"}init(){this._activeResults=null,this.state=new u(this.editor.model),this._defineConverters(),this._defineCommands(),this.listenTo(this.state,"change:highlightedResult",(de,Ce,Ze,st)=>{const{model:Ct}=this.editor;Ct.change(Ge=>{if(st){const Ft=st.marker.name.split(":")[1],ci=Ct.markers.get(`findResultHighlighted:${Ft}`);ci&&Ge.removeMarker(ci)}if(Ze){const Ft=Ze.marker.name.split(":")[1];Ge.addMarker(`findResultHighlighted:${Ft}`,{usingOperation:!1,affectsData:!1,range:Ze.marker.getRange()})}})});const N=pi(function(de,Ce,Ze){if(Ze){const st=this.editor.editing.view.domConverter,Ct=this.editor.editing.mapper.toViewRange(Ze.marker.getRange());(function({target:Ge,viewportOffset:Ft=0}){const ci=Et(Ge);let yi=ci,Oi=null;for(;yi;){let Ei;Ei=Xt(yi==ci?Ge:Oi),be(Ei,()=>Ut(Ge,yi));const Bi=Ut(Ge,yi);if(bt(yi,Bi,Ft),yi.parent!=yi){if(Oi=yi.frameElement,yi=yi.parent,!Oi)return}else yi=null}})({target:st.viewRangeToDom(Ct),viewportOffset:40})}}.bind(this),32);this.listenTo(this.state,"change:highlightedResult",N,{priority:"low"}),this.listenTo(this.editor,"destroy",N.cancel)}find(N){const{editor:de}=this,{model:Ce}=de,{findCallback:Ze,results:st}=de.execute("find",N);return this._activeResults=st,this.listenTo(Ce.document,"change:data",()=>function(Ct,Ge,Ft){const ci=new Set,yi=new Set,Oi=Ge.model;Oi.document.differ.getChanges().forEach(Ei=>{Ei.name==="$text"||Oi.schema.isInline(Ei.position.nodeAfter)?(ci.add(Ei.position.parent),[...Oi.markers.getMarkersAtPosition(Ei.position)].forEach(Bi=>{yi.add(Bi.name)})):Ei.type==="insert"&&ci.add(Ei.position.nodeAfter)}),Oi.document.differ.getChangedMarkers().forEach(({name:Ei,data:{newRange:Bi}})=>{Bi&&Bi.start.root.rootName==="$graveyard"&&yi.add(Ei)}),ci.forEach(Ei=>{[...Oi.markers.getMarkersIntersectingRange(Oi.createRangeIn(Ei))].forEach(Bi=>yi.add(Bi.name))}),Oi.change(Ei=>{yi.forEach(Bi=>{Ct.has(Bi)&&Ct.remove(Bi),Ei.removeMarker(Bi)})}),ci.forEach(Ei=>{Ge.plugins.get("FindAndReplaceUtils").updateFindResultFromRange(Oi.createRangeOn(Ei),Oi,Ft,Ct)})}(this._activeResults,de,Ze)),this._activeResults}stop(){this._activeResults&&(this.stopListening(this.editor.model.document),this.state.clear(this.editor.model),this._activeResults=null)}_defineCommands(){this.editor.commands.add("find",new ee(this.editor,this.state)),this.editor.commands.add("findNext",new g(this.editor,this.state)),this.editor.commands.add("findPrevious",new r(this.editor,this.state)),this.editor.commands.add("replace",new Z(this.editor,this.state)),this.editor.commands.add("replaceAll",new h(this.editor,this.state))}_defineConverters(){const{editor:N}=this;N.conversion.for("editingDowncast").markerToHighlight({model:"findResult",view:({markerName:de})=>{const[,Ce]=de.split(":");return{name:"span",classes:["ck-find-result"],attributes:{"data-find-result":Ce}}}}),N.conversion.for("editingDowncast").markerToHighlight({model:"findResultHighlighted",view:({markerName:de})=>{const[,Ce]=de.split(":");return{name:"span",classes:["ck-find-result_selected"],attributes:{"data-find-result":Ce}}}})}}class F extends f.Plugin{static get requires(){return[V,J]}static get pluginName(){return"FindAndReplace"}init(){const N=this.editor.plugins.get("FindAndReplaceUI"),de=this.editor.plugins.get("FindAndReplaceEditing"),Ce=de.state;N.on("findNext",(Ze,st)=>{st?(Ce.searchText=st.searchText,this.editor.execute("find",st.searchText,st)):this.editor.execute("findNext")}),N.on("findPrevious",(Ze,st)=>{st&&Ce.searchText!==st.searchText?this.editor.execute("find",st.searchText):this.editor.execute("findPrevious")}),N.on("replace",(Ze,st)=>{Ce.searchText!==st.searchText&&this.editor.execute("find",st.searchText);const Ct=Ce.highlightedResult;Ct&&this.editor.execute("replace",st.replaceText,Ct)}),N.on("replaceAll",(Ze,st)=>{Ce.searchText!==st.searchText&&this.editor.execute("find",st.searchText),this.editor.execute("replaceAll",st.replaceText,Ce.results)}),N.on("searchReseted",()=>{Ce.clear(this.editor.model),de.stop()})}}})(),(window.CKEditor5=window.CKEditor5||{}).findAndReplace=y})()},20978:()=>{(function(ti){const Kt=ti.en=ti.en||{};Kt.dictionary=Object.assign(Kt.dictionary||{},{Big:"Big",Default:"Default","Document colors":"Document colors","Font Background Color":"Font Background Color","Font Color":"Font Color","Font Family":"Font Family","Font Size":"Font Size",Huge:"Huge",Small:"Small",Tiny:"Tiny"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var ti={159:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,".ck .ck-button.ck-color-table__remove-color{align-items:center;display:flex;width:100%}label.ck.ck-color-grid__label{font-weight:unset}.ck .ck-button.ck-color-table__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck .ck-button.ck-color-table__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-base-border)}[dir=ltr] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard)}",""]);const a=_},222:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,".ck-content .text-tiny{font-size:.7em}.ck-content .text-small{font-size:.85em}.ck-content .text-big{font-size:1.4em}.ck-content .text-huge{font-size:1.8em}",""]);const a=_},609:m=>{"use strict";m.exports=function(E){var y=[];return y.toString=function(){return this.map(function(f){var _=E(f);return f[2]?"@media ".concat(f[2]," {").concat(_,"}"):_}).join("")},y.i=function(f,_,a){typeof f=="string"&&(f=[[null,f,""]]);var d={};if(a)for(var S=0;S<this.length;S++){var U=this[S][0];U!=null&&(d[U]=!0)}for(var I=0;I<f.length;I++){var C=[].concat(f[I]);a&&d[C[0]]||(_&&(C[2]?C[2]="".concat(_," and ").concat(C[2]):C[2]=_),y.push(C))}},y}},62:(m,E,y)=>{"use strict";var f,_=function(){return f===void 0&&(f=Boolean(window&&document&&document.all&&!window.atob)),f},a=function(){var h={};return function(g){if(h[g]===void 0){var r=document.querySelector(g);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch{r=null}h[g]=r}return h[g]}}(),d=[];function S(h){for(var g=-1,r=0;r<d.length;r++)if(d[r].identifier===h){g=r;break}return g}function U(h,g){for(var r={},u=[],w=0;w<h.length;w++){var v=h[w],T=g.base?v[0]+g.base:v[0],z=r[T]||0,L="".concat(T," ").concat(z);r[T]=z+1;var x=S(L),c={css:v[1],media:v[2],sourceMap:v[3]};x!==-1?(d[x].references++,d[x].updater(c)):d.push({identifier:L,updater:Z(c,g),references:1}),u.push(L)}return u}function I(h){var g=document.createElement("style"),r=h.attributes||{};if(r.nonce===void 0){var u=y.nc;u&&(r.nonce=u)}if(Object.keys(r).forEach(function(v){g.setAttribute(v,r[v])}),typeof h.insert=="function")h.insert(g);else{var w=a(h.insert||"head");if(!w)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");w.appendChild(g)}return g}var C,ge=(C=[],function(h,g){return C[h]=g,C.filter(Boolean).join(`
`)});function pe(h,g,r,u){var w=r?"":u.media?"@media ".concat(u.media," {").concat(u.css,"}"):u.css;if(h.styleSheet)h.styleSheet.cssText=ge(g,w);else{var v=document.createTextNode(w),T=h.childNodes;T[g]&&h.removeChild(T[g]),T.length?h.insertBefore(v,T[g]):h.appendChild(v)}}function me(h,g,r){var u=r.css,w=r.media,v=r.sourceMap;if(w?h.setAttribute("media",w):h.removeAttribute("media"),v&&typeof btoa<"u"&&(u+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(v))))," */")),h.styleSheet)h.styleSheet.cssText=u;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(u))}}var J=null,ee=0;function Z(h,g){var r,u,w;if(g.singleton){var v=ee++;r=J||(J=I(g)),u=pe.bind(null,r,v,!1),w=pe.bind(null,r,v,!0)}else r=I(g),u=me.bind(null,r,g),w=function(){(function(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T)})(r)};return u(h),function(T){if(T){if(T.css===h.css&&T.media===h.media&&T.sourceMap===h.sourceMap)return;u(h=T)}else w()}}m.exports=function(h,g){(g=g||{}).singleton||typeof g.singleton=="boolean"||(g.singleton=_());var r=U(h=h||[],g);return function(u){if(u=u||[],Object.prototype.toString.call(u)==="[object Array]"){for(var w=0;w<r.length;w++){var v=S(r[w]);d[v].references--}for(var T=U(u,g),z=0;z<r.length;z++){var L=S(r[z]);d[L].references===0&&(d[L].updater(),d.splice(L,1))}r=T}}}},704:(m,E,y)=>{m.exports=y(79)("./src/core.js")},492:(m,E,y)=>{m.exports=y(79)("./src/engine.js")},273:(m,E,y)=>{m.exports=y(79)("./src/ui.js")},209:(m,E,y)=>{m.exports=y(79)("./src/utils.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},Kt={};function re(m){var E=Kt[m];if(E!==void 0)return E.exports;var y=Kt[m]={id:m,exports:{}};return ti[m](y,y.exports,re),y.exports}re.n=m=>{var E=m&&m.__esModule?()=>m.default:()=>m;return re.d(E,{a:E}),E},re.d=(m,E)=>{for(var y in E)re.o(E,y)&&!re.o(m,y)&&Object.defineProperty(m,y,{enumerable:!0,get:E[y]})},re.o=(m,E)=>Object.prototype.hasOwnProperty.call(m,E),re.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},re.nc=void 0;var ii={};(()=>{"use strict";re.r(ii),re.d(ii,{Font:()=>tt,FontBackgroundColor:()=>xt,FontBackgroundColorEditing:()=>Bt,FontBackgroundColorUI:()=>Nt,FontColor:()=>qe,FontColorEditing:()=>Qe,FontColorUI:()=>rt,FontFamily:()=>T,FontFamilyEditing:()=>w,FontFamilyUI:()=>v,FontSize:()=>_e,FontSizeEditing:()=>q,FontSizeUI:()=>Ve});var m=re(704);class E extends m.Command{constructor(ye,Se){super(ye),this.attributeKey=Se}refresh(){const ye=this.editor.model,Se=ye.document;this.value=Se.selection.getAttribute(this.attributeKey),this.isEnabled=ye.schema.checkAttributeInSelection(Se.selection,this.attributeKey)}execute(ye={}){const Se=this.editor.model,Ke=Se.document.selection,kt=ye.value;Se.change(Lt=>{if(Ke.isCollapsed)kt?Lt.setSelectionAttribute(this.attributeKey,kt):Lt.removeSelectionAttribute(this.attributeKey);else{const Gt=Se.schema.getValidRanges(Ke.getRanges(),this.attributeKey);for(const $t of Gt)kt?Lt.setAttribute(this.attributeKey,kt,$t):Lt.removeAttribute(this.attributeKey,$t)}})}}var y=re(273),f=re(209);class _ extends f.Collection{constructor(ye){super(ye),this.set("isEmpty",!0),this.on("change",()=>{this.set("isEmpty",this.length===0)})}add(ye,Se){this.find(Ke=>Ke.color===ye.color)||super.add(ye,Se)}hasColor(ye){return!!this.find(Se=>Se.color===ye)}}(0,f.mix)(_,f.ObservableMixin);var a=re(62),d=re.n(a),S=re(159),U={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};d()(S.Z,U),S.Z.locals;class I extends y.View{constructor(ye,{colors:Se,columns:Ke,removeButtonLabel:kt,documentColorsLabel:Lt,documentColorsCount:Gt}){super(ye),this.items=this.createCollection(),this.colorDefinitions=Se,this.focusTracker=new f.FocusTracker,this.keystrokes=new f.KeystrokeHandler,this.set("selectedColor"),this.removeButtonLabel=kt,this.columns=Ke,this.documentColors=new _,this.documentColorsCount=Gt,this._focusables=new y.ViewCollection,this._focusCycler=new y.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._documentColorsLabel=Lt,this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-table"]},children:this.items}),this.items.add(this._createRemoveColorButton())}updateDocumentColors(ye,Se){const Ke=ye.document,kt=this.documentColorsCount;this.documentColors.clear();for(const Lt of Ke.getRootNames()){const Gt=Ke.getRoot(Lt),$t=ye.createRangeIn(Gt);for(const ft of $t.getItems())if(ft.is("$textProxy")&&ft.hasAttribute(Se)&&(this._addColorToDocumentColors(ft.getAttribute(Se)),this.documentColors.length>=kt))return}}updateSelectedColors(){const ye=this.documentColorsGrid,Se=this.staticColorsGrid,Ke=this.selectedColor;Se.selectedColor=Ke,ye&&(ye.selectedColor=Ke)}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}appendGrids(){if(!this.staticColorsGrid&&(this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.focusTracker.add(this.staticColorsGrid.element),this._focusables.add(this.staticColorsGrid),this.documentColorsCount)){const ye=y.Template.bind(this.documentColors,this.documentColors),Se=new y.LabelView(this.locale);Se.text=this._documentColorsLabel,Se.extendTemplate({attributes:{class:["ck","ck-color-grid__label",ye.if("isEmpty","ck-hidden")]}}),this.items.add(Se),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid),this.focusTracker.add(this.documentColorsGrid.element),this._focusables.add(this.documentColorsGrid)}}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_createRemoveColorButton(){const ye=new y.ButtonView;return ye.set({withText:!0,icon:m.icons.eraser,label:this.removeButtonLabel}),ye.class="ck-color-table__remove-color",ye.on("execute",()=>{this.fire("execute",{value:null})}),ye.render(),this.focusTracker.add(ye.element),this._focusables.add(ye),ye}_createStaticColorsGrid(){const ye=new y.ColorGridView(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return ye.delegate("execute").to(this),ye}_createDocumentColorsGrid(){const ye=y.Template.bind(this.documentColors,this.documentColors),Se=new y.ColorGridView(this.locale,{columns:this.columns});return Se.delegate("execute").to(this),Se.extendTemplate({attributes:{class:ye.if("isEmpty","ck-hidden")}}),Se.items.bindTo(this.documentColors).using(Ke=>{const kt=new y.ColorTileView;return kt.set({color:Ke.color,hasBorder:Ke.options&&Ke.options.hasBorder}),Ke.label&&kt.set({label:Ke.label,tooltip:!0}),kt.on("execute",()=>{this.fire("execute",{value:Ke.color})}),kt}),this.documentColors.on("change:isEmpty",(Ke,kt,Lt)=>{Lt&&(Se.selectedColor=null)}),Se}_addColorToDocumentColors(ye){const Se=this.colorDefinitions.find(Ke=>Ke.color===ye);Se?this.documentColors.add(Object.assign({},Se)):this.documentColors.add({color:ye,label:ye,options:{hasBorder:!1}})}}const C="fontSize",ge="fontFamily",pe="fontColor",me="fontBackgroundColor";function J(Dt,ye){const Se={model:{key:Dt,values:[]},view:{},upcastAlso:{}};for(const Ke of ye)Se.model.values.push(Ke.model),Se.view[Ke.model]=Ke.view,Ke.upcastAlso&&(Se.upcastAlso[Ke.model]=Ke.upcastAlso);return Se}function ee(Dt){return ye=>ye.getStyle(Dt).replace(/\s/g,"")}function Z(Dt){return(ye,{writer:Se})=>Se.createAttributeElement("span",{style:`${Dt}:${ye}`},{priority:7})}class h extends E{constructor(ye){super(ye,ge)}}function g(Dt){return Dt.map(r).filter(ye=>!!ye)}function r(Dt){return typeof Dt=="object"?Dt:Dt==="default"?{title:"Default",model:void 0}:typeof Dt=="string"?function(ye){const Se=ye.replace(/"|'/g,"").split(","),Ke=Se[0],kt=Se.map(u).join(", ");return{title:Ke,model:kt,view:{name:"span",styles:{"font-family":kt},priority:7}}}(Dt):void 0}function u(Dt){return(Dt=Dt.trim()).indexOf(" ")>0&&(Dt=`'${Dt}'`),Dt}class w extends m.Plugin{static get pluginName(){return"FontFamilyEditing"}constructor(ye){super(ye),ye.config.define(ge,{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!1})}init(){const ye=this.editor;ye.model.schema.extend("$text",{allowAttributes:ge}),ye.model.schema.setAttributeProperties(ge,{isFormatting:!0,copyOnEnter:!0});const Se=g(ye.config.get("fontFamily.options")).filter(kt=>kt.model),Ke=J(ge,Se);ye.config.get("fontFamily.supportAllValues")?(this._prepareAnyValueConverters(),this._prepareCompatibilityConverter()):ye.conversion.attributeToElement(Ke),ye.commands.add(ge,new h(ye))}_prepareAnyValueConverters(){const ye=this.editor;ye.conversion.for("downcast").attributeToElement({model:ge,view:(Se,{writer:Ke})=>Ke.createAttributeElement("span",{style:"font-family:"+Se},{priority:7})}),ye.conversion.for("upcast").elementToAttribute({model:{key:ge,value:Se=>Se.getStyle("font-family")},view:{name:"span",styles:{"font-family":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{face:/.*/}},model:{key:ge,value:ye=>ye.getAttribute("face")}})}}class v extends m.Plugin{static get pluginName(){return"FontFamilyUI"}init(){const ye=this.editor,Se=ye.t,Ke=this._getLocalizedOptions(),kt=ye.commands.get(ge);ye.ui.componentFactory.add(ge,Lt=>{const Gt=(0,y.createDropdown)(Lt);return(0,y.addListToDropdown)(Gt,()=>function($t,ft){const Yt=new f.Collection;for(const _t of $t){const ri={type:"button",model:new y.Model({commandName:ge,commandParam:_t.model,label:_t.title,withText:!0})};ri.model.bind("isOn").to(ft,"value",ui=>ui===_t.model||!(!ui||!_t.model)&&ui.split(",")[0].replace(/'/g,"").toLowerCase()===_t.model.toLowerCase()),_t.view&&_t.view.styles&&ri.model.set("labelStyle",`font-family: ${_t.view.styles["font-family"]}`),Yt.add(ri)}return Yt}(Ke,kt)),Gt.buttonView.set({label:Se("Font Family"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>',tooltip:!0}),Gt.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),Gt.bind("isEnabled").to(kt),this.listenTo(Gt,"execute",$t=>{ye.execute($t.source.commandName,{value:$t.source.commandParam}),ye.editing.view.focus()}),Gt})}_getLocalizedOptions(){const ye=this.editor,Se=ye.t;return g(ye.config.get(ge).options).map(Ke=>(Ke.title==="Default"&&(Ke.title=Se("Default")),Ke))}}class T extends m.Plugin{static get requires(){return[w,v]}static get pluginName(){return"FontFamily"}}var z=re(492);class L extends E{constructor(ye){super(ye,C)}}function x(Dt){return Dt.map(ye=>function(Se){if(Ke=Se,typeof Ke=="object"&&Ke.title&&Ke.model&&Ke.view)return D(Se);var Ke;const kt=function(Lt){return c[Lt]||c[Lt.model]}(Se);if(kt)return D(kt);if(Se==="default")return{model:void 0,title:"Default"};if(!function(Lt){let Gt;if(typeof Lt=="object"){if(!Lt.model)throw new f.CKEditorError("font-size-invalid-definition",null,Lt);Gt=parseFloat(Lt.model)}else Gt=parseFloat(Lt);return isNaN(Gt)}(Se))return function(Lt){return typeof Lt!="number"&&typeof Lt!="string"||(Lt={title:String(Lt),model:`${parseFloat(Lt)}px`}),Lt.view={name:"span",styles:{"font-size":Lt.model}},D(Lt)}(Se)}(ye)).filter(ye=>!!ye)}const c={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function D(Dt){return Dt.view.priority||(Dt.view.priority=7),Dt}const W=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"];class q extends m.Plugin{static get pluginName(){return"FontSizeEditing"}constructor(ye){super(ye),ye.config.define(C,{options:["tiny","small","default","big","huge"],supportAllValues:!1})}init(){const ye=this.editor;ye.model.schema.extend("$text",{allowAttributes:C}),ye.model.schema.setAttributeProperties(C,{isFormatting:!0,copyOnEnter:!0});const Se=ye.config.get("fontSize.supportAllValues"),Ke=x(this.editor.config.get("fontSize.options")).filter(Lt=>Lt.model),kt=J(C,Ke);Se?(this._prepareAnyValueConverters(kt),this._prepareCompatibilityConverter()):ye.conversion.attributeToElement(kt),ye.commands.add(C,new L(ye))}_prepareAnyValueConverters(ye){const Se=this.editor,Ke=ye.model.values.filter(kt=>!(0,z.isLength)(String(kt))&&!(0,z.isPercentage)(String(kt)));if(Ke.length)throw new f.CKEditorError("font-size-invalid-use-of-named-presets",null,{presets:Ke});Se.conversion.for("downcast").attributeToElement({model:C,view:(kt,{writer:Lt})=>{if(kt)return Lt.createAttributeElement("span",{style:"font-size:"+kt},{priority:7})}}),Se.conversion.for("upcast").elementToAttribute({model:{key:C,value:kt=>kt.getStyle("font-size")},view:{name:"span",styles:{"font-size":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:C,value:ye=>{const Se=ye.getAttribute("size"),Ke=Se[0]==="-"||Se[0]==="+";let kt=parseInt(Se,10);Ke&&(kt=3+kt);const Lt=W.length-1,Gt=Math.min(Math.max(kt,0),Lt);return W[Gt]}}})}}var ae=re(222),Ie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};d()(ae.Z,Ie),ae.Z.locals;class Ve extends m.Plugin{static get pluginName(){return"FontSizeUI"}init(){const ye=this.editor,Se=ye.t,Ke=this._getLocalizedOptions(),kt=ye.commands.get(C);ye.ui.componentFactory.add(C,Lt=>{const Gt=(0,y.createDropdown)(Lt);return(0,y.addListToDropdown)(Gt,()=>function($t,ft){const Yt=new f.Collection;for(const _t of $t){const ri={type:"button",model:new y.Model({commandName:C,commandParam:_t.model,label:_t.title,class:"ck-fontsize-option",withText:!0})};_t.view&&_t.view.styles&&ri.model.set("labelStyle",`font-size:${_t.view.styles["font-size"]}`),_t.view&&_t.view.classes&&ri.model.set("class",`${ri.model.class} ${_t.view.classes}`),ri.model.bind("isOn").to(ft,"value",ui=>ui===_t.model),Yt.add(ri)}return Yt}(Ke,kt)),Gt.buttonView.set({label:Se("Font Size"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>',tooltip:!0}),Gt.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),Gt.bind("isEnabled").to(kt),this.listenTo(Gt,"execute",$t=>{ye.execute($t.source.commandName,{value:$t.source.commandParam}),ye.editing.view.focus()}),Gt})}_getLocalizedOptions(){const ye=this.editor,Se=ye.t,Ke={Default:Se("Default"),Tiny:Se("Tiny"),Small:Se("Small"),Big:Se("Big"),Huge:Se("Huge")};return x(ye.config.get(C).options).map(kt=>{const Lt=Ke[kt.title];return Lt&&Lt!=kt.title&&(kt=Object.assign({},kt,{title:Lt})),kt})}}class _e extends m.Plugin{static get requires(){return[q,Ve]}static get pluginName(){return"FontSize"}normalizeSizeOptions(ye){return x(ye)}}class Me extends E{constructor(ye){super(ye,pe)}}class Qe extends m.Plugin{static get pluginName(){return"FontColorEditing"}constructor(ye){super(ye),ye.config.define(pe,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),ye.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:pe,value:ee("color")}}),ye.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:pe,value:Se=>Se.getAttribute("color")}}),ye.conversion.for("downcast").attributeToElement({model:pe,view:Z("color")}),ye.commands.add(pe,new Me(ye)),ye.model.schema.extend("$text",{allowAttributes:pe}),ye.model.schema.setAttributeProperties(pe,{isFormatting:!0,copyOnEnter:!0})}}class ut extends m.Plugin{constructor(ye,{commandName:Se,icon:Ke,componentName:kt,dropdownLabel:Lt}){super(ye),this.commandName=Se,this.componentName=kt,this.icon=Ke,this.dropdownLabel=Lt,this.columns=ye.config.get(`${this.componentName}.columns`),this.colorTableView=void 0}init(){const ye=this.editor,Se=ye.locale,Ke=Se.t,kt=ye.commands.get(this.commandName),Lt=(0,y.normalizeColorOptions)(ye.config.get(this.componentName).colors),Gt=(0,y.getLocalizedColorOptions)(Se,Lt),$t=ye.config.get(`${this.componentName}.documentColors`);ye.ui.componentFactory.add(this.componentName,ft=>{const Yt=(0,y.createDropdown)(ft);return this.colorTableView=function({dropdownView:_t,colors:ri,columns:ui,removeButtonLabel:Ai,documentColorsLabel:bt,documentColorsCount:be}){const Ne=_t.locale,$e=new I(Ne,{colors:ri,columns:ui,removeButtonLabel:Ai,documentColorsLabel:bt,documentColorsCount:be});return _t.colorTableView=$e,_t.panelView.children.add($e),$e.delegate("execute").to(_t,"execute"),$e}({dropdownView:Yt,colors:Gt.map(_t=>({label:_t.label,color:_t.model,options:{hasBorder:_t.hasBorder}})),columns:this.columns,removeButtonLabel:Ke("Remove color"),documentColorsLabel:$t!==0?Ke("Document colors"):void 0,documentColorsCount:$t===void 0?this.columns:$t}),this.colorTableView.bind("selectedColor").to(kt,"value"),Yt.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),Yt.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),Yt.bind("isEnabled").to(kt),Yt.on("execute",(_t,ri)=>{ye.execute(this.commandName,ri),ye.editing.view.focus()}),Yt.on("change:isOpen",(_t,ri,ui)=>{Yt.colorTableView.appendGrids(),ui&&($t!==0&&this.colorTableView.updateDocumentColors(ye.model,this.componentName),this.colorTableView.updateSelectedColors())}),(0,y.focusChildOnDropdownOpen)(Yt,()=>Yt.colorTableView.staticColorsGrid.items.find(_t=>_t.isOn)),Yt})}}class rt extends ut{constructor(ye){const Se=ye.locale.t;super(ye,{commandName:pe,componentName:pe,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3 10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>',dropdownLabel:Se("Font Color")})}static get pluginName(){return"FontColorUI"}}class qe extends m.Plugin{static get requires(){return[Qe,rt]}static get pluginName(){return"FontColor"}}class et extends E{constructor(ye){super(ye,me)}}class Bt extends m.Plugin{static get pluginName(){return"FontBackgroundColorEditing"}constructor(ye){super(ye),ye.config.define(me,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),ye.data.addStyleProcessorRules(z.addBackgroundRules),ye.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:me,value:ee("background-color")}}),ye.conversion.for("downcast").attributeToElement({model:me,view:Z("background-color")}),ye.commands.add(me,new et(ye)),ye.model.schema.extend("$text",{allowAttributes:me}),ye.model.schema.setAttributeProperties(me,{isFormatting:!0,copyOnEnter:!0})}}class Nt extends ut{constructor(ye){const Se=ye.locale.t;super(ye,{commandName:me,componentName:me,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z"/></svg>',dropdownLabel:Se("Font Background Color")})}static get pluginName(){return"FontBackgroundColorUI"}}class xt extends m.Plugin{static get requires(){return[Bt,Nt]}static get pluginName(){return"FontBackgroundColor"}}class tt extends m.Plugin{static get requires(){return[T,_e,qe,xt]}static get pluginName(){return"Font"}}})(),(window.CKEditor5=window.CKEditor5||{}).font=ii})()},60145:()=>{(function(ti){const Kt=ti.en=ti.en||{};Kt.dictionary=Object.assign(Kt.dictionary||{},{"Choose heading":"Choose heading",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Paragraph:"Paragraph","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var ti={609:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(298),_=y.n(f)()(function(d){return d[1]});_.push([m.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}",""]);const a=_},298:m=>{"use strict";m.exports=function(E){var y=[];return y.toString=function(){return this.map(function(f){var _=E(f);return f[2]?"@media ".concat(f[2]," {").concat(_,"}"):_}).join("")},y.i=function(f,_,a){typeof f=="string"&&(f=[[null,f,""]]);var d={};if(a)for(var S=0;S<this.length;S++){var U=this[S][0];U!=null&&(d[U]=!0)}for(var I=0;I<f.length;I++){var C=[].concat(f[I]);a&&d[C[0]]||(_&&(C[2]?C[2]="".concat(_," and ").concat(C[2]):C[2]=_),y.push(C))}},y}},62:(m,E,y)=>{"use strict";var f,_=function(){return f===void 0&&(f=Boolean(window&&document&&document.all&&!window.atob)),f},a=function(){var h={};return function(g){if(h[g]===void 0){var r=document.querySelector(g);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch{r=null}h[g]=r}return h[g]}}(),d=[];function S(h){for(var g=-1,r=0;r<d.length;r++)if(d[r].identifier===h){g=r;break}return g}function U(h,g){for(var r={},u=[],w=0;w<h.length;w++){var v=h[w],T=g.base?v[0]+g.base:v[0],z=r[T]||0,L="".concat(T," ").concat(z);r[T]=z+1;var x=S(L),c={css:v[1],media:v[2],sourceMap:v[3]};x!==-1?(d[x].references++,d[x].updater(c)):d.push({identifier:L,updater:Z(c,g),references:1}),u.push(L)}return u}function I(h){var g=document.createElement("style"),r=h.attributes||{};if(r.nonce===void 0){var u=y.nc;u&&(r.nonce=u)}if(Object.keys(r).forEach(function(v){g.setAttribute(v,r[v])}),typeof h.insert=="function")h.insert(g);else{var w=a(h.insert||"head");if(!w)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");w.appendChild(g)}return g}var C,ge=(C=[],function(h,g){return C[h]=g,C.filter(Boolean).join(`
`)});function pe(h,g,r,u){var w=r?"":u.media?"@media ".concat(u.media," {").concat(u.css,"}"):u.css;if(h.styleSheet)h.styleSheet.cssText=ge(g,w);else{var v=document.createTextNode(w),T=h.childNodes;T[g]&&h.removeChild(T[g]),T.length?h.insertBefore(v,T[g]):h.appendChild(v)}}function me(h,g,r){var u=r.css,w=r.media,v=r.sourceMap;if(w?h.setAttribute("media",w):h.removeAttribute("media"),v&&typeof btoa<"u"&&(u+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(v))))," */")),h.styleSheet)h.styleSheet.cssText=u;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(u))}}var J=null,ee=0;function Z(h,g){var r,u,w;if(g.singleton){var v=ee++;r=J||(J=I(g)),u=pe.bind(null,r,v,!1),w=pe.bind(null,r,v,!0)}else r=I(g),u=me.bind(null,r,g),w=function(){(function(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T)})(r)};return u(h),function(T){if(T){if(T.css===h.css&&T.media===h.media&&T.sourceMap===h.sourceMap)return;u(h=T)}else w()}}m.exports=function(h,g){(g=g||{}).singleton||typeof g.singleton=="boolean"||(g.singleton=_());var r=U(h=h||[],g);return function(u){if(u=u||[],Object.prototype.toString.call(u)==="[object Array]"){for(var w=0;w<r.length;w++){var v=S(r[w]);d[v].references--}for(var T=U(u,g),z=0;z<r.length;z++){var L=S(r[z]);d[L].references===0&&(d[L].updater(),d.splice(L,1))}r=T}}}},704:(m,E,y)=>{m.exports=y(79)("./src/core.js")},492:(m,E,y)=>{m.exports=y(79)("./src/engine.js")},747:(m,E,y)=>{m.exports=y(79)("./src/paragraph.js")},273:(m,E,y)=>{m.exports=y(79)("./src/ui.js")},209:(m,E,y)=>{m.exports=y(79)("./src/utils.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},Kt={};function re(m){var E=Kt[m];if(E!==void 0)return E.exports;var y=Kt[m]={id:m,exports:{}};return ti[m](y,y.exports,re),y.exports}re.n=m=>{var E=m&&m.__esModule?()=>m.default:()=>m;return re.d(E,{a:E}),E},re.d=(m,E)=>{for(var y in E)re.o(E,y)&&!re.o(m,y)&&Object.defineProperty(m,y,{enumerable:!0,get:E[y]})},re.o=(m,E)=>Object.prototype.hasOwnProperty.call(m,E),re.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},re.nc=void 0;var ii={};(()=>{"use strict";re.r(ii),re.d(ii,{Heading:()=>J,HeadingButtonsUI:()=>Z,HeadingEditing:()=>d,HeadingUI:()=>me,Title:()=>r});var m=re(704),E=re(747),y=re(209);class f extends m.Command{constructor(x,c){super(x),this.modelElements=c}refresh(){const x=(0,y.first)(this.editor.model.document.selection.getSelectedBlocks());this.value=!!x&&this.modelElements.includes(x.name)&&x.name,this.isEnabled=!!x&&this.modelElements.some(c=>_(x,c,this.editor.model.schema))}execute(x){const c=this.editor.model,D=c.document,W=x.value;c.change(q=>{const ae=Array.from(D.selection.getSelectedBlocks()).filter(Ie=>_(Ie,W,c.schema));for(const Ie of ae)Ie.is("element",W)||q.rename(Ie,W)})}}function _(L,x,c){return c.checkChild(L.parent,x)&&!c.isObject(L)}const a="paragraph";class d extends m.Plugin{static get pluginName(){return"HeadingEditing"}constructor(x){super(x),x.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[E.Paragraph]}init(){const x=this.editor,c=x.config.get("heading.options"),D=[];for(const W of c)W.model!=="paragraph"&&(x.model.schema.register(W.model,{inheritAllFrom:"$block"}),x.conversion.elementToElement(W),D.push(W.model));this._addDefaultH1Conversion(x),x.commands.add("heading",new f(x,D))}afterInit(){const x=this.editor,c=x.commands.get("enter"),D=x.config.get("heading.options");c&&this.listenTo(c,"afterExecute",(W,q)=>{const ae=x.model.document.selection.getFirstPosition().parent;D.some(Ie=>ae.is("element",Ie.model))&&!ae.is("element",a)&&ae.childCount===0&&q.writer.rename(ae,a)})}_addDefaultH1Conversion(x){x.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:y.priorities.get("low")+1})}}var S=re(273);function U(L){const x=L.t,c={Paragraph:x("Paragraph"),"Heading 1":x("Heading 1"),"Heading 2":x("Heading 2"),"Heading 3":x("Heading 3"),"Heading 4":x("Heading 4"),"Heading 5":x("Heading 5"),"Heading 6":x("Heading 6")};return L.config.get("heading.options").map(D=>{const W=c[D.title];return W&&W!=D.title&&(D.title=W),D})}var I=re(62),C=re.n(I),ge=re(609),pe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};C()(ge.Z,pe),ge.Z.locals;class me extends m.Plugin{static get pluginName(){return"HeadingUI"}init(){const x=this.editor,c=x.t,D=U(x),W=c("Choose heading"),q=c("Heading");x.ui.componentFactory.add("heading",ae=>{const Ie={},Ve=new y.Collection,_e=x.commands.get("heading"),Me=x.commands.get("paragraph"),Qe=[_e];for(const rt of D){const qe={type:"button",model:new S.Model({label:rt.title,class:rt.class,withText:!0})};rt.model==="paragraph"?(qe.model.bind("isOn").to(Me,"value"),qe.model.set("commandName","paragraph"),Qe.push(Me)):(qe.model.bind("isOn").to(_e,"value",et=>et===rt.model),qe.model.set({commandName:"heading",commandValue:rt.model})),Ve.add(qe),Ie[rt.model]=rt.title}const ut=(0,S.createDropdown)(ae);return(0,S.addListToDropdown)(ut,Ve),ut.buttonView.set({isOn:!1,withText:!0,tooltip:q}),ut.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),ut.bind("isEnabled").toMany(Qe,"isEnabled",(...rt)=>rt.some(qe=>qe)),ut.buttonView.bind("label").to(_e,"value",Me,"value",(rt,qe)=>{const et=rt||qe&&"paragraph";return typeof et=="boolean"?W:Ie[et]?Ie[et]:W}),this.listenTo(ut,"execute",rt=>{const{commandName:qe,commandValue:et}=rt.source;x.execute(qe,et?{value:et}:void 0),x.editing.view.focus()}),ut})}}class J extends m.Plugin{static get requires(){return[d,me]}static get pluginName(){return"Heading"}}const ee={heading1:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',heading2:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',heading3:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',heading4:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',heading5:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',heading6:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>'};class Z extends m.Plugin{init(){U(this.editor).filter(x=>x.model!=="paragraph").map(x=>this._createButton(x))}_createButton(x){const c=this.editor;c.ui.componentFactory.add(x.model,D=>{const W=new S.ButtonView(D),q=c.commands.get("heading");return W.label=x.title,W.icon=x.icon||ee[x.model],W.tooltip=!0,W.isToggleable=!0,W.bind("isEnabled").to(q),W.bind("isOn").to(q,"value",ae=>ae==x.model),W.on("execute",()=>{c.execute("heading",{value:x.model}),c.editing.view.focus()}),W})}}var h=re(492);const g=new Set(["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"]);class r extends m.Plugin{static get pluginName(){return"Title"}static get requires(){return["Paragraph"]}init(){const x=this.editor,c=x.model;this._bodyPlaceholder=null,c.schema.register("title",{isBlock:!0,allowIn:"$root"}),c.schema.register("title-content",{isBlock:!0,allowIn:"title",allowAttributes:["alignment"]}),c.schema.extend("$text",{allowIn:"title-content"}),c.schema.addAttributeCheck(D=>{if(D.endsWith("title-content $text"))return!1}),x.editing.mapper.on("modelToViewPosition",w(x.editing.view)),x.data.mapper.on("modelToViewPosition",w(x.editing.view)),x.conversion.for("downcast").elementToElement({model:"title-content",view:"h1"}),x.conversion.for("downcast").add(D=>D.on("insert:title",(W,q,ae)=>{ae.consumable.consume(q.item,W.name)})),x.data.upcastDispatcher.on("element:h1",u,{priority:"high"}),x.data.upcastDispatcher.on("element:h2",u,{priority:"high"}),x.data.upcastDispatcher.on("element:h3",u,{priority:"high"}),c.document.registerPostFixer(D=>this._fixTitleContent(D)),c.document.registerPostFixer(D=>this._fixTitleElement(D)),c.document.registerPostFixer(D=>this._fixBodyElement(D)),c.document.registerPostFixer(D=>this._fixExtraParagraph(D)),this._attachPlaceholders(),this._attachTabPressHandling()}getTitle(x={}){const c=this._getTitleElement().getChild(0);return this.editor.data.stringify(c,x)}getBody(x={}){const c=this.editor,D=c.data,W=c.model,q=c.model.document.getRoot(),ae=c.editing.view,Ie=new h.DowncastWriter(ae.document),Ve=W.createRangeIn(q),_e=Ie.createDocumentFragment(),Me=W.createPositionAfter(q.getChild(0)),Qe=W.createRange(Me,W.createPositionAt(q,"end")),ut=new Map;for(const rt of W.markers){const qe=Qe.getIntersection(rt.getRange());qe&&ut.set(rt.name,qe)}return D.mapper.clearBindings(),D.mapper.bindElements(q,_e),D.downcastDispatcher.convert(Ve,ut,Ie,x),Ie.remove(Ie.createRangeOn(_e.getChild(0))),c.data.processor.toData(_e)}_getTitleElement(){const x=this.editor.model.document.getRoot();for(const c of x.getChildren())if(v(c))return c}_fixTitleContent(x){const c=this._getTitleElement();if(!c||c.maxOffset===1)return!1;const D=Array.from(c.getChildren());D.shift();for(const W of D)x.move(x.createRangeOn(W),c,"after"),x.rename(W,"paragraph");return!0}_fixTitleElement(x){const c=this.editor.model,D=c.document.getRoot(),W=Array.from(D.getChildren()).filter(v),q=W[0],ae=D.getChild(0);if(ae.is("element","title"))return T(W,x,c);if(!q&&!g.has(ae.name)){const Ie=x.createElement("title");return x.insert(Ie,D),x.insertElement("title-content",Ie),!0}return g.has(ae.name)?function(Ie,Ve,_e){const Me=Ve.createElement("title");Ve.insert(Me,Ie,"before"),Ve.insert(Ie,Me,0),Ve.rename(Ie,"title-content"),_e.schema.removeDisallowedAttributes([Ie],Ve)}(ae,x,c):x.move(x.createRangeOn(q),D,0),T(W,x,c),!0}_fixBodyElement(x){const c=this.editor.model.document.getRoot();return c.childCount<2&&(this._bodyPlaceholder=x.createElement("paragraph"),x.insert(this._bodyPlaceholder,c,1),!0)}_fixExtraParagraph(x){const c=this.editor.model.document.getRoot(),D=this._bodyPlaceholder;return!!function(W,q){return!(!W||!W.is("element","paragraph")||W.childCount||q.childCount<=2||q.getChild(q.childCount-1)!==W)}(D,c)&&(this._bodyPlaceholder=null,x.remove(D),!0)}_attachPlaceholders(){const x=this.editor,c=x.t,D=x.editing.view,W=D.document.getRoot(),q=x.sourceElement,ae=x.config.get("title.placeholder")||c("Type your title"),Ie=x.config.get("placeholder")||q&&q.tagName.toLowerCase()==="textarea"&&q.getAttribute("placeholder")||c("Type or paste your content here.");let Ve;x.editing.downcastDispatcher.on("insert:title-content",(_e,Me,Qe)=>{(0,h.enablePlaceholder)({view:D,element:Qe.mapper.toViewElement(Me.item),text:ae,keepOnFocus:!0})}),D.document.registerPostFixer(_e=>{const Me=W.getChild(1);let Qe=!1;return Me!==Ve&&(Ve&&((0,h.hidePlaceholder)(_e,Ve),_e.removeAttribute("data-placeholder",Ve)),_e.setAttribute("data-placeholder",Ie,Me),Ve=Me,Qe=!0),Qe=(0,h.needsPlaceholder)(Me,!0)&&W.childCount===2&&Me.name==="p"?!!(0,h.showPlaceholder)(_e,Me)||Qe:!!(0,h.hidePlaceholder)(_e,Me)||Qe,Qe})}_attachTabPressHandling(){const x=this.editor,c=x.model;x.keystrokes.set("TAB",(D,W)=>{c.change(q=>{const ae=c.document.selection,Ie=Array.from(ae.getSelectedBlocks());if(Ie.length===1&&Ie[0].is("element","title-content")){const Ve=c.document.getRoot().getChild(1);q.setSelection(Ve,0),W()}})}),x.keystrokes.set("SHIFT + TAB",(D,W)=>{c.change(q=>{const ae=c.document.selection;if(!ae.isCollapsed)return;const Ie=x.model.document.getRoot(),Ve=(0,y.first)(ae.getSelectedBlocks()),_e=ae.getFirstPosition(),Me=Ie.getChild(0);Ve===Ie.getChild(1)&&_e.isAtStart&&(q.setSelection(Me.getChild(0),0),W())})})}}function u(L,x,c){const D=x.modelCursor,W=x.viewItem;if(!D.isAtStart||!D.parent.is("element","$root")||!c.consumable.consume(W,{name:!0}))return;const q=c.writer,ae=q.createElement("title"),Ie=q.createElement("title-content");q.append(Ie,ae),q.insert(ae,D),c.convertChildren(W,Ie),c.updateConversionResult(ae,x)}function w(L){return(x,c)=>{const D=c.modelPosition.parent;if(!D.is("element","title"))return;const W=D.parent,q=c.mapper.toViewElement(W);c.viewPosition=L.createPositionAt(q,0),x.stop()}}function v(L){return L.is("element","title")}function T(L,x,c){let D=!1;for(const W of L)W.index!==0&&(z(W,x,c),D=!0);return D}function z(L,x,c){const D=L.getChild(0);D.isEmpty?x.remove(L):(x.move(x.createRangeOn(D),L,"before"),x.rename(D,"paragraph"),x.remove(L),c.schema.removeDisallowedAttributes([D],x))}})(),(window.CKEditor5=window.CKEditor5||{}).heading=ii})()},99416:()=>{(function(ti){const Kt=ti.en=ti.en||{};Kt.dictionary=Object.assign(Kt.dictionary||{},{"Blue marker":"Blue marker","Green marker":"Green marker","Green pen":"Green pen",Highlight:"Highlight","Pink marker":"Pink marker","Red pen":"Red pen","Remove highlight":"Remove highlight","Text highlight toolbar":"Text highlight toolbar","Yellow marker":"Yellow marker"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var ti={458:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,":root{--ck-highlight-marker-yellow:#fdfd77;--ck-highlight-marker-green:#62f962;--ck-highlight-marker-pink:#fc7899;--ck-highlight-marker-blue:#72ccfd;--ck-highlight-pen-red:#e71313;--ck-highlight-pen-green:#128a00}.ck-content .marker-yellow{background-color:var(--ck-highlight-marker-yellow)}.ck-content .marker-green{background-color:var(--ck-highlight-marker-green)}.ck-content .marker-pink{background-color:var(--ck-highlight-marker-pink)}.ck-content .marker-blue{background-color:var(--ck-highlight-marker-blue)}.ck-content .pen-red{background-color:transparent;color:var(--ck-highlight-pen-red)}.ck-content .pen-green{background-color:transparent;color:var(--ck-highlight-pen-green)}",""]);const a=_},609:m=>{"use strict";m.exports=function(E){var y=[];return y.toString=function(){return this.map(function(f){var _=E(f);return f[2]?"@media ".concat(f[2]," {").concat(_,"}"):_}).join("")},y.i=function(f,_,a){typeof f=="string"&&(f=[[null,f,""]]);var d={};if(a)for(var S=0;S<this.length;S++){var U=this[S][0];U!=null&&(d[U]=!0)}for(var I=0;I<f.length;I++){var C=[].concat(f[I]);a&&d[C[0]]||(_&&(C[2]?C[2]="".concat(_," and ").concat(C[2]):C[2]=_),y.push(C))}},y}},62:(m,E,y)=>{"use strict";var f,_=function(){return f===void 0&&(f=Boolean(window&&document&&document.all&&!window.atob)),f},a=function(){var h={};return function(g){if(h[g]===void 0){var r=document.querySelector(g);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch{r=null}h[g]=r}return h[g]}}(),d=[];function S(h){for(var g=-1,r=0;r<d.length;r++)if(d[r].identifier===h){g=r;break}return g}function U(h,g){for(var r={},u=[],w=0;w<h.length;w++){var v=h[w],T=g.base?v[0]+g.base:v[0],z=r[T]||0,L="".concat(T," ").concat(z);r[T]=z+1;var x=S(L),c={css:v[1],media:v[2],sourceMap:v[3]};x!==-1?(d[x].references++,d[x].updater(c)):d.push({identifier:L,updater:Z(c,g),references:1}),u.push(L)}return u}function I(h){var g=document.createElement("style"),r=h.attributes||{};if(r.nonce===void 0){var u=y.nc;u&&(r.nonce=u)}if(Object.keys(r).forEach(function(v){g.setAttribute(v,r[v])}),typeof h.insert=="function")h.insert(g);else{var w=a(h.insert||"head");if(!w)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");w.appendChild(g)}return g}var C,ge=(C=[],function(h,g){return C[h]=g,C.filter(Boolean).join(`
`)});function pe(h,g,r,u){var w=r?"":u.media?"@media ".concat(u.media," {").concat(u.css,"}"):u.css;if(h.styleSheet)h.styleSheet.cssText=ge(g,w);else{var v=document.createTextNode(w),T=h.childNodes;T[g]&&h.removeChild(T[g]),T.length?h.insertBefore(v,T[g]):h.appendChild(v)}}function me(h,g,r){var u=r.css,w=r.media,v=r.sourceMap;if(w?h.setAttribute("media",w):h.removeAttribute("media"),v&&typeof btoa<"u"&&(u+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(v))))," */")),h.styleSheet)h.styleSheet.cssText=u;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(u))}}var J=null,ee=0;function Z(h,g){var r,u,w;if(g.singleton){var v=ee++;r=J||(J=I(g)),u=pe.bind(null,r,v,!1),w=pe.bind(null,r,v,!0)}else r=I(g),u=me.bind(null,r,g),w=function(){(function(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T)})(r)};return u(h),function(T){if(T){if(T.css===h.css&&T.media===h.media&&T.sourceMap===h.sourceMap)return;u(h=T)}else w()}}m.exports=function(h,g){(g=g||{}).singleton||typeof g.singleton=="boolean"||(g.singleton=_());var r=U(h=h||[],g);return function(u){if(u=u||[],Object.prototype.toString.call(u)==="[object Array]"){for(var w=0;w<r.length;w++){var v=S(r[w]);d[v].references--}for(var T=U(u,g),z=0;z<r.length;z++){var L=S(r[z]);d[L].references===0&&(d[L].updater(),d.splice(L,1))}r=T}}}},704:(m,E,y)=>{m.exports=y(79)("./src/core.js")},273:(m,E,y)=>{m.exports=y(79)("./src/ui.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},Kt={};function re(m){var E=Kt[m];if(E!==void 0)return E.exports;var y=Kt[m]={id:m,exports:{}};return ti[m](y,y.exports,re),y.exports}re.n=m=>{var E=m&&m.__esModule?()=>m.default:()=>m;return re.d(E,{a:E}),E},re.d=(m,E)=>{for(var y in E)re.o(E,y)&&!re.o(m,y)&&Object.defineProperty(m,y,{enumerable:!0,get:E[y]})},re.o=(m,E)=>Object.prototype.hasOwnProperty.call(m,E),re.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},re.nc=void 0;var ii={};(()=>{"use strict";re.r(ii),re.d(ii,{Highlight:()=>pe,HighlightEditing:()=>y,HighlightUI:()=>C});var m=re(704);class E extends m.Command{refresh(){const J=this.editor.model,ee=J.document;this.value=ee.selection.getAttribute("highlight"),this.isEnabled=J.schema.checkAttributeInSelection(ee.selection,"highlight")}execute(J={}){const ee=this.editor.model,Z=ee.document.selection,h=J.value;ee.change(g=>{if(Z.isCollapsed){const r=Z.getFirstPosition();if(Z.hasAttribute("highlight")){const u=z=>z.item.hasAttribute("highlight")&&z.item.getAttribute("highlight")===this.value,w=r.getLastMatchingPosition(u,{direction:"backward"}),v=r.getLastMatchingPosition(u),T=g.createRange(w,v);h&&this.value!==h?(r.isEqual(v)||g.setAttribute("highlight",h,T),g.setSelectionAttribute("highlight",h)):(r.isEqual(v)||g.removeAttribute("highlight",T),g.removeSelectionAttribute("highlight"))}else h&&g.setSelectionAttribute("highlight",h)}else{const r=ee.schema.getValidRanges(Z.getRanges(),"highlight");for(const u of r)h?g.setAttribute("highlight",h,u):g.removeAttribute("highlight",u)}})}}class y extends m.Plugin{static get pluginName(){return"HighlightEditing"}constructor(J){super(J),J.config.define("highlight",{options:[{model:"yellowMarker",class:"marker-yellow",title:"Yellow marker",color:"var(--ck-highlight-marker-yellow)",type:"marker"},{model:"greenMarker",class:"marker-green",title:"Green marker",color:"var(--ck-highlight-marker-green)",type:"marker"},{model:"pinkMarker",class:"marker-pink",title:"Pink marker",color:"var(--ck-highlight-marker-pink)",type:"marker"},{model:"blueMarker",class:"marker-blue",title:"Blue marker",color:"var(--ck-highlight-marker-blue)",type:"marker"},{model:"redPen",class:"pen-red",title:"Red pen",color:"var(--ck-highlight-pen-red)",type:"pen"},{model:"greenPen",class:"pen-green",title:"Green pen",color:"var(--ck-highlight-pen-green)",type:"pen"}]})}init(){const J=this.editor;J.model.schema.extend("$text",{allowAttributes:"highlight"});const ee=J.config.get("highlight.options");J.conversion.attributeToElement(function(Z){const h={model:{key:"highlight",values:[]},view:{}};for(const g of Z)h.model.values.push(g.model),h.view[g.model]={name:"mark",classes:g.class};return h}(ee)),J.commands.add("highlight",new E(J))}}var f=re(273);const _='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.798 1.59 3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z"/><path d="m2.556 16.727.234-.348c-.297-.151-.462-.293-.498-.426-.036-.137.002-.416.115-.837.094-.25.15-.449.169-.595a4.495 4.495 0 0 0 0-.725c-.209-.621-.303-1.041-.284-1.26.02-.218.178-.506.475-.862l6.77-9.414c.539-.91 1.605-.85 3.199.18 1.594 1.032 2.188 1.928 1.784 2.686l-5.877 10.36c-.158.412-.333.673-.526.782-.193.108-.604.179-1.232.21-.362.131-.608.237-.738.318-.13.081-.305.238-.526.47-.293.265-.504.397-.632.397-.096 0-.27-.075-.524-.226l-.31.41-1.6-1.12zm-.279.415 1.575 1.103-.392.515H1.19l1.087-1.618zm8.1-13.656-4.953 6.9L8.75 12.57l4.247-7.574c.175-.25-.188-.647-1.092-1.192-.903-.546-1.412-.652-1.528-.32zM8.244 18.5 9.59 17h9.406v1.5H8.245z"/></svg>',a='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.126 2.268 2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568-2.801-.645z"/><path d="m4.5 18.088-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97c.165-.233.356-.417.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005-3.055.797H4.5zm-.634.166-1.976.516-.026-1.918 2.002 1.402zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349zM8.245 18.5 9.59 17h9.406v1.5H8.245z"/></svg>';var d=re(62),S=re.n(d),U=re(458),I={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};S()(U.Z,I),U.Z.locals;class C extends m.Plugin{get localizedOptionTitles(){const J=this.editor.t;return{"Yellow marker":J("Yellow marker"),"Green marker":J("Green marker"),"Pink marker":J("Pink marker"),"Blue marker":J("Blue marker"),"Red pen":J("Red pen"),"Green pen":J("Green pen")}}static get pluginName(){return"HighlightUI"}init(){const J=this.editor.config.get("highlight.options");for(const ee of J)this._addHighlighterButton(ee);this._addRemoveHighlightButton(),this._addDropdown(J)}_addRemoveHighlightButton(){const J=this.editor.t,ee=this.editor.commands.get("highlight");this._addButton("removeHighlight",J("Remove highlight"),m.icons.eraser,null,Z=>{Z.bind("isEnabled").to(ee,"isEnabled")})}_addHighlighterButton(J){const ee=this.editor.commands.get("highlight");this._addButton("highlight:"+J.model,J.title,ge(J.type),J.model,function(Z){Z.bind("isEnabled").to(ee,"isEnabled"),Z.bind("isOn").to(ee,"value",h=>h===J.model),Z.iconView.fillColor=J.color,Z.isToggleable=!0})}_addButton(J,ee,Z,h,g){const r=this.editor;r.ui.componentFactory.add(J,u=>{const w=new f.ButtonView(u),v=this.localizedOptionTitles[ee]?this.localizedOptionTitles[ee]:ee;return w.set({label:v,icon:Z,tooltip:!0}),w.on("execute",()=>{r.execute("highlight",{value:h}),r.editing.view.focus()}),g(w),w})}_addDropdown(J){const ee=this.editor,Z=ee.t,h=ee.ui.componentFactory,g=J[0],r=J.reduce((u,w)=>(u[w.model]=w,u),{});h.add("highlight",u=>{const w=ee.commands.get("highlight"),v=(0,f.createDropdown)(u,f.SplitButtonView),T=v.buttonView;T.set({label:Z("Highlight"),tooltip:!0,lastExecuted:g.model,commandValue:g.model,isToggleable:!0}),T.bind("icon").to(w,"value",L=>ge(z(L,"type"))),T.bind("color").to(w,"value",L=>z(L,"color")),T.bind("commandValue").to(w,"value",L=>z(L,"model")),T.bind("isOn").to(w,"value",L=>!!L),T.delegate("execute").to(v);function z(L,x){const c=L&&L!==T.lastExecuted?L:T.lastExecuted;return r[c][x]}return v.bind("isEnabled").to(w,"isEnabled"),(0,f.addToolbarToDropdown)(v,()=>{const L=J.map(x=>{const c=h.create("highlight:"+x.model);return this.listenTo(c,"execute",()=>{v.buttonView.set({lastExecuted:x.model})}),c});return L.push(new f.ToolbarSeparatorView),L.push(h.create("removeHighlight")),L},{enableActiveItemFocusOnDropdownOpen:!0,ariaLabel:Z("Text highlight toolbar")}),function(L){L.buttonView.actionView.iconView.bind("fillColor").to(L.buttonView,"color")}(v),T.on("execute",()=>{ee.execute("highlight",{value:T.commandValue})}),this.listenTo(v,"execute",()=>{ee.editing.view.focus()}),v})}}function ge(me){return me==="marker"?_:a}class pe extends m.Plugin{static get requires(){return[y,C]}static get pluginName(){return"Highlight"}}})(),(window.CKEditor5=window.CKEditor5||{}).highlight=ii})()},29781:()=>{(function(ti){const Kt=ti.en=ti.en||{};Kt.dictionary=Object.assign(Kt.dictionary||{},{"Horizontal line":"Horizontal line"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var ti={73:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,".ck-editor__editable .ck-horizontal-line{display:flow-root}.ck-content hr{background:#dedede;border:0;height:4px;margin:15px 0}",""]);const a=_},609:m=>{"use strict";m.exports=function(E){var y=[];return y.toString=function(){return this.map(function(f){var _=E(f);return f[2]?"@media ".concat(f[2]," {").concat(_,"}"):_}).join("")},y.i=function(f,_,a){typeof f=="string"&&(f=[[null,f,""]]);var d={};if(a)for(var S=0;S<this.length;S++){var U=this[S][0];U!=null&&(d[U]=!0)}for(var I=0;I<f.length;I++){var C=[].concat(f[I]);a&&d[C[0]]||(_&&(C[2]?C[2]="".concat(_," and ").concat(C[2]):C[2]=_),y.push(C))}},y}},62:(m,E,y)=>{"use strict";var f,_=function(){return f===void 0&&(f=Boolean(window&&document&&document.all&&!window.atob)),f},a=function(){var h={};return function(g){if(h[g]===void 0){var r=document.querySelector(g);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch{r=null}h[g]=r}return h[g]}}(),d=[];function S(h){for(var g=-1,r=0;r<d.length;r++)if(d[r].identifier===h){g=r;break}return g}function U(h,g){for(var r={},u=[],w=0;w<h.length;w++){var v=h[w],T=g.base?v[0]+g.base:v[0],z=r[T]||0,L="".concat(T," ").concat(z);r[T]=z+1;var x=S(L),c={css:v[1],media:v[2],sourceMap:v[3]};x!==-1?(d[x].references++,d[x].updater(c)):d.push({identifier:L,updater:Z(c,g),references:1}),u.push(L)}return u}function I(h){var g=document.createElement("style"),r=h.attributes||{};if(r.nonce===void 0){var u=y.nc;u&&(r.nonce=u)}if(Object.keys(r).forEach(function(v){g.setAttribute(v,r[v])}),typeof h.insert=="function")h.insert(g);else{var w=a(h.insert||"head");if(!w)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");w.appendChild(g)}return g}var C,ge=(C=[],function(h,g){return C[h]=g,C.filter(Boolean).join(`
`)});function pe(h,g,r,u){var w=r?"":u.media?"@media ".concat(u.media," {").concat(u.css,"}"):u.css;if(h.styleSheet)h.styleSheet.cssText=ge(g,w);else{var v=document.createTextNode(w),T=h.childNodes;T[g]&&h.removeChild(T[g]),T.length?h.insertBefore(v,T[g]):h.appendChild(v)}}function me(h,g,r){var u=r.css,w=r.media,v=r.sourceMap;if(w?h.setAttribute("media",w):h.removeAttribute("media"),v&&typeof btoa<"u"&&(u+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(v))))," */")),h.styleSheet)h.styleSheet.cssText=u;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(u))}}var J=null,ee=0;function Z(h,g){var r,u,w;if(g.singleton){var v=ee++;r=J||(J=I(g)),u=pe.bind(null,r,v,!1),w=pe.bind(null,r,v,!0)}else r=I(g),u=me.bind(null,r,g),w=function(){(function(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T)})(r)};return u(h),function(T){if(T){if(T.css===h.css&&T.media===h.media&&T.sourceMap===h.sourceMap)return;u(h=T)}else w()}}m.exports=function(h,g){(g=g||{}).singleton||typeof g.singleton=="boolean"||(g.singleton=_());var r=U(h=h||[],g);return function(u){if(u=u||[],Object.prototype.toString.call(u)==="[object Array]"){for(var w=0;w<r.length;w++){var v=S(r[w]);d[v].references--}for(var T=U(u,g),z=0;z<r.length;z++){var L=S(r[z]);d[L].references===0&&(d[L].updater(),d.splice(L,1))}r=T}}}},704:(m,E,y)=>{m.exports=y(79)("./src/core.js")},273:(m,E,y)=>{m.exports=y(79)("./src/ui.js")},995:(m,E,y)=>{m.exports=y(79)("./src/widget.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},Kt={};function re(m){var E=Kt[m];if(E!==void 0)return E.exports;var y=Kt[m]={id:m,exports:{}};return ti[m](y,y.exports,re),y.exports}re.n=m=>{var E=m&&m.__esModule?()=>m.default:()=>m;return re.d(E,{a:E}),E},re.d=(m,E)=>{for(var y in E)re.o(E,y)&&!re.o(m,y)&&Object.defineProperty(m,y,{enumerable:!0,get:E[y]})},re.o=(m,E)=>Object.prototype.hasOwnProperty.call(m,E),re.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},re.nc=void 0;var ii={};(()=>{"use strict";re.r(ii),re.d(ii,{HorizontalLine:()=>C,HorizontalLineEditing:()=>S,HorizontalLineUI:()=>I});var m=re(704),E=re(995);class y extends m.Command{refresh(){const pe=this.editor.model,me=pe.schema,J=pe.document.selection;this.isEnabled=function(ee,Z,h){const g=function(r,u){const w=(0,E.findOptimalInsertionRange)(r,u),v=w.start.parent;return v.isEmpty&&!v.is("element","$root")?v.parent:v}(ee,h);return Z.checkChild(g,"horizontalLine")}(J,me,pe)}execute(){const pe=this.editor.model;pe.change(me=>{const J=me.createElement("horizontalLine");pe.insertObject(J,null,null,{setSelection:"after"})})}}var f=re(62),_=re.n(f),a=re(73),d={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_()(a.Z,d),a.Z.locals;class S extends m.Plugin{static get pluginName(){return"HorizontalLineEditing"}init(){const pe=this.editor,me=pe.model.schema,J=pe.t,ee=pe.conversion;me.register("horizontalLine",{inheritAllFrom:"$blockObject"}),ee.for("dataDowncast").elementToElement({model:"horizontalLine",view:(Z,{writer:h})=>h.createEmptyElement("hr")}),ee.for("editingDowncast").elementToStructure({model:"horizontalLine",view:(Z,{writer:h})=>{const g=J("Horizontal line"),r=h.createContainerElement("div",null,h.createEmptyElement("hr"));return h.addClass("ck-horizontal-line",r),h.setCustomProperty("hr",!0,r),function(u,w,v){return w.setCustomProperty("horizontalLine",!0,u),(0,E.toWidget)(u,w,{label:v})}(r,h,g)}}),ee.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),pe.commands.add("horizontalLine",new y(pe))}}var U=re(273);class I extends m.Plugin{static get pluginName(){return"HorizontalLineUI"}init(){const pe=this.editor,me=pe.t;pe.ui.componentFactory.add("horizontalLine",J=>{const ee=pe.commands.get("horizontalLine"),Z=new U.ButtonView(J);return Z.set({label:me("Horizontal line"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',tooltip:!0}),Z.bind("isEnabled").to(ee,"isEnabled"),this.listenTo(Z,"execute",()=>{pe.execute("horizontalLine"),pe.editing.view.focus()}),Z})}}class C extends m.Plugin{static get requires(){return[S,I,E.Widget]}static get pluginName(){return"HorizontalLine"}}})(),(window.CKEditor5=window.CKEditor5||{}).horizontalLine=ii})()},78590:()=>{(function(ti){const Kt=ti.en=ti.en||{};Kt.dictionary=Object.assign(Kt.dictionary||{},{"Edit source":"Edit source","Empty snippet content":"Empty snippet content","HTML snippet":"HTML snippet","Insert HTML":"Insert HTML","No preview available":"No preview available","Paste raw HTML here...":"Paste raw HTML here...","Save changes":"Save changes"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var ti={600:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,".ck-widget.raw-html-embed{display:flow-root;font-style:normal;margin:.9em auto;min-width:15em;position:relative}.ck-widget.raw-html-embed:before{position:absolute;z-index:1}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{display:flex;flex-direction:column;position:absolute}.ck-widget.raw-html-embed .raw-html-embed__preview{display:flex;overflow:hidden;position:relative}.ck-widget.raw-html-embed .raw-html-embed__preview-content{border-collapse:separate;border-spacing:7px;display:table;margin:auto;position:relative;width:100%}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}:root{--ck-html-embed-content-width:calc(100% - var(--ck-icon-size)*1.5);--ck-html-embed-source-height:10em;--ck-html-embed-unfocused-outline-width:1px;--ck-html-embed-content-min-height:calc(var(--ck-icon-size) + var(--ck-spacing-standard));--ck-html-embed-source-disabled-background:var(--ck-color-base-foreground);--ck-html-embed-source-disabled-color:#737373}.ck-widget.raw-html-embed{background-color:var(--ck-color-base-foreground);font-size:var(--ck-font-size-base)}.ck-widget.raw-html-embed:not(.ck-widget_selected):not(:hover){outline:var(--ck-html-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border)}.ck-widget.raw-html-embed[dir=ltr]{text-align:left}.ck-widget.raw-html-embed[dir=rtl]{text-align:right}.ck-widget.raw-html-embed:before{background:#999;border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius);color:var(--ck-color-base-background);content:attr(data-html-embed-label);font-family:var(--ck-font-face);font-size:var(--ck-font-size-tiny);left:var(--ck-spacing-standard);padding:calc(var(--ck-spacing-tiny) + var(--ck-html-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);top:calc(var(--ck-html-embed-unfocused-outline-width)*-1);transition:background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck-widget.raw-html-embed[dir=rtl]:before{left:auto;right:var(--ck-spacing-standard)}.ck-widget.raw-html-embed[dir=ltr] .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before{margin-left:50px}.ck.ck-editor__editable.ck-blurred .ck-widget.raw-html-embed.ck-widget_selected:before{padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck.ck-editor__editable:not(.ck-blurred) .ck-widget.raw-html-embed.ck-widget_selected:before{background:var(--ck-color-focus-border);padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck.ck-editor__editable .ck-widget.raw-html-embed:not(.ck-widget_selected):hover:before{padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck-widget.raw-html-embed .raw-html-embed__content-wrapper{padding:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{right:var(--ck-spacing-standard);top:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__save-button{color:var(--ck-color-button-save)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__cancel-button{color:var(--ck-color-button-cancel)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button:not(:first-child){margin-top:var(--ck-spacing-small)}.ck-widget.raw-html-embed[dir=rtl] .raw-html-embed__buttons-wrapper{left:var(--ck-spacing-standard);right:auto}.ck-widget.raw-html-embed .raw-html-embed__source{box-sizing:border-box;direction:ltr;font-family:monospace;font-size:var(--ck-font-size-base);height:var(--ck-html-embed-source-height);min-width:0;padding:var(--ck-spacing-standard);resize:none;tab-size:4;text-align:left;white-space:pre-wrap;width:var(--ck-html-embed-content-width)}.ck-widget.raw-html-embed .raw-html-embed__source[disabled]{-webkit-text-fill-color:var(--ck-html-embed-source-disabled-color);background:var(--ck-html-embed-source-disabled-background);color:var(--ck-html-embed-source-disabled-color);opacity:1}.ck-widget.raw-html-embed .raw-html-embed__preview{min-height:var(--ck-html-embed-content-min-height);width:var(--ck-html-embed-content-width)}.ck-editor__editable:not(.ck-read-only) .ck-widget.raw-html-embed .raw-html-embed__preview{pointer-events:none}.ck-widget.raw-html-embed .raw-html-embed__preview-content{background-color:var(--ck-color-base-foreground);box-sizing:border-box}.ck-widget.raw-html-embed .raw-html-embed__preview-content>*{margin-left:auto;margin-right:auto}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{color:var(--ck-html-embed-source-disabled-color)}",""]);const a=_},609:m=>{"use strict";m.exports=function(E){var y=[];return y.toString=function(){return this.map(function(f){var _=E(f);return f[2]?"@media ".concat(f[2]," {").concat(_,"}"):_}).join("")},y.i=function(f,_,a){typeof f=="string"&&(f=[[null,f,""]]);var d={};if(a)for(var S=0;S<this.length;S++){var U=this[S][0];U!=null&&(d[U]=!0)}for(var I=0;I<f.length;I++){var C=[].concat(f[I]);a&&d[C[0]]||(_&&(C[2]?C[2]="".concat(_," and ").concat(C[2]):C[2]=_),y.push(C))}},y}},62:(m,E,y)=>{"use strict";var f,_=function(){return f===void 0&&(f=Boolean(window&&document&&document.all&&!window.atob)),f},a=function(){var h={};return function(g){if(h[g]===void 0){var r=document.querySelector(g);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch{r=null}h[g]=r}return h[g]}}(),d=[];function S(h){for(var g=-1,r=0;r<d.length;r++)if(d[r].identifier===h){g=r;break}return g}function U(h,g){for(var r={},u=[],w=0;w<h.length;w++){var v=h[w],T=g.base?v[0]+g.base:v[0],z=r[T]||0,L="".concat(T," ").concat(z);r[T]=z+1;var x=S(L),c={css:v[1],media:v[2],sourceMap:v[3]};x!==-1?(d[x].references++,d[x].updater(c)):d.push({identifier:L,updater:Z(c,g),references:1}),u.push(L)}return u}function I(h){var g=document.createElement("style"),r=h.attributes||{};if(r.nonce===void 0){var u=y.nc;u&&(r.nonce=u)}if(Object.keys(r).forEach(function(v){g.setAttribute(v,r[v])}),typeof h.insert=="function")h.insert(g);else{var w=a(h.insert||"head");if(!w)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");w.appendChild(g)}return g}var C,ge=(C=[],function(h,g){return C[h]=g,C.filter(Boolean).join(`
`)});function pe(h,g,r,u){var w=r?"":u.media?"@media ".concat(u.media," {").concat(u.css,"}"):u.css;if(h.styleSheet)h.styleSheet.cssText=ge(g,w);else{var v=document.createTextNode(w),T=h.childNodes;T[g]&&h.removeChild(T[g]),T.length?h.insertBefore(v,T[g]):h.appendChild(v)}}function me(h,g,r){var u=r.css,w=r.media,v=r.sourceMap;if(w?h.setAttribute("media",w):h.removeAttribute("media"),v&&typeof btoa<"u"&&(u+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(v))))," */")),h.styleSheet)h.styleSheet.cssText=u;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(u))}}var J=null,ee=0;function Z(h,g){var r,u,w;if(g.singleton){var v=ee++;r=J||(J=I(g)),u=pe.bind(null,r,v,!1),w=pe.bind(null,r,v,!0)}else r=I(g),u=me.bind(null,r,g),w=function(){(function(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T)})(r)};return u(h),function(T){if(T){if(T.css===h.css&&T.media===h.media&&T.sourceMap===h.sourceMap)return;u(h=T)}else w()}}m.exports=function(h,g){(g=g||{}).singleton||typeof g.singleton=="boolean"||(g.singleton=_());var r=U(h=h||[],g);return function(u){if(u=u||[],Object.prototype.toString.call(u)==="[object Array]"){for(var w=0;w<r.length;w++){var v=S(r[w]);d[v].references--}for(var T=U(u,g),z=0;z<r.length;z++){var L=S(r[z]);d[L].references===0&&(d[L].updater(),d.splice(L,1))}r=T}}}},704:(m,E,y)=>{m.exports=y(79)("./src/core.js")},273:(m,E,y)=>{m.exports=y(79)("./src/ui.js")},209:(m,E,y)=>{m.exports=y(79)("./src/utils.js")},995:(m,E,y)=>{m.exports=y(79)("./src/widget.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},Kt={};function re(m){var E=Kt[m];if(E!==void 0)return E.exports;var y=Kt[m]={id:m,exports:{}};return ti[m](y,y.exports,re),y.exports}re.n=m=>{var E=m&&m.__esModule?()=>m.default:()=>m;return re.d(E,{a:E}),E},re.d=(m,E)=>{for(var y in E)re.o(E,y)&&!re.o(m,y)&&Object.defineProperty(m,y,{enumerable:!0,get:E[y]})},re.o=(m,E)=>Object.prototype.hasOwnProperty.call(m,E),re.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},re.nc=void 0;var ii={};(()=>{"use strict";re.r(ii),re.d(ii,{HtmlEmbed:()=>me,HtmlEmbedEditing:()=>C,HtmlEmbedUI:()=>pe});var m=re(704),E=re(995),y=re(273),f=re(209);class _ extends m.Command{refresh(){const ee=this.editor.model,Z=ee.schema,h=ee.document.selection,g=a(h);this.isEnabled=function(r,u,w){const v=function(T,z){const L=(0,E.findOptimalInsertionRange)(T,z),x=L.start.parent;return x.isEmpty&&!x.is("element","$root")?x.parent:x}(r,w);return u.checkChild(v,"rawHtml")}(h,Z,ee),this.value=g?g.getAttribute("value")||"":null}execute(ee){const Z=this.editor.model,h=Z.document.selection;Z.change(g=>{let r;this.value!==null?r=a(h):(r=g.createElement("rawHtml"),Z.insertObject(r,null,null,{setSelection:"on"})),g.setAttribute("value",ee,r)})}}function a(J){const ee=J.getSelectedElement();return ee&&ee.is("element","rawHtml")?ee:null}var d=re(62),S=re.n(d),U=re(600),I={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};S()(U.Z,I),U.Z.locals;class C extends m.Plugin{static get pluginName(){return"HtmlEmbedEditing"}constructor(ee){super(ee),ee.config.define("htmlEmbed",{showPreviews:!1,sanitizeHtml:Z=>((0,f.logWarning)("html-embed-provide-sanitize-function"),{html:Z,hasChanged:!1})}),this._widgetButtonViewReferences=new Set}init(){const ee=this.editor;ee.model.schema.register("rawHtml",{inheritAllFrom:"$blockObject",allowAttributes:["value"]}),ee.commands.add("htmlEmbed",new _(ee)),this._setupConversion()}_setupConversion(){const ee=this.editor,Z=ee.t,h=ee.editing.view,g=this._widgetButtonViewReferences,r=ee.config.get("htmlEmbed");function u({domElement:v,editor:T,state:z,props:L}){v.textContent="";const x=v.ownerDocument;let c;if(z.isEditable){const W={isDisabled:!1,placeholder:L.textareaPlaceholder};c=w({domDocument:x,state:z,props:W}),v.append(c)}else if(z.showPreviews){const W={sanitizeHtml:L.sanitizeHtml};v.append(function({domDocument:q,state:ae,props:Ie,editor:Ve}){const _e=Ie.sanitizeHtml(ae.getRawHtmlValue()),Me=ae.getRawHtmlValue().length>0?Z("No preview available"):Z("Empty snippet content"),Qe=(0,f.createElement)(q,"div",{class:"ck ck-reset_all raw-html-embed__preview-placeholder"},Me),ut=(0,f.createElement)(q,"div",{class:"raw-html-embed__preview-content",dir:Ve.locale.contentLanguageDirection}),rt=q.createRange(),qe=rt.createContextualFragment(_e.html);return ut.appendChild(qe),(0,f.createElement)(q,"div",{class:"raw-html-embed__preview"},[Qe,ut])}({domDocument:x,state:z,props:W,editor:T}))}else{const W={isDisabled:!0,placeholder:L.textareaPlaceholder};v.append(w({domDocument:x,state:z,props:W}))}const D={onEditClick:L.onEditClick,onSaveClick:()=>{L.onSaveClick(c.value)},onCancelClick:L.onCancelClick};v.prepend(function({editor:W,domDocument:q,state:ae,props:Ie}){const Ve=(0,f.createElement)(q,"div",{class:"raw-html-embed__buttons-wrapper"});if(ae.isEditable){const _e=ge(W,"save",Ie.onSaveClick),Me=ge(W,"cancel",Ie.onCancelClick);Ve.append(_e.element,Me.element),g.add(_e).add(Me)}else{const _e=ge(W,"edit",Ie.onEditClick);Ve.append(_e.element),g.add(_e)}return Ve}({editor:T,domDocument:x,state:z,props:D}))}function w({domDocument:v,state:T,props:z}){const L=(0,f.createElement)(v,"textarea",{placeholder:z.placeholder,class:"ck ck-reset ck-input ck-input-text raw-html-embed__source"});return L.disabled=z.isDisabled,L.value=T.getRawHtmlValue(),L}this.editor.editing.view.on("render",()=>{for(const v of g){if(v.element.isConnected)return;v.destroy(),g.delete(v)}},{priority:"lowest"}),ee.data.registerRawContentMatcher({name:"div",classes:"raw-html-embed"}),ee.conversion.for("upcast").elementToElement({view:{name:"div",classes:"raw-html-embed"},model:(v,{writer:T})=>T.createElement("rawHtml",{value:v.getCustomProperty("$rawContent")})}),ee.conversion.for("dataDowncast").elementToElement({model:"rawHtml",view:(v,{writer:T})=>T.createRawElement("div",{class:"raw-html-embed"},function(z){z.innerHTML=v.getAttribute("value")||""})}),ee.conversion.for("editingDowncast").elementToStructure({model:{name:"rawHtml",attributes:["value"]},view:(v,{writer:T})=>{let z,L,x;const c=T.createRawElement("div",{class:"raw-html-embed__content-wrapper"},function(q){z=q,u({domElement:q,editor:ee,state:L,props:x}),z.addEventListener("mousedown",()=>{if(L.isEditable){const ae=ee.model;ae.document.selection.getSelectedElement()!==v&&ae.change(Ie=>Ie.setSelection(v,"on"))}},!0)}),D={makeEditable(){L=Object.assign({},L,{isEditable:!0}),u({domElement:z,editor:ee,state:L,props:x}),h.change(q=>{q.setAttribute("data-cke-ignore-events","true",c)}),z.querySelector("textarea").focus()},save(q){q!==L.getRawHtmlValue()?(ee.execute("htmlEmbed",q),ee.editing.view.focus()):this.cancel()},cancel(){L=Object.assign({},L,{isEditable:!1}),u({domElement:z,editor:ee,state:L,props:x}),ee.editing.view.focus(),h.change(q=>{q.removeAttribute("data-cke-ignore-events",c)})}};L={showPreviews:r.showPreviews,isEditable:!1,getRawHtmlValue:()=>v.getAttribute("value")||""},x={sanitizeHtml:r.sanitizeHtml,textareaPlaceholder:Z("Paste raw HTML here..."),onEditClick(){D.makeEditable()},onSaveClick(q){D.save(q)},onCancelClick(){D.cancel()}};const W=T.createContainerElement("div",{class:"raw-html-embed","data-html-embed-label":Z("HTML snippet"),dir:ee.locale.uiLanguageDirection},c);return T.setCustomProperty("rawHtmlApi",D,W),T.setCustomProperty("rawHtml",!0,W),(0,E.toWidget)(W,T,{widgetLabel:Z("HTML snippet"),hasSelectionHandle:!0})}})}}function ge(J,ee,Z){const h=J.locale.t,g=new y.ButtonView(J.locale),r=J.commands.get("htmlEmbed");return g.set({class:`raw-html-embed__${ee}-button`,icon:m.icons.pencil,tooltip:!0,tooltipPosition:J.locale.uiLanguageDirection==="rtl"?"e":"w"}),g.render(),ee==="edit"?(g.set({icon:m.icons.pencil,label:h("Edit source")}),g.bind("isEnabled").to(r)):ee==="save"?(g.set({icon:m.icons.check,label:h("Save changes")}),g.bind("isEnabled").to(r)):g.set({icon:m.icons.cancel,label:h("Cancel")}),g.on("execute",Z),g}class pe extends m.Plugin{static get pluginName(){return"HtmlEmbedUI"}init(){const ee=this.editor,Z=ee.t;ee.ui.componentFactory.add("htmlEmbed",h=>{const g=ee.commands.get("htmlEmbed"),r=new y.ButtonView(h);return r.set({label:Z("Insert HTML"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',tooltip:!0}),r.bind("isEnabled").to(g,"isEnabled"),this.listenTo(r,"execute",()=>{ee.execute("htmlEmbed"),ee.editing.view.focus(),ee.editing.view.document.selection.getSelectedElement().getCustomProperty("rawHtmlApi").makeEditable()}),r})}}class me extends m.Plugin{static get requires(){return[C,pe,E.Widget]}static get pluginName(){return"HtmlEmbed"}}})(),(window.CKEditor5=window.CKEditor5||{}).htmlEmbed=ii})()},11093:()=>{(function(ti){const Kt=ti.en=ti.en||{};Kt.dictionary=Object.assign(Kt.dictionary||{},{"Break text":"Break text","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Enter image caption":"Enter image caption","Full size image":"Full size image","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line",Insert:"Insert","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Left aligned image":"Left aligned image",Original:"Original","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Right aligned image":"Right aligned image","Side image":"Side image","Text alternative":"Text alternative",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Wrap text":"Wrap text"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var ti={540:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}",""]);const a=_},560:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}",""]);const a=_},91:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}",""]);const a=_},439:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}",""]);const a=_},601:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,".ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}",""]);const a=_},29:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}",""]);const a=_},948:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',""]);const a=_},467:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',""]);const a=_},271:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}",""]);const a=_},168:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}",""]);const a=_},764:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const a=_},609:m=>{"use strict";m.exports=function(E){var y=[];return y.toString=function(){return this.map(function(f){var _=E(f);return f[2]?"@media ".concat(f[2]," {").concat(_,"}"):_}).join("")},y.i=function(f,_,a){typeof f=="string"&&(f=[[null,f,""]]);var d={};if(a)for(var S=0;S<this.length;S++){var U=this[S][0];U!=null&&(d[U]=!0)}for(var I=0;I<f.length;I++){var C=[].concat(f[I]);a&&d[C[0]]||(_&&(C[2]?C[2]="".concat(_," and ").concat(C[2]):C[2]=_),y.push(C))}},y}},62:(m,E,y)=>{"use strict";var f,_=function(){return f===void 0&&(f=Boolean(window&&document&&document.all&&!window.atob)),f},a=function(){var h={};return function(g){if(h[g]===void 0){var r=document.querySelector(g);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch{r=null}h[g]=r}return h[g]}}(),d=[];function S(h){for(var g=-1,r=0;r<d.length;r++)if(d[r].identifier===h){g=r;break}return g}function U(h,g){for(var r={},u=[],w=0;w<h.length;w++){var v=h[w],T=g.base?v[0]+g.base:v[0],z=r[T]||0,L="".concat(T," ").concat(z);r[T]=z+1;var x=S(L),c={css:v[1],media:v[2],sourceMap:v[3]};x!==-1?(d[x].references++,d[x].updater(c)):d.push({identifier:L,updater:Z(c,g),references:1}),u.push(L)}return u}function I(h){var g=document.createElement("style"),r=h.attributes||{};if(r.nonce===void 0){var u=y.nc;u&&(r.nonce=u)}if(Object.keys(r).forEach(function(v){g.setAttribute(v,r[v])}),typeof h.insert=="function")h.insert(g);else{var w=a(h.insert||"head");if(!w)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");w.appendChild(g)}return g}var C,ge=(C=[],function(h,g){return C[h]=g,C.filter(Boolean).join(`
`)});function pe(h,g,r,u){var w=r?"":u.media?"@media ".concat(u.media," {").concat(u.css,"}"):u.css;if(h.styleSheet)h.styleSheet.cssText=ge(g,w);else{var v=document.createTextNode(w),T=h.childNodes;T[g]&&h.removeChild(T[g]),T.length?h.insertBefore(v,T[g]):h.appendChild(v)}}function me(h,g,r){var u=r.css,w=r.media,v=r.sourceMap;if(w?h.setAttribute("media",w):h.removeAttribute("media"),v&&typeof btoa<"u"&&(u+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(v))))," */")),h.styleSheet)h.styleSheet.cssText=u;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(u))}}var J=null,ee=0;function Z(h,g){var r,u,w;if(g.singleton){var v=ee++;r=J||(J=I(g)),u=pe.bind(null,r,v,!1),w=pe.bind(null,r,v,!0)}else r=I(g),u=me.bind(null,r,g),w=function(){(function(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T)})(r)};return u(h),function(T){if(T){if(T.css===h.css&&T.media===h.media&&T.sourceMap===h.sourceMap)return;u(h=T)}else w()}}m.exports=function(h,g){(g=g||{}).singleton||typeof g.singleton=="boolean"||(g.singleton=_());var r=U(h=h||[],g);return function(u){if(u=u||[],Object.prototype.toString.call(u)==="[object Array]"){for(var w=0;w<r.length;w++){var v=S(r[w]);d[v].references--}for(var T=U(u,g),z=0;z<r.length;z++){var L=S(r[z]);d[L].references===0&&(d[L].updater(),d.splice(L,1))}r=T}}}},945:(m,E,y)=>{m.exports=y(79)("./src/clipboard.js")},704:(m,E,y)=>{m.exports=y(79)("./src/core.js")},492:(m,E,y)=>{m.exports=y(79)("./src/engine.js")},181:(m,E,y)=>{m.exports=y(79)("./src/typing.js")},273:(m,E,y)=>{m.exports=y(79)("./src/ui.js")},254:(m,E,y)=>{m.exports=y(79)("./src/undo.js")},448:(m,E,y)=>{m.exports=y(79)("./src/upload.js")},209:(m,E,y)=>{m.exports=y(79)("./src/utils.js")},995:(m,E,y)=>{m.exports=y(79)("./src/widget.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},Kt={};function re(m){var E=Kt[m];if(E!==void 0)return E.exports;var y=Kt[m]={id:m,exports:{}};return ti[m](y,y.exports,re),y.exports}re.n=m=>{var E=m&&m.__esModule?()=>m.default:()=>m;return re.d(E,{a:E}),E},re.d=(m,E)=>{for(var y in E)re.o(E,y)&&!re.o(m,y)&&Object.defineProperty(m,y,{enumerable:!0,get:E[y]})},re.o=(m,E)=>Object.prototype.hasOwnProperty.call(m,E),re.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},re.nc=void 0;var ii={};(()=>{"use strict";re.r(ii),re.d(ii,{AutoImage:()=>me,Image:()=>et,ImageCaption:()=>Se,ImageCaptionEditing:()=>xt,ImageCaptionUtils:()=>Bt,ImageEditing:()=>Ie,ImageInsert:()=>Ji,ImageInsertUI:()=>Fi,ImageResize:()=>N,ImageResizeButtons:()=>fi,ImageResizeEditing:()=>Ri,ImageResizeHandles:()=>V,ImageStyle:()=>It,ImageStyleEditing:()=>Ht,ImageStyleUI:()=>Y,ImageTextAlternative:()=>x,ImageTextAlternativeEditing:()=>ee,ImageTextAlternativeUI:()=>L,ImageToolbar:()=>ai,ImageUpload:()=>ni,ImageUploadEditing:()=>Xt,ImageUploadProgress:()=>bt,ImageUploadUI:()=>$t,PictureEditing:()=>bi});var m=re(704),E=re(945),y=re(492),f=re(254),_=re(181),a=re(209),d=re(995);function S(ht){return ht.createContainerElement("figure",{class:"image"},[ht.createEmptyElement("img"),ht.createSlot()])}function U(ht,H){const se=ht.plugins.get("ImageUtils"),Te=ht.plugins.has("ImageInlineEditing")&&ht.plugins.has("ImageBlockEditing");return Ye=>se.isInlineImageView(Ye)?Te&&(Ye.getStyle("display")=="block"||Ye.findAncestor(se.isBlockImageView)?"imageBlock":"imageInline")!==H?null:Le(Ye):null;function Le(Ye){const Je={name:!0};return Ye.hasAttribute("src")&&(Je.attributes=["src"]),Je}}function I(ht,H){const se=(0,a.first)(H.getSelectedBlocks());return!se||ht.isObject(se)||se.isEmpty&&se.name!="listItem"?"imageBlock":"imageInline"}class C extends m.Plugin{static get pluginName(){return"ImageUtils"}isImage(H){return this.isInlineImage(H)||this.isBlockImage(H)}isInlineImageView(H){return!!H&&H.is("element","img")}isBlockImageView(H){return!!H&&H.is("element","figure")&&H.hasClass("image")}insertImage(H={},se=null,Te=null){const Le=this.editor,Ye=Le.model,Je=Ye.document.selection;Te=ge(Le,se||Je,Te),H={...Object.fromEntries(Je.getAttributes()),...H};for(const At in H)Ye.schema.checkAttribute(Te,At)||delete H[At];return Ye.change(At=>{const vt=At.createElement(Te,H);return Ye.insertObject(vt,se,null,{setSelection:"on",findOptimalPosition:!se&&Te!="imageInline"}),vt.parent?vt:null})}getClosestSelectedImageWidget(H){const se=H.getFirstPosition();if(!se)return null;const Te=H.getSelectedElement();if(Te&&this.isImageWidget(Te))return Te;let Le=se.parent;for(;Le;){if(Le.is("element")&&this.isImageWidget(Le))return Le;Le=Le.parent}return null}getClosestSelectedImageElement(H){const se=H.getSelectedElement();return this.isImage(se)?se:H.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const H=this.editor.model.document.selection;return function(se,Te){if(ge(se,Te)=="imageBlock"){const Ye=function(Je,At){const vt=(0,d.findOptimalInsertionRange)(Je,At),Mt=vt.start.parent;return Mt.isEmpty&&!Mt.is("element","$root")?Mt.parent:Mt}(Te,se.model);if(se.model.schema.checkChild(Ye,"imageBlock"))return!0}else if(se.model.schema.checkChild(Te.focus,"imageInline"))return!0;return!1}(this.editor,H)&&function(se){return[...se.focus.getAncestors()].every(Te=>!Te.is("element","imageBlock"))}(H)}toImageWidget(H,se,Te){return se.setCustomProperty("image",!0,H),(0,d.toWidget)(H,se,{label:()=>{const Le=this.findViewImgElement(H).getAttribute("alt");return Le?`${Le} ${Te}`:Te}})}isImageWidget(H){return!!H.getCustomProperty("image")&&(0,d.isWidget)(H)}isBlockImage(H){return!!H&&H.is("element","imageBlock")}isInlineImage(H){return!!H&&H.is("element","imageInline")}findViewImgElement(H){if(this.isInlineImageView(H))return H;const se=this.editor.editing.view;for(const{item:Te}of se.createRangeIn(H))if(this.isInlineImageView(Te))return Te}}function ge(ht,H,se){const Te=ht.model.schema,Le=ht.config.get("image.insert.type");return ht.plugins.has("ImageBlockEditing")?ht.plugins.has("ImageInlineEditing")?se||(Le==="inline"?"imageInline":Le==="block"?"imageBlock":H.is("selection")?I(Te,H):Te.checkChild(H,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}const pe=new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));class me extends m.Plugin{static get requires(){return[E.Clipboard,C,f.Undo,_.Delete]}static get pluginName(){return"AutoImage"}constructor(H){super(H),this._timeoutId=null,this._positionToInsert=null}init(){const H=this.editor,se=H.model.document;this.listenTo(H.plugins.get("ClipboardPipeline"),"inputTransformation",()=>{const Te=se.selection.getFirstRange(),Le=y.LivePosition.fromPosition(Te.start);Le.stickiness="toPrevious";const Ye=y.LivePosition.fromPosition(Te.end);Ye.stickiness="toNext",se.once("change:data",()=>{this._embedImageBetweenPositions(Le,Ye),Le.detach(),Ye.detach()},{priority:"high"})}),H.commands.get("undo").on("execute",()=>{this._timeoutId&&(a.global.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedImageBetweenPositions(H,se){const Te=this.editor,Le=new y.LiveRange(H,se),Ye=Le.getWalker({ignoreElementEnd:!0}),Je=Object.fromEntries(Te.model.document.selection.getAttributes()),At=this.editor.plugins.get("ImageUtils");let vt="";for(const Mt of Ye)Mt.item.is("$textProxy")&&(vt+=Mt.item.data);vt=vt.trim(),vt.match(pe)?(this._positionToInsert=y.LivePosition.fromPosition(H),this._timeoutId=a.global.window.setTimeout(()=>{Te.commands.get("insertImage").isEnabled?(Te.model.change(Mt=>{let jt;this._timeoutId=null,Mt.remove(Le),Le.detach(),this._positionToInsert.root.rootName!=="$graveyard"&&(jt=this._positionToInsert.toPosition()),At.insertImage({...Je,src:vt},jt),this._positionToInsert.detach(),this._positionToInsert=null}),Te.plugins.get("Delete").requestUndoOnBackspace()):Le.detach()},100)):Le.detach()}}class J extends m.Command{refresh(){const H=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!H,this.isEnabled&&H.hasAttribute("alt")?this.value=H.getAttribute("alt"):this.value=!1}execute(H){const se=this.editor,Te=se.plugins.get("ImageUtils"),Le=se.model,Ye=Te.getClosestSelectedImageElement(Le.document.selection);Le.change(Je=>{Je.setAttribute("alt",H.newValue,Ye)})}}class ee extends m.Plugin{static get requires(){return[C]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new J(this.editor))}}var Z=re(273),h=re(62),g=re.n(h),r=re(168),u={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};g()(r.Z,u),r.Z.locals;var w=re(764),v={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};g()(w.Z,v),w.Z.locals;class T extends Z.View{constructor(H){super(H);const se=this.locale.t;this.focusTracker=new a.FocusTracker,this.keystrokes=new a.KeystrokeHandler,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(se("Save"),m.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(se("Cancel"),m.icons.cancel,"ck-button-cancel","cancel"),this._focusables=new Z.ViewCollection,this._focusCycler=new Z.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]}),(0,Z.injectCssTransitionDisabler)(this)}render(){super.render(),this.keystrokes.listenTo(this.element),(0,Z.submitHandler)({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(H=>{this._focusables.add(H),this.focusTracker.add(H.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(H,se,Te,Le){const Ye=new Z.ButtonView(this.locale);return Ye.set({label:H,icon:se,tooltip:!0}),Ye.extendTemplate({attributes:{class:Te}}),Le&&Ye.delegate("execute").to(this,Le),Ye}_createLabeledInputView(){const H=this.locale.t,se=new Z.LabeledFieldView(this.locale,Z.createLabeledInputText);return se.label=H("Text alternative"),se}}function z(ht){const H=ht.editing.view,se=Z.BalloonPanelView.defaultPositions,Te=ht.plugins.get("ImageUtils");return{target:H.domConverter.mapViewToDom(Te.getClosestSelectedImageWidget(H.document.selection)),positions:[se.northArrowSouth,se.northArrowSouthWest,se.northArrowSouthEast,se.southArrowNorth,se.southArrowNorthWest,se.southArrowNorthEast,se.viewportStickyNorth]}}class L extends m.Plugin{static get requires(){return[Z.ContextualBalloon]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const H=this.editor,se=H.t;H.ui.componentFactory.add("imageTextAlternative",Te=>{const Le=H.commands.get("imageTextAlternative"),Ye=new Z.ButtonView(Te);return Ye.set({label:se("Change image text alternative"),icon:m.icons.lowVision,tooltip:!0}),Ye.bind("isEnabled").to(Le,"isEnabled"),Ye.bind("isOn").to(Le,"value",Je=>!!Je),this.listenTo(Ye,"execute",()=>{this._showForm()}),Ye})}_createForm(){const H=this.editor,se=H.editing.view.document,Te=H.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new T(H.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{H.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(Le,Ye)=>{this._hideForm(!0),Ye()}),this.listenTo(H.ui,"update",()=>{Te.getClosestSelectedImageWidget(se.selection)?this._isVisible&&function(Le){const Ye=Le.plugins.get("ContextualBalloon");if(Le.plugins.get("ImageUtils").getClosestSelectedImageWidget(Le.editing.view.document.selection)){const Je=z(Le);Ye.updatePosition(Je)}}(H):this._hideForm(!0)}),(0,Z.clickOutsideHandler)({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const H=this.editor,se=H.commands.get("imageTextAlternative"),Te=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:z(H)}),Te.fieldView.value=Te.fieldView.element.value=se.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(H){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),H&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class x extends m.Plugin{static get requires(){return[ee,L]}static get pluginName(){return"ImageTextAlternative"}}function c(ht,H){return Te=>{Te.on(`attribute:srcset:${H}`,se)};function se(Te,Le,Ye){if(!Ye.consumable.consume(Le.item,Te.name))return;const Je=Ye.writer,At=Ye.mapper.toViewElement(Le.item),vt=ht.findViewImgElement(At);if(Le.attributeNewValue===null){const Mt=Le.attributeOldValue;Mt.data&&(Je.removeAttribute("srcset",vt),Je.removeAttribute("sizes",vt),Mt.width&&Je.removeAttribute("width",vt))}else{const Mt=Le.attributeNewValue;Mt.data&&(Je.setAttribute("srcset",Mt.data,vt),Je.setAttribute("sizes","100vw",vt),Mt.width&&Je.setAttribute("width",Mt.width,vt))}}}function D(ht,H,se){return Le=>{Le.on(`attribute:${se}:${H}`,Te)};function Te(Le,Ye,Je){if(!Je.consumable.consume(Ye.item,Le.name))return;const At=Je.writer,vt=Je.mapper.toViewElement(Ye.item),Mt=ht.findViewImgElement(vt);At.setAttribute(Ye.attributeKey,Ye.attributeNewValue||"",Mt)}}class W extends y.Observer{observe(H){this.listenTo(H,"load",(se,Te)=>{const Le=Te.target;this.checkShouldIgnoreEventFromTarget(Le)||Le.tagName=="IMG"&&this._fireEvents(Te)},{useCapture:!0})}_fireEvents(H){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",H))}}class q extends m.Command{constructor(H){super(H);const se=H.config.get("image.insert.type");H.plugins.has("ImageBlockEditing")||se==="block"&&(0,a.logWarning)("image-block-plugin-required"),H.plugins.has("ImageInlineEditing")||se==="inline"&&(0,a.logWarning)("image-inline-plugin-required")}refresh(){this.isEnabled=this.editor.plugins.get("ImageUtils").isImageAllowed()}execute(H){const se=(0,a.toArray)(H.source),Te=this.editor.model.document.selection,Le=this.editor.plugins.get("ImageUtils"),Ye=Object.fromEntries(Te.getAttributes());se.forEach((Je,At)=>{const vt=Te.getSelectedElement();if(typeof Je=="string"&&(Je={src:Je}),At&&vt&&Le.isImage(vt)){const Mt=this.editor.model.createPositionAfter(vt);Le.insertImage({...Je,...Ye},Mt)}else Le.insertImage({...Je,...Ye})})}}class ae extends m.Command{refresh(){const H=this.editor.plugins.get("ImageUtils"),se=this.editor.model.document.selection.getSelectedElement();this.isEnabled=H.isImage(se),this.value=this.isEnabled?se.getAttribute("src"):null}execute(H){const se=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(Te=>{Te.setAttribute("src",H.source,se),Te.removeAttribute("srcset",se),Te.removeAttribute("sizes",se)})}}class Ie extends m.Plugin{static get requires(){return[C]}static get pluginName(){return"ImageEditing"}init(){const H=this.editor,se=H.conversion;H.editing.view.addObserver(W),se.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:Ye=>{const Je={data:Ye.getAttribute("srcset")};return Ye.hasAttribute("width")&&(Je.width=Ye.getAttribute("width")),Je}}});const Te=new q(H),Le=new ae(H);H.commands.add("insertImage",Te),H.commands.add("replaceImageSource",Le),H.commands.add("imageInsert",Te)}}class Ve extends m.Command{constructor(H,se){super(H),this._modelElementName=se}refresh(){const H=this.editor.plugins.get("ImageUtils"),se=H.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=H.isInlineImage(se):this.isEnabled=H.isBlockImage(se)}execute(){const H=this.editor,se=this.editor.model,Te=H.plugins.get("ImageUtils"),Le=Te.getClosestSelectedImageElement(se.document.selection),Ye=Object.fromEntries(Le.getAttributes());return Ye.src||Ye.uploadId?se.change(Je=>{const At=Array.from(se.markers).filter(jt=>jt.getRange().containsItem(Le)),vt=Te.insertImage(Ye,se.createSelection(Le,"on"),this._modelElementName);if(!vt)return null;const Mt=Je.createRangeOn(vt);for(const jt of At){const Wt=jt.getRange(),li=Wt.root.rootName!="$graveyard"?Wt.getJoined(Mt,!0):Mt;Je.updateMarker(jt,{range:li})}return{oldElement:Le,newElement:vt}}):null}}class _e extends m.Plugin{static get requires(){return[Ie,C,E.ClipboardPipeline]}static get pluginName(){return"ImageBlockEditing"}init(){const H=this.editor;H.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),H.plugins.has("ImageInlineEditing")&&(H.commands.add("imageTypeBlock",new Ve(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const H=this.editor,se=H.t,Te=H.conversion,Le=H.plugins.get("ImageUtils");Te.for("dataDowncast").elementToStructure({model:"imageBlock",view:(Ye,{writer:Je})=>S(Je)}),Te.for("editingDowncast").elementToStructure({model:"imageBlock",view:(Ye,{writer:Je})=>Le.toImageWidget(S(Je),Je,se("image widget"))}),Te.for("downcast").add(D(Le,"imageBlock","src")).add(D(Le,"imageBlock","alt")).add(c(Le,"imageBlock")),Te.for("upcast").elementToElement({view:U(H,"imageBlock"),model:(Ye,{writer:Je})=>Je.createElement("imageBlock",Ye.hasAttribute("src")?{src:Ye.getAttribute("src")}:null)}).add(function(Ye){return At=>{At.on("element:figure",Je)};function Je(At,vt,Mt){if(!Mt.consumable.test(vt.viewItem,{name:!0,classes:"image"}))return;const jt=Ye.findViewImgElement(vt.viewItem);if(!jt||!Mt.consumable.test(jt,{name:!0}))return;Mt.consumable.consume(vt.viewItem,{name:!0,classes:"image"});const Wt=Mt.convertItem(jt,vt.modelCursor),li=(0,a.first)(Wt.modelRange.getItems());li?(Mt.convertChildren(vt.viewItem,li),Mt.updateConversionResult(li,vt)):Mt.consumable.revert(vt.viewItem,{name:!0,classes:"image"})}}(Le))}_setupClipboardIntegration(){const H=this.editor,se=H.model,Te=H.editing.view,Le=H.plugins.get("ImageUtils");this.listenTo(H.plugins.get("ClipboardPipeline"),"inputTransformation",(Ye,Je)=>{const At=Array.from(Je.content.getChildren());let vt;if(!At.every(Le.isInlineImageView))return;vt=Je.targetRanges?H.editing.mapper.toModelRange(Je.targetRanges[0]):se.document.selection.getFirstRange();const Mt=se.createSelection(vt);if(I(se.schema,Mt)==="imageBlock"){const jt=new y.UpcastWriter(Te.document),Wt=At.map(li=>jt.createElement("figure",{class:"image"},li));Je.content=jt.createDocumentFragment(Wt)}})}}var Me=re(540),Qe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};g()(Me.Z,Qe),Me.Z.locals;class ut extends m.Plugin{static get requires(){return[_e,d.Widget,x]}static get pluginName(){return"ImageBlock"}}class rt extends m.Plugin{static get requires(){return[Ie,C,E.ClipboardPipeline]}static get pluginName(){return"ImageInlineEditing"}init(){const H=this.editor,se=H.model.schema;se.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),se.addChildCheck((Te,Le)=>{if(Te.endsWith("caption")&&Le.name==="imageInline")return!1}),this._setupConversion(),H.plugins.has("ImageBlockEditing")&&(H.commands.add("imageTypeInline",new Ve(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const H=this.editor,se=H.t,Te=H.conversion,Le=H.plugins.get("ImageUtils");Te.for("dataDowncast").elementToElement({model:"imageInline",view:(Ye,{writer:Je})=>Je.createEmptyElement("img")}),Te.for("editingDowncast").elementToStructure({model:"imageInline",view:(Ye,{writer:Je})=>Le.toImageWidget(function(At){return At.createContainerElement("span",{class:"image-inline"},At.createEmptyElement("img"))}(Je),Je,se("image widget"))}),Te.for("downcast").add(D(Le,"imageInline","src")).add(D(Le,"imageInline","alt")).add(c(Le,"imageInline")),Te.for("upcast").elementToElement({view:U(H,"imageInline"),model:(Ye,{writer:Je})=>Je.createElement("imageInline",Ye.hasAttribute("src")?{src:Ye.getAttribute("src")}:null)})}_setupClipboardIntegration(){const H=this.editor,se=H.model,Te=H.editing.view,Le=H.plugins.get("ImageUtils");this.listenTo(H.plugins.get("ClipboardPipeline"),"inputTransformation",(Ye,Je)=>{const At=Array.from(Je.content.getChildren());let vt;if(!At.every(Le.isBlockImageView))return;vt=Je.targetRanges?H.editing.mapper.toModelRange(Je.targetRanges[0]):se.document.selection.getFirstRange();const Mt=se.createSelection(vt);if(I(se.schema,Mt)==="imageInline"){const jt=new y.UpcastWriter(Te.document),Wt=At.map(li=>li.childCount===1?(Array.from(li.getAttributes()).forEach(xi=>jt.setAttribute(...xi,Le.findViewImgElement(li))),li.getChild(0)):li);Je.content=jt.createDocumentFragment(Wt)}})}}class qe extends m.Plugin{static get requires(){return[rt,d.Widget,x]}static get pluginName(){return"ImageInline"}}class et extends m.Plugin{static get requires(){return[ut,qe]}static get pluginName(){return"Image"}}class Bt extends m.Plugin{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[C]}getCaptionFromImageModelElement(H){for(const se of H.getChildren())if(se&&se.is("element","caption"))return se;return null}getCaptionFromModelSelection(H){const se=this.editor.plugins.get("ImageUtils"),Te=H.getFirstPosition().findAncestor("caption");return Te&&se.isBlockImage(Te.parent)?Te:null}matchImageCaptionViewElement(H){const se=this.editor.plugins.get("ImageUtils");return H.name=="figcaption"&&se.isBlockImageView(H.parent)?{name:!0}:null}}class Nt extends m.Command{refresh(){const H=this.editor,se=H.plugins.get("ImageCaptionUtils");if(!H.plugins.has(_e))return this.isEnabled=!1,void(this.value=!1);const Te=H.model.document.selection,Le=Te.getSelectedElement();if(!Le){const Ye=se.getCaptionFromModelSelection(Te);return this.isEnabled=!!Ye,void(this.value=!!Ye)}this.isEnabled=this.editor.plugins.get("ImageUtils").isImage(Le),this.isEnabled?this.value=!!se.getCaptionFromImageModelElement(Le):this.value=!1}execute(H={}){const{focusCaptionOnShow:se}=H;this.editor.model.change(Te=>{this.value?this._hideImageCaption(Te):this._showImageCaption(Te,se)})}_showImageCaption(H,se){const Te=this.editor.model.document.selection,Le=this.editor.plugins.get("ImageCaptionEditing");let Ye=Te.getSelectedElement();const Je=Le._getSavedCaption(Ye);this.editor.plugins.get("ImageUtils").isInlineImage(Ye)&&(this.editor.execute("imageTypeBlock"),Ye=Te.getSelectedElement());const At=Je||H.createElement("caption");H.append(At,Ye),se&&H.setSelection(At,"in")}_hideImageCaption(H){const se=this.editor,Te=se.model.document.selection,Le=se.plugins.get("ImageCaptionEditing"),Ye=se.plugins.get("ImageCaptionUtils");let Je,At=Te.getSelectedElement();At?Je=Ye.getCaptionFromImageModelElement(At):(Je=Ye.getCaptionFromModelSelection(Te),At=Je.parent),Le._saveCaption(At,Je),H.setSelection(At,"on"),H.remove(Je)}}class xt extends m.Plugin{static get requires(){return[C,Bt]}static get pluginName(){return"ImageCaptionEditing"}constructor(H){super(H),this._savedCaptionsMap=new WeakMap}init(){const H=this.editor,se=H.model.schema;se.isRegistered("caption")?se.extend("caption",{allowIn:"imageBlock"}):se.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),H.commands.add("toggleImageCaption",new Nt(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const H=this.editor,se=H.editing.view,Te=H.plugins.get("ImageUtils"),Le=H.plugins.get("ImageCaptionUtils"),Ye=H.t;H.conversion.for("upcast").elementToElement({view:Je=>Le.matchImageCaptionViewElement(Je),model:"caption"}),H.conversion.for("dataDowncast").elementToElement({model:"caption",view:(Je,{writer:At})=>Te.isBlockImage(Je.parent)?At.createContainerElement("figcaption"):null}),H.conversion.for("editingDowncast").elementToElement({model:"caption",view:(Je,{writer:At})=>{if(!Te.isBlockImage(Je.parent))return null;const vt=At.createEditableElement("figcaption");At.setCustomProperty("imageCaption",!0,vt),(0,y.enablePlaceholder)({view:se,element:vt,text:Ye("Enter image caption"),keepOnFocus:!0});const Mt=Je.parent.getAttribute("alt"),jt=Mt?Ye("Caption for image: %0",[Mt]):Ye("Caption for the image");return(0,d.toWidgetEditable)(vt,At,{label:jt})}})}_setupImageTypeCommandsIntegration(){const H=this.editor,se=H.plugins.get("ImageUtils"),Te=H.plugins.get("ImageCaptionUtils"),Le=H.commands.get("imageTypeInline"),Ye=H.commands.get("imageTypeBlock"),Je=At=>{if(!At.return)return;const{oldElement:vt,newElement:Mt}=At.return;if(!vt)return;if(se.isBlockImage(vt)){const Wt=Te.getCaptionFromImageModelElement(vt);if(Wt)return void this._saveCaption(Mt,Wt)}const jt=this._getSavedCaption(vt);jt&&this._saveCaption(Mt,jt)};Le&&this.listenTo(Le,"execute",Je,{priority:"low"}),Ye&&this.listenTo(Ye,"execute",Je,{priority:"low"})}_getSavedCaption(H){const se=this._savedCaptionsMap.get(H);return se?y.Element.fromJSON(se):null}_saveCaption(H,se){this._savedCaptionsMap.set(H,se.toJSON())}_registerCaptionReconversion(){const H=this.editor,se=H.model,Te=H.plugins.get("ImageUtils"),Le=H.plugins.get("ImageCaptionUtils");se.document.on("change:data",()=>{const Ye=se.document.differ.getChanges();for(const Je of Ye){if(Je.attributeKey!=="alt")continue;const At=Je.range.start.nodeAfter;if(Te.isBlockImage(At)){const vt=Le.getCaptionFromImageModelElement(At);if(!vt)return;H.editing.reconvertItem(vt)}}})}}class tt extends m.Plugin{static get requires(){return[Bt]}static get pluginName(){return"ImageCaptionUI"}init(){const H=this.editor,se=H.editing.view,Te=H.plugins.get("ImageCaptionUtils"),Le=H.t;H.ui.componentFactory.add("toggleImageCaption",Ye=>{const Je=H.commands.get("toggleImageCaption"),At=new Z.ButtonView(Ye);return At.set({icon:m.icons.caption,tooltip:!0,isToggleable:!0}),At.bind("isOn","isEnabled").to(Je,"value","isEnabled"),At.bind("label").to(Je,"value",vt=>Le(vt?"Toggle caption off":"Toggle caption on")),this.listenTo(At,"execute",()=>{H.execute("toggleImageCaption",{focusCaptionOnShow:!0});const vt=Te.getCaptionFromModelSelection(H.model.document.selection);if(vt){const Mt=H.editing.mapper.toViewElement(vt);se.scrollToTheSelection(),se.change(jt=>{jt.addClass("image__caption_highlighted",Mt)})}H.editing.view.focus()}),At})}}var Dt=re(560),ye={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};g()(Dt.Z,ye),Dt.Z.locals;class Se extends m.Plugin{static get requires(){return[xt,tt]}static get pluginName(){return"ImageCaption"}}var Ke=re(448);function kt(ht){const H=ht.map(se=>se.replace("+","\\+"));return new RegExp(`^image\\/(${H.join("|")})$`)}function Lt(ht){return new Promise((H,se)=>{const Te=ht.getAttribute("src");fetch(Te).then(Le=>Le.blob()).then(Le=>{const Ye=Gt(Le,Te),Je=Ye.replace("image/",""),At=new File([Le],`image.${Je}`,{type:Ye});H(At)}).catch(Le=>Le&&Le.name==="TypeError"?function(Ye){return function(Je){return new Promise((At,vt)=>{const Mt=a.global.document.createElement("img");Mt.addEventListener("load",()=>{const jt=a.global.document.createElement("canvas");jt.width=Mt.width,jt.height=Mt.height,jt.getContext("2d").drawImage(Mt,0,0),jt.toBlob(Wt=>Wt?At(Wt):vt())}),Mt.addEventListener("error",()=>vt()),Mt.src=Je})}(Ye).then(Je=>{const At=Gt(Je,Ye),vt=At.replace("image/","");return new File([Je],`image.${vt}`,{type:At})})}(Te).then(H).catch(se):se(Le))})}function Gt(ht,H){return ht.type?ht.type:H.match(/data:(image\/\w+);base64/)?H.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class $t extends m.Plugin{static get pluginName(){return"ImageUploadUI"}init(){const H=this.editor,se=H.t,Te=Le=>{const Ye=new Ke.FileDialogButtonView(Le),Je=H.commands.get("uploadImage"),At=H.config.get("image.upload.types"),vt=kt(At);return Ye.set({acceptedType:At.map(Mt=>`image/${Mt}`).join(","),allowMultipleFiles:!0}),Ye.buttonView.set({label:se("Insert image"),icon:m.icons.image,tooltip:!0}),Ye.buttonView.bind("isEnabled").to(Je),Ye.on("done",(Mt,jt)=>{const Wt=Array.from(jt).filter(li=>vt.test(li.type));Wt.length&&(H.execute("uploadImage",{file:Wt}),H.editing.view.focus())}),Ye};H.ui.componentFactory.add("uploadImage",Te),H.ui.componentFactory.add("imageUpload",Te)}}var ft=re(271),Yt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};g()(ft.Z,Yt),ft.Z.locals;var _t=re(948),ri={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};g()(_t.Z,ri),_t.Z.locals;var ui=re(467),Ai={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};g()(ui.Z,Ai),ui.Z.locals;class bt extends m.Plugin{static get pluginName(){return"ImageUploadProgress"}constructor(H){super(H),this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const H=this.editor;H.plugins.has("ImageBlockEditing")&&H.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",(...se)=>this.uploadStatusChange(...se)),H.plugins.has("ImageInlineEditing")&&H.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",(...se)=>this.uploadStatusChange(...se))}uploadStatusChange(H,se,Te){const Le=this.editor,Ye=se.item,Je=Ye.getAttribute("uploadId");if(!Te.consumable.consume(se.item,H.name))return;const At=Le.plugins.get("ImageUtils"),vt=Le.plugins.get(Ke.FileRepository),Mt=Je?se.attributeNewValue:null,jt=this.placeholder,Wt=Le.editing.mapper.toViewElement(Ye),li=Te.writer;if(Mt=="reading")return be(Wt,li),void Ne(At,jt,Wt,li);if(Mt=="uploading"){const xi=vt.loaders.get(Je);return be(Wt,li),void(xi?($e(Wt,li),function(hi,Di,dn,sn){const Cn=function(fn){const Tn=fn.createUIElement("div",{class:"ck-progress-bar"});return fn.setCustomProperty("progressBar",!0,Tn),Tn}(Di);Di.insert(Di.createPositionAt(hi,"end"),Cn),dn.on("change:uploadedPercent",(fn,Tn,In)=>{sn.change(Dn=>{Dn.setStyle("width",In+"%",Cn)})})}(Wt,li,xi,Le.editing.view),function(hi,Di,dn,sn){if(sn.data){const Cn=hi.findViewImgElement(Di);dn.setAttribute("src",sn.data,Cn)}}(At,Wt,li,xi)):Ne(At,jt,Wt,li))}Mt=="complete"&&vt.loaders.get(Je)&&function(xi,hi,Di){const dn=hi.createUIElement("div",{class:"ck-image-upload-complete-icon"});hi.insert(hi.createPositionAt(xi,"end"),dn),setTimeout(()=>{Di.change(sn=>sn.remove(sn.createRangeOn(dn)))},3e3)}(Wt,li,Le.editing.view),function(xi,hi){Tt(xi,hi,"progressBar")}(Wt,li),$e(Wt,li),function(xi,hi){hi.removeClass("ck-appear",xi)}(Wt,li)}}function be(ht,H){ht.hasClass("ck-appear")||H.addClass("ck-appear",ht)}function Ne(ht,H,se,Te){se.hasClass("ck-image-upload-placeholder")||Te.addClass("ck-image-upload-placeholder",se);const Le=ht.findViewImgElement(se);Le.getAttribute("src")!==H&&Te.setAttribute("src",H,Le),gt(se,"placeholder")||Te.insert(Te.createPositionAfter(Le),function(Ye){const Je=Ye.createUIElement("div",{class:"ck-upload-placeholder-loader"});return Ye.setCustomProperty("placeholder",!0,Je),Je}(Te))}function $e(ht,H){ht.hasClass("ck-image-upload-placeholder")&&H.removeClass("ck-image-upload-placeholder",ht),Tt(ht,H,"placeholder")}function gt(ht,H){for(const se of ht.getChildren())if(se.getCustomProperty(H))return se}function Tt(ht,H,se){const Te=gt(ht,se);Te&&H.remove(H.createRangeOn(Te))}class Et extends m.Command{refresh(){const H=this.editor,se=H.plugins.get("ImageUtils"),Te=H.model.document.selection.getSelectedElement();this.isEnabled=se.isImageAllowed()||se.isImage(Te)}execute(H){const se=(0,a.toArray)(H.file),Te=this.editor.model.document.selection,Le=this.editor.plugins.get("ImageUtils"),Ye=Object.fromEntries(Te.getAttributes());se.forEach((Je,At)=>{const vt=Te.getSelectedElement();if(At&&vt&&Le.isImage(vt)){const Mt=this.editor.model.createPositionAfter(vt);this._uploadImage(Je,Ye,Mt)}else this._uploadImage(Je,Ye)})}_uploadImage(H,se,Te){const Le=this.editor,Ye=Le.plugins.get(Ke.FileRepository).createLoader(H),Je=Le.plugins.get("ImageUtils");Ye&&Je.insertImage({...se,uploadId:Ye.id},Te)}}class Xt extends m.Plugin{static get requires(){return[Ke.FileRepository,Z.Notification,E.ClipboardPipeline,C]}static get pluginName(){return"ImageUploadEditing"}constructor(H){super(H),H.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const H=this.editor,se=H.model.document,Te=H.conversion,Le=H.plugins.get(Ke.FileRepository),Ye=H.plugins.get("ImageUtils"),Je=kt(H.config.get("image.upload.types")),At=new Et(H);H.commands.add("uploadImage",At),H.commands.add("imageUpload",At),Te.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(H.editing.view.document,"clipboardInput",(vt,Mt)=>{if(jt=Mt.dataTransfer,Array.from(jt.types).includes("text/html")&&jt.getData("text/html")!=="")return;var jt;const Wt=Array.from(Mt.dataTransfer.files).filter(li=>!!li&&Je.test(li.type));Wt.length&&(vt.stop(),H.model.change(li=>{Mt.targetRanges&&li.setSelection(Mt.targetRanges.map(xi=>H.editing.mapper.toModelRange(xi))),H.model.enqueueChange(()=>{H.execute("uploadImage",{file:Wt})})}))}),this.listenTo(H.plugins.get("ClipboardPipeline"),"inputTransformation",(vt,Mt)=>{const jt=Array.from(H.editing.view.createRangeIn(Mt.content)).filter(li=>function(xi,hi){return!(!xi.isInlineImageView(hi)||!hi.getAttribute("src"))&&(hi.getAttribute("src").match(/^data:image\/\w+;base64,/g)||hi.getAttribute("src").match(/^blob:/g))}(Ye,li.item)&&!li.item.getAttribute("uploadProcessed")).map(li=>({promise:Lt(li.item),imageElement:li.item}));if(!jt.length)return;const Wt=new y.UpcastWriter(H.editing.view.document);for(const li of jt){Wt.setAttribute("uploadProcessed",!0,li.imageElement);const xi=Le.createLoader(li.promise);xi&&(Wt.setAttribute("src","",li.imageElement),Wt.setAttribute("uploadId",xi.id,li.imageElement))}}),H.editing.view.document.on("dragover",(vt,Mt)=>{Mt.preventDefault()}),se.on("change",()=>{const vt=se.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),Mt=new Set;for(const jt of vt)if(jt.type=="insert"&&jt.name!="$text"){const Wt=jt.position.nodeAfter,li=jt.position.root.rootName=="$graveyard";for(const xi of Ut(H,Wt)){const hi=xi.getAttribute("uploadId");if(!hi)continue;const Di=Le.loaders.get(hi);Di&&(li?Mt.has(hi)||Di.abort():(Mt.add(hi),this._uploadImageElements.set(hi,xi),Di.status=="idle"&&this._readAndUpload(Di)))}}}),this.on("uploadComplete",(vt,{imageElement:Mt,data:jt})=>{const Wt=jt.urls?jt.urls:jt;this.editor.model.change(li=>{li.setAttribute("src",Wt.default,Mt),this._parseAndSetSrcsetAttributeOnImage(Wt,Mt,li)})},{priority:"low"})}afterInit(){const H=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&H.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&H.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(H){const se=this.editor,Te=se.model,Le=se.locale.t,Ye=se.plugins.get(Ke.FileRepository),Je=se.plugins.get(Z.Notification),At=se.plugins.get("ImageUtils"),vt=this._uploadImageElements;return Te.enqueueChange({isUndoable:!1},jt=>{jt.setAttribute("uploadStatus","reading",vt.get(H.id))}),H.read().then(()=>{const jt=H.upload(),Wt=vt.get(H.id);if(a.env.isSafari){const li=se.editing.mapper.toViewElement(Wt),xi=At.findViewImgElement(li);se.editing.view.once("render",()=>{if(!xi.parent)return;const hi=se.editing.view.domConverter.mapViewToDom(xi.parent);if(!hi)return;const Di=hi.style.display;hi.style.display="none",hi._ckHack=hi.offsetHeight,hi.style.display=Di})}return Te.enqueueChange({isUndoable:!1},li=>{li.setAttribute("uploadStatus","uploading",Wt)}),jt}).then(jt=>{Te.enqueueChange({isUndoable:!1},Wt=>{const li=vt.get(H.id);Wt.setAttribute("uploadStatus","complete",li),this.fire("uploadComplete",{data:jt,imageElement:li})}),Mt()}).catch(jt=>{if(H.status!=="error"&&H.status!=="aborted")throw jt;H.status=="error"&&jt&&Je.showWarning(jt,{title:Le("Upload failed"),namespace:"upload"}),Te.enqueueChange({isUndoable:!1},Wt=>{Wt.remove(vt.get(H.id))}),Mt()});function Mt(){Te.enqueueChange({isUndoable:!1},jt=>{const Wt=vt.get(H.id);jt.removeAttribute("uploadId",Wt),jt.removeAttribute("uploadStatus",Wt),vt.delete(H.id)}),Ye.destroyLoader(H)}}_parseAndSetSrcsetAttributeOnImage(H,se,Te){let Le=0;const Ye=Object.keys(H).filter(Je=>{const At=parseInt(Je,10);if(!isNaN(At))return Le=Math.max(Le,At),!0}).map(Je=>`${H[Je]} ${Je}w`).join(", ");Ye!=""&&Te.setAttribute("srcset",{data:Ye,width:Le},se)}}function Ut(ht,H){const se=ht.plugins.get("ImageUtils");return Array.from(ht.model.createRangeOn(H)).filter(Te=>se.isImage(Te.item)).map(Te=>Te.item)}class ni extends m.Plugin{static get pluginName(){return"ImageUpload"}static get requires(){return[Xt,$t,bt]}}var wi=re(439),gi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};g()(wi.Z,gi),wi.Z.locals;class Ti extends Z.View{constructor(H,se={}){super(H);const Te=this.bindTemplate;this.set("class",se.class||null),this.children=this.createCollection(),se.children&&se.children.forEach(Le=>this.children.add(Le)),this.set("_role",null),this.set("_ariaLabelledBy",null),se.labelView&&this.set({_role:"group",_ariaLabelledBy:se.labelView.id}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",Te.to("class")],role:Te.to("_role"),"aria-labelledby":Te.to("_ariaLabelledBy")},children:this.children})}}var Rt=re(91),Ii={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};g()(Rt.Z,Ii),Rt.Z.locals;class Mi extends Z.View{constructor(H,se){super(H);const{insertButtonView:Te,cancelButtonView:Le}=this._createActionButtons(H);if(this.insertButtonView=Te,this.cancelButtonView=Le,this.set("imageURLInputValue",""),this.focusTracker=new a.FocusTracker,this.keystrokes=new a.KeystrokeHandler,this._focusables=new Z.ViewCollection,this._focusCycler=new Z.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.set("_integrations",new a.Collection),se)for(const[Ye,Je]of Object.entries(se))Ye==="insertImageViaUrl"&&(Je.fieldView.bind("value").to(this,"imageURLInputValue",At=>At||""),Je.fieldView.on("input",()=>{this.imageURLInputValue=Je.fieldView.element.value.trim()})),Je.name=Ye,this._integrations.add(Je);this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:"-1"},children:[...this._integrations,new Ti(H,{children:[this.insertButtonView,this.cancelButtonView],class:"ck-image-insert-form__action-row"})]})}render(){super.render(),(0,Z.submitHandler)({view:this});const H=[...this._integrations,this.insertButtonView,this.cancelButtonView];H.forEach(Te=>{this._focusables.add(Te),this.focusTracker.add(Te.element)}),this.keystrokes.listenTo(this.element);const se=Te=>Te.stopPropagation();this.keystrokes.set("arrowright",se),this.keystrokes.set("arrowleft",se),this.keystrokes.set("arrowup",se),this.keystrokes.set("arrowdown",se),this.listenTo(H[0].element,"selectstart",(Te,Le)=>{Le.stopPropagation()},{priority:"high"})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}getIntegration(H){return this._integrations.find(se=>se.name===H)}_createActionButtons(H){const se=H.t,Te=new Z.ButtonView(H),Le=new Z.ButtonView(H);return Te.set({label:se("Insert"),icon:m.icons.check,class:"ck-button-save",type:"submit",withText:!0,isEnabled:this.imageURLInputValue}),Le.set({label:se("Cancel"),icon:m.icons.cancel,class:"ck-button-cancel",withText:!0}),Te.bind("isEnabled").to(this,"imageURLInputValue",Ye=>!!Ye),Te.delegate("execute").to(this,"submit"),Le.delegate("execute").to(this,"cancel"),{insertButtonView:Te,cancelButtonView:Le}}focus(){this._focusCycler.focusFirst()}}function Qi(ht){const H=ht.t,se=new Z.LabeledFieldView(ht,Z.createLabeledInputText);return se.set({label:H("Insert image via URL")}),se.fieldView.placeholder="https://example.com/image.png",se}class Fi extends m.Plugin{static get pluginName(){return"ImageInsertUI"}init(){const H=this.editor,se=Te=>this._createDropdownView(Te);H.ui.componentFactory.add("insertImage",se),H.ui.componentFactory.add("imageInsert",se)}_createDropdownView(H){const se=this.editor,Te=H.t,Le=se.commands.get("uploadImage"),Ye=se.commands.get("insertImage");this.dropdownView=(0,Z.createDropdown)(H,Le?Z.SplitButtonView:void 0);const Je=this.dropdownView.buttonView,At=this.dropdownView.panelView;if(Je.set({label:Te("Insert image"),icon:m.icons.image,tooltip:!0}),At.extendTemplate({attributes:{class:"ck-image-insert__panel"}}),Le){const vt=this.dropdownView.buttonView;vt.actionView=se.ui.componentFactory.create("uploadImage"),vt.actionView.extendTemplate({attributes:{class:"ck ck-button ck-splitbutton__action"}})}return this._setUpDropdown(Le||Ye)}_setUpDropdown(H){const se=this.editor,Te=se.t,Le=this.dropdownView,Ye=Le.panelView,Je=this.editor.plugins.get("ImageUtils"),At=se.commands.get("replaceImageSource");let vt;function Mt(){se.editing.view.focus(),Le.isOpen=!1}return Le.bind("isEnabled").to(H),Le.once("change:isOpen",()=>{vt=new Mi(se.locale,function(jt){const Wt=jt.config.get("image.insert.integrations"),li=jt.plugins.get("ImageInsertUI"),xi={insertImageViaUrl:Qi(jt.locale)};if(!Wt)return xi;if(Wt.find(hi=>hi==="openCKFinder")&&jt.ui.componentFactory.has("ckfinder")){const hi=jt.ui.componentFactory.create("ckfinder");hi.set({withText:!0,class:"ck-image-insert__ck-finder-button"}),hi.delegate("execute").to(li,"cancel"),xi.openCKFinder=hi}return Wt.reduce((hi,Di)=>(xi[Di]?hi[Di]=xi[Di]:jt.ui.componentFactory.has(Di)&&(hi[Di]=jt.ui.componentFactory.create(Di)),hi),{})}(se)),vt.delegate("submit","cancel").to(Le),Ye.children.add(vt)}),Le.on("change:isOpen",()=>{const jt=se.model.document.selection.getSelectedElement(),Wt=vt.insertButtonView,li=vt.getIntegration("insertImageViaUrl");Le.isOpen&&(Je.isImage(jt)?(vt.imageURLInputValue=At.value,Wt.label=Te("Update"),li.label=Te("Update image URL")):(vt.imageURLInputValue="",Wt.label=Te("Insert"),li.label=Te("Insert image via URL")))},{priority:"low"}),this.delegate("cancel").to(Le),Le.on("submit",()=>{Mt(),function(){const jt=se.model.document.selection.getSelectedElement();Je.isImage(jt)?se.execute("replaceImageSource",{source:vt.imageURLInputValue}):se.execute("insertImage",{source:vt.imageURLInputValue})}()}),Le.on("cancel",()=>{Mt()}),Le}}class Vi extends m.Plugin{static get pluginName(){return"ImageInsertViaUrl"}static get requires(){return[Fi]}}class Ji extends m.Plugin{static get pluginName(){return"ImageInsert"}static get requires(){return[ni,Vi,Fi]}}class cn extends m.Command{refresh(){const H=this.editor,se=H.plugins.get("ImageUtils").getClosestSelectedImageElement(H.model.document.selection);this.isEnabled=!!se,se&&se.hasAttribute("width")?this.value={width:se.getAttribute("width"),height:null}:this.value=null}execute(H){const se=this.editor,Te=se.model,Le=se.plugins.get("ImageUtils").getClosestSelectedImageElement(Te.document.selection);this.value={width:H.width,height:null},Le&&Te.change(Ye=>{Ye.setAttribute("width",H.width,Le)})}}class Ri extends m.Plugin{static get requires(){return[C]}static get pluginName(){return"ImageResizeEditing"}constructor(H){super(H),H.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const H=this.editor,se=new cn(H);this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline"),H.commands.add("resizeImage",se),H.commands.add("imageResize",se)}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:"width"}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:"width"})}_registerConverters(H){const se=this.editor;se.conversion.for("downcast").add(Te=>Te.on(`attribute:width:${H}`,(Le,Ye,Je)=>{if(!Je.consumable.consume(Ye.item,Le.name))return;const At=Je.writer,vt=Je.mapper.toViewElement(Ye.item);Ye.attributeNewValue!==null?(At.setStyle("width",Ye.attributeNewValue,vt),At.addClass("image_resized",vt)):(At.removeStyle("width",vt),At.removeClass("image_resized",vt))})),se.conversion.for("upcast").attributeToAttribute({view:{name:H==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"width",value:Te=>Te.getStyle("width")}})}}const pn={small:m.icons.objectSizeSmall,medium:m.icons.objectSizeMedium,large:m.icons.objectSizeLarge,original:m.icons.objectSizeFull};class fi extends m.Plugin{static get requires(){return[Ri]}static get pluginName(){return"ImageResizeButtons"}constructor(H){super(H),this._resizeUnit=H.config.get("image.resizeUnit")}init(){const H=this.editor,se=H.config.get("image.resizeOptions"),Te=H.commands.get("resizeImage");this.bind("isEnabled").to(Te);for(const Le of se)this._registerImageResizeButton(Le);this._registerImageResizeDropdown(se)}_registerImageResizeButton(H){const se=this.editor,{name:Te,value:Le,icon:Ye}=H,Je=Le?Le+this._resizeUnit:null;se.ui.componentFactory.add(Te,At=>{const vt=new Z.ButtonView(At),Mt=se.commands.get("resizeImage"),jt=this._getOptionLabelValue(H,!0);if(!pn[Ye])throw new a.CKEditorError("imageresizebuttons-missing-icon",se,H);return vt.set({label:jt,icon:pn[Ye],tooltip:jt,isToggleable:!0}),vt.bind("isEnabled").to(this),vt.bind("isOn").to(Mt,"value",pi(Je)),this.listenTo(vt,"execute",()=>{se.execute("resizeImage",{width:Je})}),vt})}_registerImageResizeDropdown(H){const se=this.editor,Te=se.t,Le=H.find(Je=>!Je.value),Ye=Je=>{const At=se.commands.get("resizeImage"),vt=(0,Z.createDropdown)(Je,Z.DropdownButtonView),Mt=vt.buttonView;return Mt.set({tooltip:Te("Resize image"),commandValue:Le.value,icon:pn.medium,isToggleable:!0,label:this._getOptionLabelValue(Le),withText:!0,class:"ck-resize-image-button"}),Mt.bind("label").to(At,"value",jt=>jt&&jt.width?jt.width:this._getOptionLabelValue(Le)),vt.bind("isOn").to(At),vt.bind("isEnabled").to(this),(0,Z.addListToDropdown)(vt,()=>this._getResizeDropdownListItemDefinitions(H,At),{ariaLabel:Te("Image resize list")}),this.listenTo(vt,"execute",jt=>{se.execute(jt.source.commandName,{width:jt.source.commandValue}),se.editing.view.focus()}),vt};se.ui.componentFactory.add("resizeImage",Ye),se.ui.componentFactory.add("imageResize",Ye)}_getOptionLabelValue(H,se){const Te=this.editor.t;return H.label?H.label:se?H.value?Te("Resize image to %0",H.value+this._resizeUnit):Te("Resize image to the original size"):H.value?H.value+this._resizeUnit:Te("Original")}_getResizeDropdownListItemDefinitions(H,se){const Te=new a.Collection;return H.map(Le=>{const Ye=Le.value?Le.value+this._resizeUnit:null,Je={type:"button",model:new Z.Model({commandName:"resizeImage",commandValue:Ye,label:this._getOptionLabelValue(Le),withText:!0,icon:null})};Je.model.bind("isOn").to(se,"value",pi(Ye)),Te.add(Je)}),Te}}function pi(ht){return H=>ht===null&&H===ht||H&&H.width===ht}const qi=/(image|image-inline)/,ke="image_resized";class V extends m.Plugin{static get requires(){return[d.WidgetResize]}static get pluginName(){return"ImageResizeHandles"}init(){const H=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(H),this._setupResizerCreator()}_setupResizerCreator(){const H=this.editor,se=H.editing.view;se.addObserver(W),this.listenTo(se.document,"imageLoaded",(Te,Le)=>{if(!Le.target.matches("figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img"))return;const Ye=H.editing.view.domConverter,Je=Ye.domToView(Le.target).findAncestor({classes:qi});let At=this.editor.plugins.get(d.WidgetResize).getResizerByViewElement(Je);if(At)return void At.redraw();const vt=H.editing.mapper,Mt=vt.toModelElement(Je);At=H.plugins.get(d.WidgetResize).attachTo({unit:H.config.get("image.resizeUnit"),modelElement:Mt,viewElement:Je,editor:H,getHandleHost:jt=>jt.querySelector("img"),getResizeHost:()=>Ye.mapViewToDom(vt.toViewElement(Mt.parent)),isCentered(){const jt=Mt.getAttribute("imageStyle");return!jt||jt=="block"||jt=="alignCenter"},onCommit(jt){se.change(Wt=>{Wt.removeClass(ke,Je)}),H.execute("resizeImage",{width:jt})}}),At.on("updateSize",()=>{Je.hasClass(ke)||se.change(jt=>{jt.addClass(ke,Je)})}),At.bind("isEnabled").to(this)})}}var F=re(601),P={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};g()(F.Z,P),F.Z.locals;class N extends m.Plugin{static get requires(){return[Ri,V,fi]}static get pluginName(){return"ImageResize"}}class de extends m.Command{constructor(H,se){super(H),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(se.map(Te=>{if(Te.isDefault)for(const Le of Te.modelElements)this._defaultStyles[Le]=Te.name;return[Te.name,Te]}))}refresh(){const H=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!H,this.isEnabled?H.hasAttribute("imageStyle")?this.value=H.getAttribute("imageStyle"):this.value=this._defaultStyles[H.name]:this.value=!1}execute(H={}){const se=this.editor,Te=se.model,Le=se.plugins.get("ImageUtils");Te.change(Ye=>{const Je=H.value;let At=Le.getClosestSelectedImageElement(Te.document.selection);Je&&this.shouldConvertImageType(Je,At)&&(this.editor.execute(Le.isBlockImage(At)?"imageTypeInline":"imageTypeBlock"),At=Le.getClosestSelectedImageElement(Te.document.selection)),!Je||this._styles.get(Je).isDefault?Ye.removeAttribute("imageStyle",At):Ye.setAttribute("imageStyle",Je,At)})}shouldConvertImageType(H,se){return!this._styles.get(H).modelElements.includes(se.name)}}const{objectFullWidth:Ce,objectInline:Ze,objectLeft:st,objectRight:Ct,objectCenter:Ge,objectBlockLeft:Ft,objectBlockRight:ci}=m.icons,yi={get inline(){return{name:"inline",title:"In line",icon:Ze,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:st,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:Ft,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Ge,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:Ct,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:ci,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Ge,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:Ct,modelElements:["imageBlock"],className:"image-style-side"}}},Oi={full:Ce,left:Ft,right:ci,center:Ge,inlineLeft:st,inlineRight:Ct,inline:Ze},Ei=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function Bi(ht){(0,a.logWarning)("image-style-configuration-definition-invalid",ht)}const Li={normalizeStyles:function(ht){return(ht.configuredStyles.options||[]).map(H=>function(se){return se=typeof se=="string"?yi[se]?{...yi[se]}:{name:se}:function(Te,Le){const Ye={...Le};for(const Je in Te)Object.prototype.hasOwnProperty.call(Le,Je)||(Ye[Je]=Te[Je]);return Ye}(yi[se.name],se),typeof se.icon=="string"&&(se.icon=Oi[se.icon]||se.icon),se}(H)).filter(H=>function(se,{isBlockPluginLoaded:Te,isInlinePluginLoaded:Le}){const{modelElements:Ye,name:Je}=se;if(!(Ye&&Ye.length&&Je))return Bi({style:se}),!1;{const At=[Te?"imageBlock":null,Le?"imageInline":null];if(!Ye.some(vt=>At.includes(vt)))return(0,a.logWarning)("image-style-missing-dependency",{style:se,missingPlugins:Ye.map(vt=>vt==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(H,ht))},getDefaultStylesConfiguration:function(ht,H){return ht&&H?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:ht?{options:["block","side"]}:H?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(ht){return ht.has("ImageBlockEditing")&&ht.has("ImageInlineEditing")?[...Ei]:[]},warnInvalidStyle:Bi,DEFAULT_OPTIONS:yi,DEFAULT_ICONS:Oi,DEFAULT_DROPDOWN_DEFINITIONS:Ei};function Ui(ht,H){for(const se of H)if(se.name===ht)return se}class Ht extends m.Plugin{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[C]}init(){const{normalizeStyles:H,getDefaultStylesConfiguration:se}=Li,Te=this.editor,Le=Te.plugins.has("ImageBlockEditing"),Ye=Te.plugins.has("ImageInlineEditing");Te.config.define("image.styles",se(Le,Ye)),this.normalizedStyles=H({configuredStyles:Te.config.get("image.styles"),isBlockPluginLoaded:Le,isInlinePluginLoaded:Ye}),this._setupConversion(Le,Ye),this._setupPostFixer(),Te.commands.add("imageStyle",new de(Te,this.normalizedStyles))}_setupConversion(H,se){const Te=this.editor,Le=Te.model.schema,Ye=(Je=this.normalizedStyles,(vt,Mt,jt)=>{if(!jt.consumable.consume(Mt.item,vt.name))return;const Wt=Ui(Mt.attributeNewValue,Je),li=Ui(Mt.attributeOldValue,Je),xi=jt.mapper.toViewElement(Mt.item),hi=jt.writer;li&&hi.removeClass(li.className,xi),Wt&&hi.addClass(Wt.className,xi)});var Je;const At=function(vt){const Mt={imageInline:vt.filter(jt=>!jt.isDefault&&jt.modelElements.includes("imageInline")),imageBlock:vt.filter(jt=>!jt.isDefault&&jt.modelElements.includes("imageBlock"))};return(jt,Wt,li)=>{if(!Wt.modelRange)return;const xi=Wt.viewItem,hi=(0,a.first)(Wt.modelRange.getItems());if(hi&&li.schema.checkAttribute(hi,"imageStyle"))for(const Di of Mt[hi.name])li.consumable.consume(xi,{classes:Di.className})&&li.writer.setAttribute("imageStyle",Di.name,hi)}}(this.normalizedStyles);Te.editing.downcastDispatcher.on("attribute:imageStyle",Ye),Te.data.downcastDispatcher.on("attribute:imageStyle",Ye),H&&(Le.extend("imageBlock",{allowAttributes:"imageStyle"}),Te.data.upcastDispatcher.on("element:figure",At,{priority:"low"})),se&&(Le.extend("imageInline",{allowAttributes:"imageStyle"}),Te.data.upcastDispatcher.on("element:img",At,{priority:"low"}))}_setupPostFixer(){const H=this.editor,se=H.model.document,Te=H.plugins.get(C),Le=new Map(this.normalizedStyles.map(Ye=>[Ye.name,Ye]));se.registerPostFixer(Ye=>{let Je=!1;for(const At of se.differ.getChanges())if(At.type=="insert"||At.type=="attribute"&&At.attributeKey=="imageStyle"){let vt=At.type=="insert"?At.position.nodeAfter:At.range.start.nodeAfter;if(vt&&vt.is("element","paragraph")&&vt.childCount>0&&(vt=vt.getChild(0)),!Te.isImage(vt))continue;const Mt=vt.getAttribute("imageStyle");if(!Mt)continue;const jt=Le.get(Mt);jt&&jt.modelElements.includes(vt.name)||(Ye.removeAttribute("imageStyle",vt),Je=!0)}return Je})}}const we=function(ht){var H=typeof ht;return ht!=null&&(H=="object"||H=="function")},He=function(ht){return ht};var Q=re(29),R={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};g()(Q.Z,R),Q.Z.locals;class Y extends m.Plugin{static get requires(){return[Ht]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const H=this.editor.t;return{"Wrap text":H("Wrap text"),"Break text":H("Break text"),"In line":H("In line"),"Full size image":H("Full size image"),"Side image":H("Side image"),"Left aligned image":H("Left aligned image"),"Centered image":H("Centered image"),"Right aligned image":H("Right aligned image")}}init(){const H=this.editor.plugins,se=this.editor.config.get("image.toolbar")||[],Te=ve(H.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const Ye of Te)this._createButton(Ye);const Le=ve([...se.filter(we),...Li.getDefaultDropdownDefinitions(H)],this.localizedDefaultStylesTitles);for(const Ye of Le)this._createDropdown(Ye,Te)}_createDropdown(H,se){const Te=this.editor.ui.componentFactory;Te.add(H.name,Le=>{let Ye;const{defaultItem:Je,items:At,title:vt}=H,Mt=At.filter(xi=>se.find(({name:hi})=>De(hi)===xi)).map(xi=>{const hi=Te.create(xi);return xi===Je&&(Ye=hi),hi});At.length!==Mt.length&&Li.warnInvalidStyle({dropdown:H});const jt=(0,Z.createDropdown)(Le,Z.SplitButtonView),Wt=jt.buttonView,li=Wt.arrowView;return(0,Z.addToolbarToDropdown)(jt,Mt,{enableActiveItemFocusOnDropdownOpen:!0}),Wt.set({label:nt(vt,Ye.label),class:null,tooltip:!0}),li.unbind("label"),li.set({label:vt}),Wt.bind("icon").toMany(Mt,"isOn",(...xi)=>{const hi=xi.findIndex(He);return hi<0?Ye.icon:Mt[hi].icon}),Wt.bind("label").toMany(Mt,"isOn",(...xi)=>{const hi=xi.findIndex(He);return nt(vt,hi<0?Ye.label:Mt[hi].label)}),Wt.bind("isOn").toMany(Mt,"isOn",(...xi)=>xi.some(He)),Wt.bind("class").toMany(Mt,"isOn",(...xi)=>xi.some(He)?"ck-splitbutton_flatten":null),Wt.on("execute",()=>{Mt.some(({isOn:xi})=>xi)?jt.isOpen=!jt.isOpen:Ye.fire("execute")}),jt.bind("isEnabled").toMany(Mt,"isEnabled",(...xi)=>xi.some(He)),this.listenTo(jt,"execute",()=>{this.editor.editing.view.focus()}),jt})}_createButton(H){const se=H.name;this.editor.ui.componentFactory.add(De(se),Te=>{const Le=this.editor.commands.get("imageStyle"),Ye=new Z.ButtonView(Te);return Ye.set({label:H.title,icon:H.icon,tooltip:!0,isToggleable:!0}),Ye.bind("isEnabled").to(Le,"isEnabled"),Ye.bind("isOn").to(Le,"value",Je=>Je===se),Ye.on("execute",this._executeCommand.bind(this,se)),Ye})}_executeCommand(H){this.editor.execute("imageStyle",{value:H}),this.editor.editing.view.focus()}}function ve(ht,H){for(const se of ht)H[se.title]&&(se.title=H[se.title]);return ht}function De(ht){return`imageStyle:${ht}`}function nt(ht,H){return(ht?ht+": ":"")+H}class It extends m.Plugin{static get requires(){return[Ht,Y]}static get pluginName(){return"ImageStyle"}}class ai extends m.Plugin{static get requires(){return[d.WidgetToolbarRepository,C]}static get pluginName(){return"ImageToolbar"}afterInit(){const H=this.editor,se=H.t,Te=H.plugins.get(d.WidgetToolbarRepository),Le=H.plugins.get("ImageUtils");var Ye;Te.register("image",{ariaLabel:se("Image toolbar"),items:(Ye=H.config.get("image.toolbar")||[],Ye.map(Je=>we(Je)?Je.name:Je)),getRelatedElement:Je=>Le.getClosestSelectedImageWidget(Je)})}}class bi extends m.Plugin{static get requires(){return[Ie,C]}static get pluginName(){return"PictureEditing"}afterInit(){const H=this.editor;H.plugins.has("ImageBlockEditing")&&H.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),H.plugins.has("ImageInlineEditing")&&H.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const H=this.editor,se=H.conversion,Te=H.plugins.get("ImageUtils");se.for("upcast").add(function(Le){const Ye=["srcset","media","type","sizes"];return At=>{At.on("element:picture",Je)};function Je(At,vt,Mt){const jt=vt.viewItem;if(!Mt.consumable.test(jt,{name:!0}))return;const Wt=new Map;for(const hi of jt.getChildren())if(hi.is("element","source")){const Di={};for(const dn of Ye)hi.hasAttribute(dn)&&Mt.consumable.test(hi,{attributes:dn})&&(Di[dn]=hi.getAttribute(dn));Object.keys(Di).length&&Wt.set(hi,Di)}const li=Le.findViewImgElement(jt);if(!li)return;let xi=vt.modelCursor.parent;if(!xi.is("element","imageBlock")){const hi=Mt.convertItem(li,vt.modelCursor);vt.modelRange=hi.modelRange,vt.modelCursor=hi.modelCursor,xi=(0,a.first)(hi.modelRange.getItems())}Mt.consumable.consume(jt,{name:!0});for(const[hi,Di]of Wt)Mt.consumable.consume(hi,{attributes:Object.keys(Di)});Wt.size&&Mt.writer.setAttribute("sources",Array.from(Wt.values()),xi),Mt.convertChildren(jt,xi)}}(Te)),se.for("downcast").add(function(Le){return Je=>{Je.on("attribute:sources:imageBlock",Ye),Je.on("attribute:sources:imageInline",Ye)};function Ye(Je,At,vt){if(!vt.consumable.consume(At.item,Je.name))return;const Mt=vt.writer,jt=vt.mapper.toViewElement(At.item),Wt=Le.findViewImgElement(jt);if(At.attributeNewValue&&At.attributeNewValue.length){const li=Mt.createContainerElement("picture",null,At.attributeNewValue.map(Di=>Mt.createEmptyElement("source",Di))),xi=[];let hi=Wt.parent;for(;hi&&hi.is("attributeElement");){const Di=hi.parent;Mt.unwrap(Mt.createRangeOn(Wt),hi),xi.unshift(hi),hi=Di}Mt.insert(Mt.createPositionBefore(Wt),li),Mt.move(Mt.createRangeOn(Wt),Mt.createPositionAt(li,"end"));for(const Di of xi)Mt.wrap(Mt.createRangeOn(li),Di)}else if(Wt.parent.is("element","picture")){const li=Wt.parent;Mt.move(Mt.createRangeOn(Wt),Mt.createPositionBefore(li)),Mt.remove(li)}}}(Te))}_setupImageUploadEditingIntegration(){const H=this.editor;H.plugins.has("ImageUploadEditing")&&this.listenTo(H.plugins.get("ImageUploadEditing"),"uploadComplete",(se,{imageElement:Te,data:Le})=>{const Ye=Le.sources;Ye&&H.model.change(Je=>{Je.setAttributes({sources:Ye},Te)})})}}})(),(window.CKEditor5=window.CKEditor5||{}).image=ii})()},64621:()=>{(function(ti){const Kt=ti.en=ti.en||{};Kt.dictionary=Object.assign(Kt.dictionary||{},{"Decrease indent":"Decrease indent","Increase indent":"Increase indent"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var ti={704:(m,E,y)=>{m.exports=y(79)("./src/core.js")},492:(m,E,y)=>{m.exports=y(79)("./src/engine.js")},273:(m,E,y)=>{m.exports=y(79)("./src/ui.js")},209:(m,E,y)=>{m.exports=y(79)("./src/utils.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},Kt={};function re(m){var E=Kt[m];if(E!==void 0)return E.exports;var y=Kt[m]={exports:{}};return ti[m](y,y.exports,re),y.exports}re.d=(m,E)=>{for(var y in E)re.o(E,y)&&!re.o(m,y)&&Object.defineProperty(m,y,{enumerable:!0,get:E[y]})},re.o=(m,E)=>Object.prototype.hasOwnProperty.call(m,E),re.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})};var ii={};(()=>{"use strict";re.r(ii),re.d(ii,{Indent:()=>d,IndentBlock:()=>me,IndentEditing:()=>E,IndentUI:()=>a});var m=re(704);class E extends m.Plugin{static get pluginName(){return"IndentEditing"}init(){const ee=this.editor;ee.commands.add("indent",new m.MultiCommand(ee)),ee.commands.add("outdent",new m.MultiCommand(ee))}}var y=re(273);const f='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',_='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class a extends m.Plugin{static get pluginName(){return"IndentUI"}init(){const ee=this.editor,Z=ee.locale,h=ee.t,g=Z.uiLanguageDirection=="ltr"?f:_,r=Z.uiLanguageDirection=="ltr"?_:f;this._defineButton("indent",h("Increase indent"),g),this._defineButton("outdent",h("Decrease indent"),r)}_defineButton(ee,Z,h){const g=this.editor;g.ui.componentFactory.add(ee,r=>{const u=g.commands.get(ee),w=new y.ButtonView(r);return w.set({label:Z,icon:h,tooltip:!0}),w.bind("isOn","isEnabled").to(u,"value","isEnabled"),this.listenTo(w,"execute",()=>{g.execute(ee),g.editing.view.focus()}),w})}}class d extends m.Plugin{static get pluginName(){return"Indent"}static get requires(){return[E,a]}}var S=re(492),U=re(209);class I extends m.Command{constructor(ee,Z){super(ee),this._indentBehavior=Z}refresh(){const ee=this.editor.model,Z=(0,U.first)(ee.document.selection.getSelectedBlocks());Z&&ee.schema.checkAttribute(Z,"blockIndent")?this.isEnabled=this._indentBehavior.checkEnabled(Z.getAttribute("blockIndent")):this.isEnabled=!1}execute(){const ee=this.editor.model,Z=function(h){const g=h.document.selection,r=h.schema;return Array.from(g.getSelectedBlocks()).filter(u=>r.checkAttribute(u,"blockIndent"))}(ee);ee.change(h=>{for(const g of Z){const r=g.getAttribute("blockIndent"),u=this._indentBehavior.getNextIndent(r);u?h.setAttribute("blockIndent",u,g):h.removeAttribute("blockIndent",g)}})}}class C{constructor(ee){this.isForward=ee.direction==="forward",this.offset=ee.offset,this.unit=ee.unit}checkEnabled(ee){const Z=parseFloat(ee||0);return this.isForward||Z>0}getNextIndent(ee){const Z=parseFloat(ee||0);if(!(!ee||ee.endsWith(this.unit)))return this.isForward?this.offset+this.unit:void 0;const h=Z+(this.isForward?this.offset:-this.offset);return h>0?h+this.unit:void 0}}class ge{constructor(ee){this.isForward=ee.direction==="forward",this.classes=ee.classes}checkEnabled(ee){const Z=this.classes.indexOf(ee);return this.isForward?Z<this.classes.length-1:Z>=0}getNextIndent(ee){const Z=this.classes.indexOf(ee),h=this.isForward?1:-1;return this.classes[Z+h]}}const pe=["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"];class me extends m.Plugin{constructor(ee){super(ee),ee.config.define("indentBlock",{offset:40,unit:"px"})}static get pluginName(){return"IndentBlock"}init(){const ee=this.editor,Z=ee.config.get("indentBlock"),h=!Z.classes||!Z.classes.length,g=Object.assign({direction:"forward"},Z),r=Object.assign({direction:"backward"},Z);h?(ee.data.addStyleProcessorRules(S.addMarginRules),this._setupConversionUsingOffset(ee.conversion),ee.commands.add("indentBlock",new I(ee,new C(g))),ee.commands.add("outdentBlock",new I(ee,new C(r)))):(this._setupConversionUsingClasses(Z.classes),ee.commands.add("indentBlock",new I(ee,new ge(g))),ee.commands.add("outdentBlock",new I(ee,new ge(r))))}afterInit(){const ee=this.editor,Z=ee.model.schema,h=ee.commands.get("indent"),g=ee.commands.get("outdent"),r=ee.config.get("heading.options");(r&&r.map(u=>u.model)||pe).forEach(u=>{Z.isRegistered(u)&&Z.extend(u,{allowAttributes:"blockIndent"})}),Z.setAttributeProperties("blockIndent",{isFormatting:!0}),h.registerChildCommand(ee.commands.get("indentBlock")),g.registerChildCommand(ee.commands.get("outdentBlock"))}_setupConversionUsingOffset(){const ee=this.editor.conversion,Z=this.editor.locale.contentLanguageDirection==="rtl"?"margin-right":"margin-left";ee.for("upcast").attributeToAttribute({view:{styles:{[Z]:/[\s\S]+/}},model:{key:"blockIndent",value:h=>h.getStyle(Z)}}),ee.for("downcast").attributeToAttribute({model:"blockIndent",view:h=>({key:"style",value:{[Z]:h}})})}_setupConversionUsingClasses(ee){const Z={model:{key:"blockIndent",values:[]},view:{}};for(const h of ee)Z.model.values.push(h),Z.view[h]={key:"class",value:[h]};this.editor.conversion.attributeToAttribute(Z)}}})(),(window.CKEditor5=window.CKEditor5||{}).indent=ii})()},4986:(ti,Kt,re)=>{(function(ii){const m=ii.en=ii.en||{};m.dictionary=Object.assign(m.dictionary||{},{Downloadable:"Downloadable","Edit link":"Edit link",Link:"Link","Link image":"Link image","Link URL":"Link URL","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","This link has no URL":"This link has no URL",Unlink:"Unlink"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var ii={23:(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a(609),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}",""]);const U=S},952:(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a(609),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}",""]);const U=S},871:(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a(609),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}",""]);const U=S},269:(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a(609),S=a.n(d)()(function(I){return I[1]});S.push([f.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',""]);const U=S},764:(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a(609),S=a.n(d)()(function(I){return I[1]});S.push([f.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const U=S},609:f=>{"use strict";f.exports=function(_){var a=[];return a.toString=function(){return this.map(function(d){var S=_(d);return d[2]?"@media ".concat(d[2]," {").concat(S,"}"):S}).join("")},a.i=function(d,S,U){typeof d=="string"&&(d=[[null,d,""]]);var I={};if(U)for(var C=0;C<this.length;C++){var ge=this[C][0];ge!=null&&(I[ge]=!0)}for(var pe=0;pe<d.length;pe++){var me=[].concat(d[pe]);U&&I[me[0]]||(S&&(me[2]?me[2]="".concat(S," and ").concat(me[2]):me[2]=S),a.push(me))}},a}},62:(f,_,a)=>{"use strict";var d,S=function(){return d===void 0&&(d=Boolean(window&&document&&document.all&&!window.atob)),d},U=function(){var u={};return function(w){if(u[w]===void 0){var v=document.querySelector(w);if(window.HTMLIFrameElement&&v instanceof window.HTMLIFrameElement)try{v=v.contentDocument.head}catch{v=null}u[w]=v}return u[w]}}(),I=[];function C(u){for(var w=-1,v=0;v<I.length;v++)if(I[v].identifier===u){w=v;break}return w}function ge(u,w){for(var v={},T=[],z=0;z<u.length;z++){var L=u[z],x=w.base?L[0]+w.base:L[0],c=v[x]||0,D="".concat(x," ").concat(c);v[x]=c+1;var W=C(D),q={css:L[1],media:L[2],sourceMap:L[3]};W!==-1?(I[W].references++,I[W].updater(q)):I.push({identifier:D,updater:r(q,w),references:1}),T.push(D)}return T}function pe(u){var w=document.createElement("style"),v=u.attributes||{};if(v.nonce===void 0){var T=a.nc;T&&(v.nonce=T)}if(Object.keys(v).forEach(function(L){w.setAttribute(L,v[L])}),typeof u.insert=="function")u.insert(w);else{var z=U(u.insert||"head");if(!z)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");z.appendChild(w)}return w}var me,J=(me=[],function(u,w){return me[u]=w,me.filter(Boolean).join(`
`)});function ee(u,w,v,T){var z=v?"":T.media?"@media ".concat(T.media," {").concat(T.css,"}"):T.css;if(u.styleSheet)u.styleSheet.cssText=J(w,z);else{var L=document.createTextNode(z),x=u.childNodes;x[w]&&u.removeChild(x[w]),x.length?u.insertBefore(L,x[w]):u.appendChild(L)}}function Z(u,w,v){var T=v.css,z=v.media,L=v.sourceMap;if(z?u.setAttribute("media",z):u.removeAttribute("media"),L&&typeof btoa<"u"&&(T+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(L))))," */")),u.styleSheet)u.styleSheet.cssText=T;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(T))}}var h=null,g=0;function r(u,w){var v,T,z;if(w.singleton){var L=g++;v=h||(h=pe(w)),T=ee.bind(null,v,L,!1),z=ee.bind(null,v,L,!0)}else v=pe(w),T=Z.bind(null,v,w),z=function(){(function(x){if(x.parentNode===null)return!1;x.parentNode.removeChild(x)})(v)};return T(u),function(x){if(x){if(x.css===u.css&&x.media===u.media&&x.sourceMap===u.sourceMap)return;T(u=x)}else z()}}f.exports=function(u,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=S());var v=ge(u=u||[],w);return function(T){if(T=T||[],Object.prototype.toString.call(T)==="[object Array]"){for(var z=0;z<v.length;z++){var L=C(v[z]);I[L].references--}for(var x=ge(T,w),c=0;c<v.length;c++){var D=C(v[c]);I[D].references===0&&(I[D].updater(),I.splice(D,1))}v=x}}}},945:(f,_,a)=>{f.exports=a(79)("./src/clipboard.js")},704:(f,_,a)=>{f.exports=a(79)("./src/core.js")},492:(f,_,a)=>{f.exports=a(79)("./src/engine.js")},181:(f,_,a)=>{f.exports=a(79)("./src/typing.js")},273:(f,_,a)=>{f.exports=a(79)("./src/ui.js")},209:(f,_,a)=>{f.exports=a(79)("./src/utils.js")},995:(f,_,a)=>{f.exports=a(79)("./src/widget.js")},79:f=>{"use strict";f.exports=CKEditor5.dll}},m={};function E(f){var _=m[f];if(_!==void 0)return _.exports;var a=m[f]={id:f,exports:{}};return ii[f](a,a.exports,E),a.exports}E.n=f=>{var _=f&&f.__esModule?()=>f.default:()=>f;return E.d(_,{a:_}),_},E.d=(f,_)=>{for(var a in _)E.o(_,a)&&!E.o(f,a)&&Object.defineProperty(f,a,{enumerable:!0,get:_[a]})},E.o=(f,_)=>Object.prototype.hasOwnProperty.call(f,_),E.r=f=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},E.nc=void 0;var y={};(()=>{"use strict";E.r(y),E.d(y,{AutoLink:()=>Ct,Link:()=>Ft,LinkEditing:()=>Ii,LinkImage:()=>Ui,LinkImageEditing:()=>ci,LinkImageUI:()=>Ei,LinkUI:()=>N});var f=E(704),_=E(492),a=E(181),d=E(945),S=E(209);class U{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(we){Array.isArray(we)?we.forEach(He=>this._definitions.add(He)):this._definitions.add(we)}getDispatcher(){return we=>{we.on("attribute:linkHref",(He,Q,R)=>{if(!R.consumable.test(Q.item,"attribute:linkHref")||!Q.item.is("selection")&&!R.schema.isInline(Q.item))return;const Y=R.writer,ve=Y.document.selection;for(const De of this._definitions){const nt=Y.createAttributeElement("a",De.attributes,{priority:5});De.classes&&Y.addClass(De.classes,nt);for(const It in De.styles)Y.setStyle(It,De.styles[It],nt);Y.setCustomProperty("link",!0,nt),De.callback(Q.attributeNewValue)?Q.item.is("selection")?Y.wrap(ve.getFirstRange(),nt):Y.wrap(R.mapper.toViewRange(Q.range),nt):Y.unwrap(R.mapper.toViewRange(Q.range),nt)}},{priority:"high"})}}getDispatcherForLinkedImage(){return we=>{we.on("attribute:linkHref:imageBlock",(He,Q,{writer:R,mapper:Y})=>{const ve=Y.toViewElement(Q.item),De=Array.from(ve.getChildren()).find(nt=>nt.name==="a");for(const nt of this._definitions){const It=(0,S.toMap)(nt.attributes);if(nt.callback(Q.attributeNewValue)){for(const[ai,bi]of It)ai==="class"?R.addClass(bi,De):R.setAttribute(ai,bi,De);nt.classes&&R.addClass(nt.classes,De);for(const ai in nt.styles)R.setStyle(ai,nt.styles[ai],De)}else{for(const[ai,bi]of It)ai==="class"?R.removeClass(bi,De):R.removeAttribute(ai,De);nt.classes&&R.removeClass(nt.classes,De);for(const ai in nt.styles)R.removeStyle(ai,De)}}})}}}const I=function(Ht,we,He){var Q=-1,R=Ht.length;we<0&&(we=-we>R?0:R+we),(He=He>R?R:He)<0&&(He+=R),R=we>He?0:He-we>>>0,we>>>=0;for(var Y=Array(R);++Q<R;)Y[Q]=Ht[Q+we];return Y},C=function(Ht,we,He){var Q=Ht.length;return He=He===void 0?Q:He,!we&&He>=Q?Ht:I(Ht,we,He)};var ge=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const pe=function(Ht){return ge.test(Ht)},me=function(Ht){return Ht.split("")};var J="\\ud800-\\udfff",ee="["+J+"]",Z="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",h="\\ud83c[\\udffb-\\udfff]",g="[^"+J+"]",r="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",w="(?:"+Z+"|"+h+")?",v="[\\ufe0e\\ufe0f]?",T=v+w+("(?:\\u200d(?:"+[g,r,u].join("|")+")"+v+w+")*"),z="(?:"+[g+Z+"?",Z,r,u,ee].join("|")+")",L=RegExp(h+"(?="+h+")|"+z+T,"g");const x=function(Ht){return Ht.match(L)||[]},c=function(Ht){return pe(Ht)?x(Ht):me(Ht)},D=typeof re.g=="object"&&re.g&&re.g.Object===Object&&re.g;var W=typeof self=="object"&&self&&self.Object===Object&&self;const q=(D||W||Function("return this")()).Symbol,ae=function(Ht,we){for(var He=-1,Q=Ht==null?0:Ht.length,R=Array(Q);++He<Q;)R[He]=we(Ht[He],He,Ht);return R},Ie=Array.isArray;var Ve=Object.prototype,_e=Ve.hasOwnProperty,Me=Ve.toString,Qe=q?q.toStringTag:void 0;const ut=function(Ht){var we=_e.call(Ht,Qe),He=Ht[Qe];try{Ht[Qe]=void 0;var Q=!0}catch{}var R=Me.call(Ht);return Q&&(we?Ht[Qe]=He:delete Ht[Qe]),R};var rt=Object.prototype.toString;const qe=function(Ht){return rt.call(Ht)};var et="[object Null]",Bt="[object Undefined]",Nt=q?q.toStringTag:void 0;const xt=function(Ht){return Ht==null?Ht===void 0?Bt:et:Nt&&Nt in Object(Ht)?ut(Ht):qe(Ht)},tt=function(Ht){return Ht!=null&&typeof Ht=="object"};var Dt="[object Symbol]";const ye=function(Ht){return typeof Ht=="symbol"||tt(Ht)&&xt(Ht)==Dt};var Se=1/0,Ke=q?q.prototype:void 0,kt=Ke?Ke.toString:void 0;const Lt=function Ht(we){if(typeof we=="string")return we;if(Ie(we))return ae(we,Ht)+"";if(ye(we))return kt?kt.call(we):"";var He=we+"";return He=="0"&&1/we==-Se?"-0":He},Gt=function(Ht){return Ht==null?"":Lt(Ht)},$t=function(Ht){return function(we){we=Gt(we);var He=pe(we)?c(we):void 0,Q=He?He[0]:we.charAt(0),R=He?C(He,1).join(""):we.slice(1);return Q[Ht]()+R}}("toUpperCase"),ft=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Yt=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,_t=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,ri=/^((\w+:(\/{2,})?)|(\W))/i,ui="Ctrl+K";function Ai(Ht,{writer:we}){const He=we.createAttributeElement("a",{href:Ht},{priority:5});return we.setCustomProperty("link",!0,He),He}function bt(Ht){return function(we){return we.replace(ft,"").match(Yt)}(Ht=String(Ht))?Ht:"#"}function be(Ht,we){return!!Ht&&we.checkAttribute(Ht.name,"linkHref")}function Ne(Ht,we){const He=(Q=Ht,_t.test(Q)?"mailto:":we);var Q;const R=!!He&&!$e(Ht);return Ht&&R?He+Ht:Ht}function $e(Ht){return ri.test(Ht)}function gt(Ht){window.open(Ht,"_blank","noopener")}class Tt extends f.Command{constructor(we){super(we),this.manualDecorators=new S.Collection,this.automaticDecorators=new U}restoreManualDecoratorStates(){for(const we of this.manualDecorators)we.value=this._getDecoratorStateFromModel(we.id)}refresh(){const we=this.editor.model,He=we.document.selection,Q=He.getSelectedElement()||(0,S.first)(He.getSelectedBlocks());be(Q,we.schema)?(this.value=Q.getAttribute("linkHref"),this.isEnabled=we.schema.checkAttribute(Q,"linkHref")):(this.value=He.getAttribute("linkHref"),this.isEnabled=we.schema.checkAttributeInSelection(He,"linkHref"));for(const R of this.manualDecorators)R.value=this._getDecoratorStateFromModel(R.id)}execute(we,He={}){const Q=this.editor.model,R=Q.document.selection,Y=[],ve=[];for(const De in He)He[De]?Y.push(De):ve.push(De);Q.change(De=>{if(R.isCollapsed){const nt=R.getFirstPosition();if(R.hasAttribute("linkHref")){const It=(0,a.findAttributeRange)(nt,"linkHref",R.getAttribute("linkHref"),Q);De.setAttribute("linkHref",we,It),Y.forEach(ai=>{De.setAttribute(ai,!0,It)}),ve.forEach(ai=>{De.removeAttribute(ai,It)}),De.setSelection(De.createPositionAfter(It.end.nodeBefore))}else if(we!==""){const It=(0,S.toMap)(R.getAttributes());It.set("linkHref",we),Y.forEach(bi=>{It.set(bi,!0)});const{end:ai}=Q.insertContent(De.createText(we,It),nt);De.setSelection(ai)}["linkHref",...Y,...ve].forEach(It=>{De.removeSelectionAttribute(It)})}else{const nt=Q.schema.getValidRanges(R.getRanges(),"linkHref"),It=[];for(const bi of R.getSelectedBlocks())Q.schema.checkAttribute(bi,"linkHref")&&It.push(De.createRangeOn(bi));const ai=It.slice();for(const bi of nt)this._isRangeToUpdate(bi,It)&&ai.push(bi);for(const bi of ai)De.setAttribute("linkHref",we,bi),Y.forEach(ht=>{De.setAttribute(ht,!0,bi)}),ve.forEach(ht=>{De.removeAttribute(ht,bi)})}})}_getDecoratorStateFromModel(we){const He=this.editor.model,Q=He.document.selection,R=Q.getSelectedElement();return be(R,He.schema)?R.getAttribute(we):Q.getAttribute(we)}_isRangeToUpdate(we,He){for(const Q of He)if(Q.containsRange(we))return!1;return!0}}class Et extends f.Command{refresh(){const we=this.editor.model,He=we.document.selection,Q=He.getSelectedElement();be(Q,we.schema)?this.isEnabled=we.schema.checkAttribute(Q,"linkHref"):this.isEnabled=we.schema.checkAttributeInSelection(He,"linkHref")}execute(){const we=this.editor,He=this.editor.model,Q=He.document.selection,R=we.commands.get("link");He.change(Y=>{const ve=Q.isCollapsed?[(0,a.findAttributeRange)(Q.getFirstPosition(),"linkHref",Q.getAttribute("linkHref"),He)]:He.schema.getValidRanges(Q.getRanges(),"linkHref");for(const De of ve)if(Y.removeAttribute("linkHref",De),R)for(const nt of R.manualDecorators)Y.removeAttribute(nt.id,De)})}}class Xt{constructor({id:we,label:He,attributes:Q,classes:R,styles:Y,defaultValue:ve}){this.id=we,this.set("value"),this.defaultValue=ve,this.label=He,this.attributes=Q,this.classes=R,this.styles=Y}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}(0,S.mix)(Xt,S.ObservableMixin);var Ut=E(62),ni=E.n(Ut),wi=E(23),gi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ni()(wi.Z,gi),wi.Z.locals;const Ti="automatic",Rt=/^(https?:)?\/\//;class Ii extends f.Plugin{static get pluginName(){return"LinkEditing"}static get requires(){return[a.TwoStepCaretMovement,a.Input,d.ClipboardPipeline]}constructor(we){super(we),we.config.define("link",{addTargetToExternalLinks:!1})}init(){const we=this.editor;we.model.schema.extend("$text",{allowAttributes:"linkHref"}),we.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Ai}),we.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(Q,R)=>Ai(bt(Q),R)}),we.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:Q=>Q.getAttribute("href")}}),we.commands.add("link",new Tt(we)),we.commands.add("unlink",new Et(we));const He=function(Q,R){const Y={"Open in a new tab":Q("Open in a new tab"),Downloadable:Q("Downloadable")};return R.forEach(ve=>(ve.label&&Y[ve.label]&&(ve.label=Y[ve.label]),ve)),R}(we.t,function(Q){const R=[];if(Q)for(const[Y,ve]of Object.entries(Q)){const De=Object.assign({},ve,{id:`link${$t(Y)}`});R.push(De)}return R}(we.config.get("link.decorators")));this._enableAutomaticDecorators(He.filter(Q=>Q.mode===Ti)),this._enableManualDecorators(He.filter(Q=>Q.mode==="manual")),we.plugins.get(a.TwoStepCaretMovement).registerAttribute("linkHref"),(0,a.inlineHighlight)(we,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(we){const He=this.editor,Q=He.commands.get("link").automaticDecorators;He.config.get("link.addTargetToExternalLinks")&&Q.add({id:"linkIsExternal",mode:Ti,callback:R=>Rt.test(R),attributes:{target:"_blank",rel:"noopener noreferrer"}}),Q.add(we),Q.length&&He.conversion.for("downcast").add(Q.getDispatcher())}_enableManualDecorators(we){if(!we.length)return;const He=this.editor,Q=He.commands.get("link").manualDecorators;we.forEach(R=>{He.model.schema.extend("$text",{allowAttributes:R.id}),R=new Xt(R),Q.add(R),He.conversion.for("downcast").attributeToElement({model:R.id,view:(Y,{writer:ve,schema:De},{item:nt})=>{if((nt.is("selection")||De.isInline(nt))&&Y){const It=ve.createAttributeElement("a",R.attributes,{priority:5});R.classes&&ve.addClass(R.classes,It);for(const ai in R.styles)ve.setStyle(ai,R.styles[ai],It);return ve.setCustomProperty("link",!0,It),It}}}),He.conversion.for("upcast").elementToAttribute({view:{name:"a",...R._createPattern()},model:{key:R.id}})})}_enableLinkOpen(){const we=this.editor,He=we.editing.view.document;this.listenTo(He,"click",(Q,R)=>{if(!(S.env.isMac?R.domEvent.metaKey:R.domEvent.ctrlKey))return;let Y=R.domTarget;if(Y.tagName.toLowerCase()!="a"&&(Y=Y.closest("a")),!Y)return;const ve=Y.getAttribute("href");ve&&(Q.stop(),R.preventDefault(),gt(ve))},{context:"$capture"}),this.listenTo(He,"keydown",(Q,R)=>{const Y=we.commands.get("link").value;Y&&R.keyCode===S.keyCodes.enter&&R.altKey&&(Q.stop(),gt(Y))})}_enableInsertContentSelectionAttributesFixer(){const we=this.editor.model,He=we.document.selection;this.listenTo(we,"insertContent",()=>{const Q=He.anchor.nodeBefore,R=He.anchor.nodeAfter;He.hasAttribute("linkHref")&&Q&&Q.hasAttribute("linkHref")&&(R&&R.hasAttribute("linkHref")||we.change(Y=>{Mi(Y,Fi(we.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const we=this.editor,He=we.model;we.editing.view.addObserver(_.MouseObserver);let Q=!1;this.listenTo(we.editing.view.document,"mousedown",()=>{Q=!0}),this.listenTo(we.editing.view.document,"selectionChange",()=>{if(!Q)return;Q=!1;const R=He.document.selection;if(!R.isCollapsed||!R.hasAttribute("linkHref"))return;const Y=R.getFirstPosition(),ve=(0,a.findAttributeRange)(Y,"linkHref",R.getAttribute("linkHref"),He);(Y.isTouching(ve.start)||Y.isTouching(ve.end))&&He.change(De=>{Mi(De,Fi(He.schema))})})}_enableTypingOverLink(){const we=this.editor,He=we.editing.view;let Q,R;this.listenTo(He.document,"delete",()=>{R=!0},{priority:"high"}),this.listenTo(we.model,"deleteContent",()=>{const Y=we.model.document.selection;Y.isCollapsed||(R?R=!1:Qi(we)&&function(ve){const De=ve.document.selection,nt=De.getFirstPosition(),It=De.getLastPosition(),ai=nt.nodeAfter;if(!ai||!ai.is("$text")||!ai.hasAttribute("linkHref"))return!1;const bi=It.textNode||It.nodeBefore;return ai===bi?!0:(0,a.findAttributeRange)(nt,"linkHref",ai.getAttribute("linkHref"),ve).containsRange(ve.createRange(nt,It),!0)}(we.model)&&(Q=Y.getAttributes()))},{priority:"high"}),this.listenTo(we.model,"insertContent",(Y,[ve])=>{R=!1,Qi(we)&&Q&&(we.model.change(De=>{for(const[nt,It]of Q)De.setAttribute(nt,It,ve)}),Q=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const we=this.editor,He=we.model,Q=He.document.selection,R=we.editing.view;let Y=!1,ve=!1;this.listenTo(R.document,"delete",(De,nt)=>{ve=nt.direction==="backward"},{priority:"high"}),this.listenTo(He,"deleteContent",()=>{Y=!1;const De=Q.getFirstPosition(),nt=Q.getAttribute("linkHref");if(!nt)return;const It=(0,a.findAttributeRange)(De,"linkHref",nt,He);Y=It.containsPosition(De)||It.end.isEqual(De)},{priority:"high"}),this.listenTo(He,"deleteContent",()=>{ve&&(ve=!1,Y||we.model.enqueueChange(De=>{Mi(De,Fi(He.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const we=this.editor,He=we.model,Q=this.editor.config.get("link.defaultProtocol");Q&&this.listenTo(we.plugins.get("ClipboardPipeline"),"contentInsertion",(R,Y)=>{He.change(ve=>{const De=ve.createRangeIn(Y.content);for(const nt of De.getItems())if(nt.hasAttribute("linkHref")){const It=Ne(nt.getAttribute("linkHref"),Q);ve.setAttribute("linkHref",It,nt)}})})}}function Mi(Ht,we){Ht.removeSelectionAttribute("linkHref");for(const He of we)Ht.removeSelectionAttribute(He)}function Qi(Ht){return Ht.model.change(we=>we.batch).isTyping}function Fi(Ht){return Ht.getDefinition("$text").allowAttributes.filter(we=>we.startsWith("link"))}var Vi=E(273),Ji=E(995),cn=E(764),Ri={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ni()(cn.Z,Ri),cn.Z.locals;var pn=E(871),fi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ni()(pn.Z,fi),pn.Z.locals;class pi extends Vi.View{constructor(we,He){super(we);const Q=we.t;this.focusTracker=new S.FocusTracker,this.keystrokes=new S.KeystrokeHandler,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(Q("Save"),f.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(Q("Cancel"),f.icons.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(He),this.children=this._createFormChildren(He.manualDecorators),this._focusables=new Vi.ViewCollection,this._focusCycler=new Vi.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const R=["ck","ck-link-form","ck-responsive-form"];He.manualDecorators.length&&R.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:R,tabindex:"-1"},children:this.children}),(0,Vi.injectCssTransitionDisabler)(this)}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((we,He)=>(we[He.name]=He.isOn,we),{})}render(){super.render(),(0,Vi.submitHandler)({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(we=>{this._focusables.add(we),this.focusTracker.add(we.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const we=this.locale.t,He=new Vi.LabeledFieldView(this.locale,Vi.createLabeledInputText);return He.label=we("Link URL"),He}_createButton(we,He,Q,R){const Y=new Vi.ButtonView(this.locale);return Y.set({label:we,icon:He,tooltip:!0}),Y.extendTemplate({attributes:{class:Q}}),R&&Y.delegate("execute").to(this,R),Y}_createManualDecoratorSwitches(we){const He=this.createCollection();for(const Q of we.manualDecorators){const R=new Vi.SwitchButtonView(this.locale);R.set({name:Q.id,label:Q.label,withText:!0}),R.bind("isOn").toMany([Q,we],"value",(Y,ve)=>ve===void 0&&Y===void 0?Q.defaultValue:Y),R.on("execute",()=>{Q.set("value",!R.isOn)}),He.add(R)}return He}_createFormChildren(we){const He=this.createCollection();if(He.add(this.urlInputView),we.length){const Q=new Vi.View;Q.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(R=>({tag:"li",children:[R],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),He.add(Q)}return He.add(this.saveButtonView),He.add(this.cancelButtonView),He}}var qi=E(952),ke={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ni()(qi.Z,ke),qi.Z.locals;class V extends Vi.View{constructor(we){super(we);const He=we.t;this.focusTracker=new S.FocusTracker,this.keystrokes=new S.KeystrokeHandler,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(He("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(He("Edit link"),f.icons.pencil,"edit"),this.set("href"),this._focusables=new Vi.ViewCollection,this._focusCycler=new Vi.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(we=>{this._focusables.add(we),this.focusTracker.add(we.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(we,He,Q){const R=new Vi.ButtonView(this.locale);return R.set({label:we,icon:He,tooltip:!0}),R.delegate("execute").to(this,Q),R}_createPreviewButton(){const we=new Vi.ButtonView(this.locale),He=this.bindTemplate,Q=this.t;return we.set({withText:!0,tooltip:Q("Open link in new tab")}),we.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:He.to("href",R=>R&&bt(R)),target:"_blank",rel:"noopener noreferrer"}}),we.bind("label").to(this,"href",R=>R||Q("This link has no URL")),we.bind("isEnabled").to(this,"href",R=>!!R),we.template.tag="a",we.template.eventListeners={},we}}const F='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',P="link-ui";class N extends f.Plugin{static get requires(){return[Vi.ContextualBalloon]}static get pluginName(){return"LinkUI"}init(){const we=this.editor;we.editing.view.addObserver(_.ClickObserver),this.actionsView=null,this.formView=null,this._balloon=we.plugins.get(Vi.ContextualBalloon),this._createToolbarLinkButton(),this._enableBalloonActivators(),we.conversion.for("editingDowncast").markerToHighlight({model:P,view:{classes:["ck-fake-link-selection"]}}),we.conversion.for("editingDowncast").markerToElement({model:P,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const we=this.editor,He=new V(we.locale),Q=we.commands.get("link"),R=we.commands.get("unlink");return He.bind("href").to(Q,"value"),He.editButtonView.bind("isEnabled").to(Q),He.unlinkButtonView.bind("isEnabled").to(R),this.listenTo(He,"edit",()=>{this._addFormView()}),this.listenTo(He,"unlink",()=>{we.execute("unlink"),this._hideUI()}),He.keystrokes.set("Esc",(Y,ve)=>{this._hideUI(),ve()}),He.keystrokes.set(ui,(Y,ve)=>{this._addFormView(),ve()}),He}_createFormView(){const we=this.editor,He=we.commands.get("link"),Q=we.config.get("link.defaultProtocol"),R=new pi(we.locale,He);return R.urlInputView.fieldView.bind("value").to(He,"value"),R.urlInputView.bind("isReadOnly").to(He,"isEnabled",Y=>!Y),R.saveButtonView.bind("isEnabled").to(He),this.listenTo(R,"submit",()=>{const{value:Y}=R.urlInputView.fieldView.element,ve=Ne(Y,Q);we.execute("link",ve,R.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(R,"cancel",()=>{this._closeFormView()}),R.keystrokes.set("Esc",(Y,ve)=>{this._closeFormView(),ve()}),R}_createToolbarLinkButton(){const we=this.editor,He=we.commands.get("link"),Q=we.t;we.ui.componentFactory.add("link",R=>{const Y=new Vi.ButtonView(R);return Y.isEnabled=!0,Y.label=Q("Link"),Y.icon=F,Y.keystroke=ui,Y.tooltip=!0,Y.isToggleable=!0,Y.bind("isEnabled").to(He,"isEnabled"),Y.bind("isOn").to(He,"value",ve=>!!ve),this.listenTo(Y,"execute",()=>this._showUI(!0)),Y})}_enableBalloonActivators(){const we=this.editor,He=we.editing.view.document;this.listenTo(He,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),we.keystrokes.set(ui,(Q,R)=>{R(),we.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(we,He)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),He())},{priority:"high"}),this.editor.keystrokes.set("Esc",(we,He)=>{this._isUIVisible&&(this._hideUI(),He())}),(0,Vi.clickOutsideHandler)({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const we=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=we.value||""}_closeFormView(){const we=this.editor.commands.get("link");we.restoreManualDecoratorStates(),we.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(we=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),we&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),we&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const we=this.editor;this.stopListening(we.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),we.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const we=this.editor,He=we.editing.view.document;let Q=this._getSelectedLinkElement(),R=ve();const Y=()=>{const De=this._getSelectedLinkElement(),nt=ve();Q&&!De||!Q&&nt!==R?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),Q=De,R=nt};function ve(){return He.selection.focus.getAncestors().reverse().find(De=>De.is("element"))}this.listenTo(we.ui,"update",Y),this.listenTo(this._balloon,"change:visibleView",Y)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const we=this.editor.editing.view,He=this.editor.model,Q=we.document;let R=null;if(He.markers.has(P)){const Y=Array.from(this.editor.editing.mapper.markerNameToElements(P)),ve=we.createRange(we.createPositionBefore(Y[0]),we.createPositionAfter(Y[Y.length-1]));R=we.domConverter.viewRangeToDom(ve)}else R=()=>{const Y=this._getSelectedLinkElement();return Y?we.domConverter.mapViewToDom(Y):we.domConverter.viewRangeToDom(Q.selection.getFirstRange())};return{target:R}}_getSelectedLinkElement(){const we=this.editor.editing.view,He=we.document.selection,Q=He.getSelectedElement();if(He.isCollapsed||Q&&(0,Ji.isWidget)(Q))return de(He.getFirstPosition());{const R=He.getFirstRange().getTrimmed(),Y=de(R.start),ve=de(R.end);return Y&&Y==ve&&we.createRangeIn(Y).getTrimmed().isEqual(R)?Y:null}}_showFakeVisualSelection(){const we=this.editor.model;we.change(He=>{const Q=we.document.selection.getFirstRange();if(we.markers.has(P))He.updateMarker(P,{range:Q});else if(Q.start.isAtEnd){const R=Q.start.getLastMatchingPosition(({item:Y})=>!we.schema.isContent(Y),{boundaries:Q});He.addMarker(P,{usingOperation:!1,affectsData:!1,range:He.createRange(R,Q.end)})}else He.addMarker(P,{usingOperation:!1,affectsData:!1,range:Q})})}_hideFakeVisualSelection(){const we=this.editor.model;we.markers.has(P)&&we.change(He=>{He.removeMarker(P)})}}function de(Ht){return Ht.getAncestors().find(we=>{return(He=we).is("attributeElement")&&!!He.getCustomProperty("link");var He})}const Ce=4,Ze=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),st=2;class Ct extends f.Plugin{static get requires(){return[a.Delete]}static get pluginName(){return"AutoLink"}init(){const we=this.editor.model.document.selection;we.on("change:range",()=>{this.isEnabled=!we.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const we=this.editor,He=new a.TextWatcher(we.model,Q=>{if(!function(Y){return Y.length>Ce&&Y[Y.length-1]===" "&&Y[Y.length-2]!==" "}(Q))return;const R=Ge(Q.substr(0,Q.length-1));return R?{url:R}:void 0});He.on("matched:data",(Q,R)=>{const{batch:Y,range:ve,url:De}=R;if(!Y.isTyping)return;const nt=ve.end.getShiftedBy(-1),It=nt.getShiftedBy(-De.length),ai=we.model.createRange(It,nt);this._applyAutoLink(De,ai)}),He.bind("isEnabled").to(this)}_enableEnterHandling(){const we=this.editor,He=we.model,Q=we.commands.get("enter");Q&&Q.on("execute",()=>{const R=He.document.selection.getFirstPosition();if(!R.parent.previousSibling)return;const Y=He.createRangeIn(R.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(Y)})}_enableShiftEnterHandling(){const we=this.editor,He=we.model,Q=we.commands.get("shiftEnter");Q&&Q.on("execute",()=>{const R=He.document.selection.getFirstPosition(),Y=He.createRange(He.createPositionAt(R.parent,0),R.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(Y)})}_checkAndApplyAutoLinkOnRange(we){const He=this.editor.model,{text:Q,range:R}=(0,a.getLastTextLine)(we,He),Y=Ge(Q);if(Y){const ve=He.createRange(R.end.getShiftedBy(-Y.length),R.end);this._applyAutoLink(Y,ve)}}_applyAutoLink(we,He){const Q=this.editor.model,R=Ne(we,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(Y,ve){return ve.schema.checkAttributeInSelection(ve.createSelection(Y),"linkHref")}(He,Q)&&$e(R)&&!function(Y){const ve=Y.start.nodeAfter;return ve&&ve.hasAttribute("linkHref")}(He)&&this._persistAutoLink(R,He)}_persistAutoLink(we,He){const Q=this.editor.model,R=this.editor.plugins.get("Delete");Q.enqueueChange(Y=>{Y.setAttribute("linkHref",we,He),Q.enqueueChange(()=>{R.requestUndoOnBackspace()})})}}function Ge(Ht){const we=Ze.exec(Ht);return we?we[st]:null}class Ft extends f.Plugin{static get requires(){return[Ii,N,Ct]}static get pluginName(){return"Link"}}class ci extends f.Plugin{static get requires(){return["ImageEditing","ImageUtils",Ii]}static get pluginName(){return"LinkImageEditing"}init(){const we=this.editor,He=we.model.schema;we.plugins.has("ImageBlockEditing")&&He.extend("imageBlock",{allowAttributes:["linkHref"]}),we.conversion.for("upcast").add(function(Q){const R=Q.plugins.has("ImageInlineEditing"),Y=Q.plugins.get("ImageUtils");return ve=>{ve.on("element:a",(De,nt,It)=>{const ai=nt.viewItem,bi=Y.findViewImgElement(ai);if(!bi)return;const ht=bi.findAncestor(Le=>Y.isBlockImageView(Le));if(R&&!ht)return;const H={attributes:["href"]};if(!It.consumable.consume(ai,H))return;const se=ai.getAttribute("href");if(!se)return;let Te=nt.modelCursor.parent;if(!Te.is("element","imageBlock")){const Le=It.convertItem(bi,nt.modelCursor);nt.modelRange=Le.modelRange,nt.modelCursor=Le.modelCursor,Te=nt.modelCursor.nodeBefore}Te&&Te.is("element","imageBlock")&&It.writer.setAttribute("linkHref",se,Te)},{priority:"high"})}}(we)),we.conversion.for("downcast").add(function(Q){const R=Q.plugins.get("ImageUtils");return Y=>{Y.on("attribute:linkHref:imageBlock",(ve,De,nt)=>{if(!nt.consumable.consume(De.item,ve.name))return;const It=nt.mapper.toViewElement(De.item),ai=nt.writer,bi=Array.from(It.getChildren()).find(se=>se.name==="a"),ht=R.findViewImgElement(It),H=ht.parent.is("element","picture")?ht.parent:ht;if(bi)De.attributeNewValue?ai.setAttribute("href",De.attributeNewValue,bi):(ai.move(ai.createRangeOn(H),ai.createPositionAt(It,0)),ai.remove(bi));else{const se=ai.createContainerElement("a",{href:De.attributeNewValue});ai.insert(ai.createPositionAt(It,0),se),ai.move(ai.createRangeOn(H),ai.createPositionAt(se,0))}},{priority:"high"})}}(we)),this._enableAutomaticDecorators(),this._enableManualDecorators()}_enableAutomaticDecorators(){const we=this.editor,He=we.commands.get("link").automaticDecorators;He.length&&we.conversion.for("downcast").add(He.getDispatcherForLinkedImage())}_enableManualDecorators(){const we=this.editor,He=we.commands.get("link");for(const Q of He.manualDecorators)we.plugins.has("ImageBlockEditing")&&we.model.schema.extend("imageBlock",{allowAttributes:Q.id}),we.plugins.has("ImageInlineEditing")&&we.model.schema.extend("imageInline",{allowAttributes:Q.id}),we.conversion.for("downcast").add(yi(Q)),we.conversion.for("upcast").add(Oi(we,Q))}}function yi(Ht){return we=>{we.on(`attribute:${Ht.id}:imageBlock`,(He,Q,R)=>{const Y=R.mapper.toViewElement(Q.item),ve=Array.from(Y.getChildren()).find(De=>De.name==="a");if(ve){for(const[De,nt]of(0,S.toMap)(Ht.attributes))R.writer.setAttribute(De,nt,ve);Ht.classes&&R.writer.addClass(Ht.classes,ve);for(const De in Ht.styles)R.writer.setStyle(De,Ht.styles[De],ve)}})}}function Oi(Ht,we){const He=Ht.plugins.has("ImageInlineEditing"),Q=Ht.plugins.get("ImageUtils");return R=>{R.on("element:a",(Y,ve,De)=>{const nt=ve.viewItem,It=Q.findViewImgElement(nt);if(!It)return;const ai=It.findAncestor(H=>Q.isBlockImageView(H));if(He&&!ai)return;const bi=new _.Matcher(we._createPattern()).match(nt);if(!bi||!De.consumable.consume(nt,bi.match))return;const ht=ve.modelCursor.nodeBefore||ve.modelCursor.parent;De.writer.setAttribute(we.id,!0,ht)},{priority:"high"})}}class Ei extends f.Plugin{static get requires(){return[Ii,N,"ImageBlockEditing"]}static get pluginName(){return"LinkImageUI"}init(){const we=this.editor,He=we.editing.view.document;this.listenTo(He,"click",(Q,R)=>{this._isSelectedLinkedImage(we.model.document.selection)&&(R.preventDefault(),Q.stop())},{priority:"high"}),this._createToolbarLinkImageButton()}_createToolbarLinkImageButton(){const we=this.editor,He=we.t;we.ui.componentFactory.add("linkImage",Q=>{const R=new Vi.ButtonView(Q),Y=we.plugins.get("LinkUI"),ve=we.commands.get("link");return R.set({isEnabled:!0,label:He("Link image"),icon:F,keystroke:ui,tooltip:!0,isToggleable:!0}),R.bind("isEnabled").to(ve,"isEnabled"),R.bind("isOn").to(ve,"value",De=>!!De),this.listenTo(R,"execute",()=>{this._isSelectedLinkedImage(we.model.document.selection)?Y._addActionsView():Y._showUI(!0)}),R})}_isSelectedLinkedImage(we){const He=we.getSelectedElement();return this.editor.plugins.get("ImageUtils").isImage(He)&&He.hasAttribute("linkHref")}}var Bi=E(269),Li={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ni()(Bi.Z,Li),Bi.Z.locals;class Ui extends f.Plugin{static get requires(){return[ci,Ei]}static get pluginName(){return"LinkImage"}}})(),(window.CKEditor5=window.CKEditor5||{}).link=y})()},66665:()=>{(function(ti){const Kt=ti.en=ti.en||{};Kt.dictionary=Object.assign(Kt.dictionary||{},{"Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Circle:"Circle",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero",Disc:"Disc","List properties":"List properties","Lower-latin":"Lower-latin","Lower\u2013roman":"Lower\u2013roman","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Reversed order":"Reversed order",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.","To-do List":"To-do List","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower\u2013latin list style":"Toggle the lower\u2013latin list style","Toggle the lower\u2013roman list style":"Toggle the lower\u2013roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper\u2013latin list style":"Toggle the upper\u2013latin list style","Toggle the upper\u2013roman list style":"Toggle the upper\u2013roman list style","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var ti={389:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:0 var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}",""]);const a=_},78:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}",""]);const a=_},272:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}",""]);const a=_},543:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}",""]);const a=_},657:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}",""]);const a=_},250:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out,background .25s ease-in-out,border .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable .todo-list .todo-list__label>input{cursor:pointer}.ck-editor__editable .todo-list .todo-list__label>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}',""]);const a=_},609:m=>{"use strict";m.exports=function(E){var y=[];return y.toString=function(){return this.map(function(f){var _=E(f);return f[2]?"@media ".concat(f[2]," {").concat(_,"}"):_}).join("")},y.i=function(f,_,a){typeof f=="string"&&(f=[[null,f,""]]);var d={};if(a)for(var S=0;S<this.length;S++){var U=this[S][0];U!=null&&(d[U]=!0)}for(var I=0;I<f.length;I++){var C=[].concat(f[I]);a&&d[C[0]]||(_&&(C[2]?C[2]="".concat(_," and ").concat(C[2]):C[2]=_),y.push(C))}},y}},62:(m,E,y)=>{"use strict";var f,_=function(){return f===void 0&&(f=Boolean(window&&document&&document.all&&!window.atob)),f},a=function(){var h={};return function(g){if(h[g]===void 0){var r=document.querySelector(g);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch{r=null}h[g]=r}return h[g]}}(),d=[];function S(h){for(var g=-1,r=0;r<d.length;r++)if(d[r].identifier===h){g=r;break}return g}function U(h,g){for(var r={},u=[],w=0;w<h.length;w++){var v=h[w],T=g.base?v[0]+g.base:v[0],z=r[T]||0,L="".concat(T," ").concat(z);r[T]=z+1;var x=S(L),c={css:v[1],media:v[2],sourceMap:v[3]};x!==-1?(d[x].references++,d[x].updater(c)):d.push({identifier:L,updater:Z(c,g),references:1}),u.push(L)}return u}function I(h){var g=document.createElement("style"),r=h.attributes||{};if(r.nonce===void 0){var u=y.nc;u&&(r.nonce=u)}if(Object.keys(r).forEach(function(v){g.setAttribute(v,r[v])}),typeof h.insert=="function")h.insert(g);else{var w=a(h.insert||"head");if(!w)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");w.appendChild(g)}return g}var C,ge=(C=[],function(h,g){return C[h]=g,C.filter(Boolean).join(`
`)});function pe(h,g,r,u){var w=r?"":u.media?"@media ".concat(u.media," {").concat(u.css,"}"):u.css;if(h.styleSheet)h.styleSheet.cssText=ge(g,w);else{var v=document.createTextNode(w),T=h.childNodes;T[g]&&h.removeChild(T[g]),T.length?h.insertBefore(v,T[g]):h.appendChild(v)}}function me(h,g,r){var u=r.css,w=r.media,v=r.sourceMap;if(w?h.setAttribute("media",w):h.removeAttribute("media"),v&&typeof btoa<"u"&&(u+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(v))))," */")),h.styleSheet)h.styleSheet.cssText=u;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(u))}}var J=null,ee=0;function Z(h,g){var r,u,w;if(g.singleton){var v=ee++;r=J||(J=I(g)),u=pe.bind(null,r,v,!1),w=pe.bind(null,r,v,!0)}else r=I(g),u=me.bind(null,r,g),w=function(){(function(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T)})(r)};return u(h),function(T){if(T){if(T.css===h.css&&T.media===h.media&&T.sourceMap===h.sourceMap)return;u(h=T)}else w()}}m.exports=function(h,g){(g=g||{}).singleton||typeof g.singleton=="boolean"||(g.singleton=_());var r=U(h=h||[],g);return function(u){if(u=u||[],Object.prototype.toString.call(u)==="[object Array]"){for(var w=0;w<r.length;w++){var v=S(r[w]);d[v].references--}for(var T=U(u,g),z=0;z<r.length;z++){var L=S(r[z]);d[L].references===0&&(d[L].updater(),d.splice(L,1))}r=T}}}},704:(m,E,y)=>{m.exports=y(79)("./src/core.js")},492:(m,E,y)=>{m.exports=y(79)("./src/engine.js")},331:(m,E,y)=>{m.exports=y(79)("./src/enter.js")},181:(m,E,y)=>{m.exports=y(79)("./src/typing.js")},273:(m,E,y)=>{m.exports=y(79)("./src/ui.js")},209:(m,E,y)=>{m.exports=y(79)("./src/utils.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},Kt={};function re(m){var E=Kt[m];if(E!==void 0)return E.exports;var y=Kt[m]={id:m,exports:{}};return ti[m](y,y.exports,re),y.exports}re.n=m=>{var E=m&&m.__esModule?()=>m.default:()=>m;return re.d(E,{a:E}),E},re.d=(m,E)=>{for(var y in E)re.o(E,y)&&!re.o(m,y)&&Object.defineProperty(m,y,{enumerable:!0,get:E[y]})},re.o=(m,E)=>Object.prototype.hasOwnProperty.call(m,E),re.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},re.nc=void 0;var ii={};(()=>{"use strict";re.r(ii),re.d(ii,{DocumentList:()=>wi,DocumentListEditing:()=>Lt,DocumentListProperties:()=>Ge,DocumentListPropertiesEditing:()=>qi,DocumentListPropertiesUtils:()=>fi,DocumentListUtils:()=>W,List:()=>ht,ListEditing:()=>ai,ListProperties:()=>Wt,ListPropertiesEditing:()=>Ye,ListPropertiesUI:()=>st,ListUI:()=>ni,ListUtils:()=>Ei,TodoList:()=>Fn,TodoListEditing:()=>fn,TodoListUI:()=>Tn});var m=re(704),E=re(181),y=re(331),f=re(209);class _{constructor(j,te){this._startElement=j,this._referenceIndent=j.getAttribute("listIndent"),this._isForward=te.direction=="forward",this._includeSelf=!!te.includeSelf,this._sameAttributes=(0,f.toArray)(te.sameAttributes||[]),this._sameIndent=!!te.sameIndent,this._lowerIndent=!!te.lowerIndent,this._higherIndent=!!te.higherIndent}static first(j,te){const ue=new this(j,te)[Symbol.iterator]();return(0,f.first)(ue)}*[Symbol.iterator](){const j=[];for(const{node:te}of a(this._getStartNode(),this._isForward?"forward":"backward")){const ue=te.getAttribute("listIndent");if(ue<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=ue}else if(ue>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){j.push(te);continue}}else{if(!this._sameIndent){if(this._higherIndent){j.length&&(yield*j,j.length=0);break}continue}if(this._sameAttributes.some(Ee=>te.getAttribute(Ee)!==this._startElement.getAttribute(Ee)))break}j.length&&(yield*j,j.length=0),yield te}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*a(Be,j="forward"){const te=j=="forward";let ue=null;for(;U(Be);)yield{node:Be,previous:ue},ue=Be,Be=te?Be.nextSibling:Be.previousSibling}class d{constructor(j){this._listHead=j}[Symbol.iterator](){return a(this._listHead,"forward")}}class S{static next(){return(0,f.uid)()}}function U(Be){return!!Be&&Be.is("element")&&Be.hasAttribute("listItemId")}function I(Be,j={}){return[...C(Be,{...j,direction:"backward"}),...C(Be,{...j,direction:"forward"})]}function C(Be,j={}){const te=j.direction=="forward",ue=Array.from(new _(Be,{...j,includeSelf:te,sameIndent:!0,sameAttributes:"listItemId"}));return te?ue:ue.reverse()}function ge(Be){const j=new _(Be,{sameIndent:!0,sameAttributes:"listType"}),te=new _(Be,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"});return[...Array.from(j).reverse(),...te]}function pe(Be){return!_.first(Be,{sameIndent:!0,sameAttributes:"listItemId"})}function me(Be){return!_.first(Be,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function J(Be,j={}){Be=(0,f.toArray)(Be);const te=j.withNested!==!1,ue=new Set;for(const Ee of Be)for(const Re of I(Ee,{higherIndent:te}))ue.add(Re);return w(ue)}function ee(Be){Be=(0,f.toArray)(Be);const j=new Set;for(const te of Be)for(const ue of ge(te))j.add(ue);return w(j)}function Z(Be,j){const te=C(Be,{direction:"forward"}),ue=S.next();for(const Ee of te)j.setAttribute("listItemId",ue,Ee);return te}function h(Be,j,te){const ue={};for(const[Re,ze]of j.getAttributes())Re.startsWith("list")&&(ue[Re]=ze);const Ee=C(Be,{direction:"forward"});for(const Re of Ee)te.setAttributes(ue,Re);return Ee}function g(Be,j,{expand:te,indentBy:ue=1}={}){Be=(0,f.toArray)(Be);const Ee=te?J(Be):Be;for(const Re of Ee){const ze=Re.getAttribute("listIndent")+ue;ze<0?r(Re,j):j.setAttribute("listIndent",ze,Re)}return Ee}function r(Be,j){Be=(0,f.toArray)(Be);for(const te of Be)for(const ue of te.getAttributeKeys())ue.startsWith("list")&&j.removeAttribute(ue,te);return Be}function u(Be){if(!Be.length)return!1;const j=Be[0].getAttribute("listItemId");return!!j&&!Be.some(te=>te.getAttribute("listItemId")!=j)}function w(Be){return Array.from(Be).filter(j=>j.root.rootName!=="$graveyard").sort((j,te)=>j.index-te.index)}function v(Be){const j=Be.document.selection.getSelectedElement();return j&&Be.schema.isObject(j)&&Be.schema.isBlock(j)?j:null}function T(Be,j,te){return C(j,{direction:"forward"}).pop().index>Be.index?h(Be,j,te):[]}class z extends m.Command{constructor(j,te){super(j),this._direction=te}refresh(){this.isEnabled=this._checkEnabled()}execute(){const j=this.editor.model,te=L(j.document.selection);j.change(ue=>{const Ee=[];u(te)&&!pe(te[0])?(this._direction=="forward"&&Ee.push(...g(te,ue)),Ee.push(...Z(te[0],ue))):this._direction=="forward"?Ee.push(...g(te,ue,{expand:!0})):Ee.push(...function(Re,ze){const je=J(Re=(0,f.toArray)(Re)),Fe=new Set,at=Math.min(...je.map(ct=>ct.getAttribute("listIndent"))),mt=new Map;for(const ct of je)mt.set(ct,_.first(ct,{lowerIndent:!0}));for(const ct of je){if(Fe.has(ct))continue;Fe.add(ct);const wt=ct.getAttribute("listIndent")-1;if(wt<0)r(ct,ze);else{if(ct.getAttribute("listIndent")==at){const Ot=T(ct,mt.get(ct),ze);for(const Jt of Ot)Fe.add(Jt);if(Ot.length)continue}ze.setAttribute("listIndent",wt,ct)}}return w(Fe)}(te,ue));for(const Re of Ee){if(!Re.hasAttribute("listType"))continue;const ze=_.first(Re,{sameIndent:!0});ze&&ue.setAttribute("listType",ze.getAttribute("listType"),Re)}this._fireAfterExecute(Ee)})}_fireAfterExecute(j){this.fire("afterExecute",w(new Set(j)))}_checkEnabled(){let j=L(this.editor.model.document.selection),te=j[0];if(!te)return!1;if(this._direction=="backward"||u(j)&&!pe(j[0]))return!0;j=J(j),te=j[0];const ue=_.first(te,{sameIndent:!0});return!!ue&&ue.getAttribute("listType")==te.getAttribute("listType")}}function L(Be){const j=Array.from(Be.getSelectedBlocks()),te=j.findIndex(ue=>!U(ue));return te!=-1&&(j.length=te),j}class x extends m.Command{constructor(j,te){super(j),this.type=te}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(j={}){const te=this.editor.model,ue=te.document,Ee=v(te),Re=Array.from(ue.selection.getSelectedBlocks()).filter(je=>te.schema.checkAttribute(je,"listType")),ze=j.forceValue!==void 0?!j.forceValue:this.value;te.change(je=>{if(ze){const Fe=Re[Re.length-1],at=C(Fe,{direction:"forward"}),mt=[];at.length>1&&mt.push(...Z(at[1],je)),mt.push(...r(Re,je)),mt.push(...function(ct,wt){const Ot=[];let Jt=Number.POSITIVE_INFINITY;for(const{node:yt}of a(ct.nextSibling,"forward")){const oi=yt.getAttribute("listIndent");if(oi==0)break;oi<Jt&&(Jt=oi);const vi=oi-Jt;wt.setAttribute("listIndent",vi,yt),Ot.push(yt)}return Ot}(Fe,je)),this._fireAfterExecute(mt)}else if((Ee||ue.selection.isCollapsed)&&U(Re[0])){const Fe=ge(Ee||Re[0]);for(const at of Fe)je.setAttribute("listType",this.type,at);this._fireAfterExecute(Fe)}else{const Fe=[];for(const at of Re)if(at.hasAttribute("listType"))for(const mt of J(at,{withNested:!1}))mt.getAttribute("listType")!=this.type&&(je.setAttribute("listType",this.type,mt),Fe.push(mt));else je.setAttributes({listIndent:0,listItemId:S.next(),listType:this.type},at),Fe.push(at);this._fireAfterExecute(Fe)}})}_fireAfterExecute(j){this.fire("afterExecute",w(new Set(j)))}_getValue(){const j=this.editor.model.document.selection,te=Array.from(j.getSelectedBlocks());if(!te.length)return!1;for(const ue of te)if(ue.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const j=this.editor.model.document.selection,te=this.editor.model.schema,ue=Array.from(j.getSelectedBlocks());if(!ue.length)return!1;if(this.value)return!0;for(const Ee of ue)if(te.checkAttribute(Ee,"listType"))return!0;return!1}}class c extends m.Command{constructor(j,te){super(j),this._direction=te}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:j=!1}={}){const te=this.editor.model,ue=te.document.selection,Ee=[];te.change(Re=>{const{firstElement:ze,lastElement:je}=this._getMergeSubjectElements(ue,j),Fe=ze.getAttribute("listIndent")||0,at=je.getAttribute("listIndent"),mt=je.getAttribute("listItemId");if(Fe!=at){const wt=(ct=je,Array.from(new _(ct,{direction:"forward",higherIndent:!0})));Ee.push(...g([je,...wt],Re,{indentBy:Fe-at,expand:Fe<at}))}var ct;if(j){let wt=ue;ue.isCollapsed&&(wt=Re.createSelection(Re.createRange(Re.createPositionAt(ze,"end"),Re.createPositionAt(je,0)))),te.deleteContent(wt,{doNotResetEntireContent:ue.isCollapsed});const Ot=wt.getLastPosition().parent,Jt=Ot.nextSibling;Ee.push(Ot),Jt&&Jt!==je&&Jt.getAttribute("listItemId")==mt&&Ee.push(...h(Jt,Ot,Re))}else Ee.push(...h(je,ze,Re));this._fireAfterExecute(Ee)})}_fireAfterExecute(j){this.fire("afterExecute",w(new Set(j)))}_checkEnabled(){const j=this.editor.model,te=j.document.selection,ue=v(j);if(te.isCollapsed||ue){const Ee=ue||te.getFirstPosition().parent;if(!U(Ee))return!1;const Re=this._direction=="backward"?Ee.previousSibling:Ee.nextSibling;if(!Re||u([Ee,Re]))return!1}else{const Ee=te.getLastPosition(),Re=te.getFirstPosition();if(Ee.parent===Re.parent||!U(Ee.parent))return!1}return!0}_getMergeSubjectElements(j,te){const ue=v(this.editor.model);let Ee,Re;if(j.isCollapsed||ue){const ze=ue||j.getFirstPosition().parent,je=pe(ze);this._direction=="backward"?(Re=ze,Ee=je&&!te?_.first(ze,{sameIndent:!0,lowerIndent:!0}):ze.previousSibling):(Ee=ze,Re=ze.nextSibling)}else Ee=j.getFirstPosition().parent,Re=j.getLastPosition().parent;return{firstElement:Ee,lastElement:Re}}}class D extends m.Command{constructor(j,te){super(j),this._direction=te}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(j=>{const te=Z(this._getStartBlock(),j);this._fireAfterExecute(te)})}_fireAfterExecute(j){this.fire("afterExecute",w(new Set(j)))}_checkEnabled(){const j=this.editor.model.document.selection,te=this._getStartBlock();return j.isCollapsed&&U(te)&&!pe(te)}_getStartBlock(){const j=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?j:j.nextSibling}}class W extends m.Plugin{static get pluginName(){return"DocumentListUtils"}expandListBlocksToCompleteList(j){return ee(j)}isFirstBlockOfListItem(j){return pe(j)}isListItemBlock(j){return U(j)}}var q=re(492);function ae(Be){return Be.is("element","ol")||Be.is("element","ul")}function Ie(Be){return Be.is("element","li")}function Ve(Be){let j=0,te=Be.parent;for(;te;){if(Ie(te))j++;else{const ue=te.previousSibling;ue&&Ie(ue)&&j++}te=te.parent}return j}function _e(Be,j,te,ue=ut(te,j)){return Be.createAttributeElement(Qe(te),null,{priority:2*j/100-100,id:ue})}function Me(Be,j,te){return Be.createAttributeElement("li",null,{priority:(2*j+1)/100-100,id:te})}function Qe(Be){return Be=="numbered"?"ol":"ul"}function ut(Be,j){return`list-${Be}-${j}`}function rt(Be,j){const te=Be.nodeBefore;if(U(te)){let ue=te;for(const{node:Ee}of a(ue,"backward"))if(ue=Ee,j.has(ue))return;j.set(te,ue)}else{const ue=Be.nodeAfter;U(ue)&&j.set(ue,ue)}}function qe(){return(Be,j,te)=>{if(!te.consumable.test(j.viewItem,{name:!0}))return;const ue=new q.UpcastWriter(j.viewItem.document);for(const Ee of Array.from(j.viewItem.getChildren()))Ie(Ee)||ae(Ee)||ue.remove(Ee)}}function et(Be,j,te){const ue=function(Ee){return(Re,ze)=>{const je=[];for(const Fe of Ee)Re.hasAttribute(Fe)&&je.push(`attribute:${Fe}`);return!!je.every(Fe=>ze.test(Re,Fe)!==!1)&&(je.forEach(Fe=>ze.consume(Re,Fe)),!0)}}(Be);return(Ee,Re,ze)=>{const{writer:je,mapper:Fe,consumable:at}=ze,mt=Re.item;if(!Be.includes(Re.attributeKey)||!ue(mt,at))return;const ct=function(wt,Ot,Jt){const yt=Jt.createRangeOn(wt);return Ot.toViewRange(yt).getTrimmed().getContainedElement()}(mt,Fe,te);(function(wt,Ot){let Jt=wt.parent;for(;Jt.is("attributeElement")&&["ul","ol","li"].includes(Jt.name);){const yt=Jt.parent;Ot.unwrap(Ot.createRangeOn(wt),Jt),Jt=yt}})(ct,je),function(wt,Ot,Jt,yt){if(!wt.hasAttribute("listIndent"))return;const oi=wt.getAttribute("listIndent");let vi=wt;for(let ji=oi;ji>=0;ji--){const Wi=Me(yt,ji,vi.getAttribute("listItemId")),tn=_e(yt,ji,vi.getAttribute("listType"));for(const bn of Jt)vi.hasAttribute(bn.attributeName)&&bn.setAttributeOnDowncast(yt,vi.getAttribute(bn.attributeName),bn.scope=="list"?tn:Wi);if(Ot=yt.wrap(Ot,Wi),Ot=yt.wrap(Ot,tn),ji==0||(vi=_.first(vi,{lowerIndent:!0}),!vi))break}}(mt,je.createRangeOn(ct),j,je)}}function Bt(Be,{dataPipeline:j}={}){return(te,{writer:ue})=>{if(!Nt(te,Be))return null;if(!j)return ue.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const Ee=ue.createContainerElement("p");return ue.setCustomProperty("dataPipeline:transparentRendering",!0,Ee),Ee}}function Nt(Be,j,te=I(Be)){if(!U(Be))return!1;for(const ue of Be.getAttributeKeys())if(!ue.startsWith("selection:")&&!j.includes(ue))return!1;return te.length<2}var xt=re(62),tt=re.n(xt),Dt=re(78),ye={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};tt()(Dt.Z,ye),Dt.Z.locals;var Se=re(272),Ke={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};tt()(Se.Z,Ke),Se.Z.locals;const kt=["listType","listIndent","listItemId"];class Lt extends m.Plugin{constructor(){super(...arguments),this._downcastStrategies=[]}static get pluginName(){return"DocumentListEditing"}static get requires(){return[y.Enter,E.Delete,W]}init(){const j=this.editor,te=j.model;if(j.plugins.has("ListEditing"))throw new f.CKEditorError("document-list-feature-conflict",this,{conflictPlugin:"ListEditing"});te.schema.extend("$container",{allowAttributes:kt}),te.schema.extend("$block",{allowAttributes:kt}),te.schema.extend("$blockObject",{allowAttributes:kt});for(const ue of kt)te.schema.setAttributeProperties(ue,{copyOnReplace:!0});j.commands.add("numberedList",new x(j,"numbered")),j.commands.add("bulletedList",new x(j,"bulleted")),j.commands.add("indentList",new z(j,"forward")),j.commands.add("outdentList",new z(j,"backward")),j.commands.add("mergeListItemBackward",new c(j,"backward")),j.commands.add("mergeListItemForward",new c(j,"forward")),j.commands.add("splitListItemBefore",new D(j,"before")),j.commands.add("splitListItemAfter",new D(j,"after")),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration()}afterInit(){const j=this.editor.commands,te=j.get("indent"),ue=j.get("outdent");te&&te.registerChildCommand(j.get("indentList"),{priority:"high"}),ue&&ue.registerChildCommand(j.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(j){this._downcastStrategies.push(j)}_getListAttributeNames(){return[...kt,...this._downcastStrategies.map(j=>j.attributeName)]}_setupDeleteIntegration(){const j=this.editor,te=j.commands.get("mergeListItemBackward"),ue=j.commands.get("mergeListItemForward");this.listenTo(j.editing.view.document,"delete",(Ee,Re)=>{const ze=j.model.document.selection;v(j.model)||j.model.change(()=>{const je=ze.getFirstPosition();if(ze.isCollapsed&&Re.direction=="backward"){if(!je.isAtStart)return;const Fe=je.parent;if(!U(Fe))return;if(_.first(Fe,{sameAttributes:"listType",sameIndent:!0})||Fe.getAttribute("listIndent")!==0){if(!te.isEnabled)return;te.execute({shouldMergeOnBlocksContentLevel:Gt(j.model,"backward")})}else me(Fe)||j.execute("splitListItemAfter"),j.execute("outdentList");Re.preventDefault(),Ee.stop()}else{if(ze.isCollapsed&&!ze.getLastPosition().isAtEnd||!ue.isEnabled)return;ue.execute({shouldMergeOnBlocksContentLevel:Gt(j.model,"forward")}),Re.preventDefault(),Ee.stop()}})},{context:"li"})}_setupEnterIntegration(){const j=this.editor,te=j.model,ue=j.commands,Ee=ue.get("enter");this.listenTo(j.editing.view.document,"enter",(Re,ze)=>{const je=te.document,Fe=je.selection.getFirstPosition().parent;if(je.selection.isCollapsed&&U(Fe)&&Fe.isEmpty&&!ze.isSoft){const at=pe(Fe),mt=me(Fe);at&&mt?(j.execute("outdentList"),ze.preventDefault(),Re.stop()):at&&!mt?(j.execute("splitListItemAfter"),ze.preventDefault(),Re.stop()):mt&&(j.execute("splitListItemBefore"),ze.preventDefault(),Re.stop())}},{context:"li"}),this.listenTo(Ee,"afterExecute",()=>{const Re=ue.get("splitListItemBefore");Re.refresh(),Re.isEnabled&&I(j.model.document.selection.getLastPosition().parent).length===2&&Re.execute()})}_setupTabIntegration(){const j=this.editor;this.listenTo(j.editing.view.document,"tab",(te,ue)=>{const Ee=ue.shiftKey?"outdentList":"indentList";this.editor.commands.get(Ee).isEnabled&&(j.execute(Ee),ue.stopPropagation(),ue.preventDefault(),te.stop())},{context:"li"})}_setupConversion(){const j=this.editor,te=j.model,ue=this._getListAttributeNames();j.conversion.for("upcast").elementToElement({view:"li",model:"paragraph"}).add(Ee=>{Ee.on("element:li",(Re,ze,je)=>{const{writer:Fe,schema:at}=je;if(!ze.modelRange)return;const mt=Array.from(ze.modelRange.getItems({shallow:!0})).filter(wt=>at.checkAttribute(wt,"listItemId"));if(!mt.length)return;const ct={listItemId:S.next(),listIndent:Ve(ze.viewItem),listType:ze.viewItem.parent&&ze.viewItem.parent.is("element","ol")?"numbered":"bulleted"};for(const wt of mt)U(wt)||Fe.setAttributes(ct,wt);mt.length>1&&mt[1].getAttribute("listItemId")!=ct.listItemId&&je.keepEmptyElement(mt[0])}),Ee.on("element:ul",qe(),{priority:"high"}),Ee.on("element:ol",qe(),{priority:"high"})}),j.conversion.for("editingDowncast").elementToElement({model:"paragraph",view:Bt(ue),converterPriority:"high"}),j.conversion.for("dataDowncast").elementToElement({model:"paragraph",view:Bt(ue,{dataPipeline:!0}),converterPriority:"high"}),j.conversion.for("downcast").add(Ee=>{Ee.on("attribute",et(ue,this._downcastStrategies,te))}),this.listenTo(te.document,"change:data",function(Ee,Re,ze,je){return()=>{const ct=Ee.document.differ.getChanges(),wt=[],Ot=new Map,Jt=new Set;for(const yt of ct)if(yt.type=="insert"&&yt.name!="$text")rt(yt.position,Ot),yt.attributes.has("listItemId")?Jt.add(yt.position.nodeAfter):rt(yt.position.getShiftedBy(yt.length),Ot);else if(yt.type=="remove"&&yt.attributes.has("listItemId"))rt(yt.position,Ot);else if(yt.type=="attribute"){const oi=yt.range.start.nodeAfter;ze.includes(yt.attributeKey)?(rt(yt.range.start,Ot),yt.attributeNewValue===null?(rt(yt.range.start.getShiftedBy(1),Ot),at(oi)&&wt.push(oi)):Jt.add(oi)):U(oi)&&at(oi)&&wt.push(oi)}for(const yt of Ot.values())wt.push(...Fe(yt,Jt));for(const yt of new Set(wt))Re.reconvertItem(yt)};function Fe(ct,wt){const Ot=[],Jt=new Set,yt=[];for(const{node:oi,previous:vi}of a(ct,"forward")){if(Jt.has(oi))continue;const ji=oi.getAttribute("listIndent");vi&&ji<vi.getAttribute("listIndent")&&(yt.length=ji+1),yt[ji]=Object.fromEntries(Array.from(oi.getAttributes()).filter(([tn])=>ze.includes(tn)));const Wi=C(oi,{direction:"forward"});for(const tn of Wi)Jt.add(tn),(at(tn,Wi)||mt(tn,yt,wt))&&Ot.push(tn)}return Ot}function at(ct,wt){if(!ct.is("element","paragraph"))return!1;const Ot=Re.mapper.toViewElement(ct);if(!Ot)return!1;const Jt=Nt(ct,ze,wt);return!(!Jt||!Ot.is("element","p"))||!(Jt||!Ot.is("element","span"))}function mt(ct,wt,Ot){if(Ot.has(ct))return!1;const Jt=Re.mapper.toViewElement(ct);let yt=wt.length-1;for(let oi=Jt.parent;!oi.is("editableElement");oi=oi.parent){const vi=Ie(oi),ji=ae(oi);if(!ji&&!vi)continue;const Wi="checkAttributes:"+(vi?"item":"list");if(je.fire(Wi,{viewElement:oi,modelAttributes:wt[yt]}))break;if(ji&&(yt--,yt<0))return!1}return!0}}(te,j.editing,ue,this),{priority:"high"}),this.on("checkAttributes:item",(Ee,{viewElement:Re,modelAttributes:ze})=>{Re.id!=ze.listItemId&&(Ee.return=!0,Ee.stop())}),this.on("checkAttributes:list",(Ee,{viewElement:Re,modelAttributes:ze})=>{Re.name==Qe(ze.listType)&&Re.id==ut(ze.listType,ze.listIndent)||(Ee.return=!0,Ee.stop())})}_setupModelPostFixing(){const j=this.editor.model,te=this._getListAttributeNames();j.document.registerPostFixer(ue=>function(Ee,Re,ze,je){const Fe=Ee.document.differ.getChanges(),at=new Map;let mt=!1;for(const wt of Fe)if(wt.type=="insert"&&wt.name!="$text"){const Ot=wt.position.nodeAfter;if(!Ee.schema.checkAttribute(Ot,"listItemId"))for(const Jt of Array.from(Ot.getAttributeKeys()))ze.includes(Jt)&&(Re.removeAttribute(Jt,Ot),mt=!0);rt(wt.position,at),wt.attributes.has("listItemId")||rt(wt.position.getShiftedBy(wt.length),at);for(const{item:Jt,previousPosition:yt}of Ee.createRangeIn(Ot))U(Jt)&&rt(yt,at)}else wt.type=="remove"?rt(wt.position,at):wt.type=="attribute"&&ze.includes(wt.attributeKey)&&(rt(wt.range.start,at),wt.attributeNewValue===null&&rt(wt.range.start.getShiftedBy(1),at));const ct=new Set;for(const wt of at.values())mt=je.fire("postFixer",{listNodes:new d(wt),listHead:wt,writer:Re,seenIds:ct})||mt;return mt}(j,ue,te,this)),this.on("postFixer",(ue,{listNodes:Ee,writer:Re})=>{ue.return=function(ze,je){let Fe=0,at=-1,mt=null,ct=!1;for(const{node:wt}of ze){const Ot=wt.getAttribute("listIndent");if(Ot>Fe){let Jt;mt===null?(mt=Ot-Fe,Jt=Fe):(mt>Ot&&(mt=Ot),Jt=Ot-mt),Jt>at+1&&(Jt=at+1),je.setAttribute("listIndent",Jt,wt),ct=!0,at=Jt}else mt=null,Fe=Ot+1,at=Ot}return ct}(Ee,Re)||ue.return},{priority:"high"}),this.on("postFixer",(ue,{listNodes:Ee,writer:Re,seenIds:ze})=>{ue.return=function(je,Fe,at){const mt=new Set;let ct=!1;for(const{node:wt}of je){if(mt.has(wt))continue;let Ot=wt.getAttribute("listType"),Jt=wt.getAttribute("listItemId");Fe.has(Jt)&&(Jt=S.next()),Fe.add(Jt);for(const yt of C(wt,{direction:"forward"}))mt.add(yt),yt.getAttribute("listType")!=Ot&&(Jt=S.next(),Ot=yt.getAttribute("listType")),yt.getAttribute("listItemId")!=Jt&&(at.setAttribute("listItemId",Jt,yt),ct=!0)}return ct}(Ee,ze,Re)||ue.return},{priority:"high"})}_setupClipboardIntegration(){const j=this.editor.model;this.listenTo(j,"insertContent",function(te){return(ue,[Ee,Re])=>{const ze=Ee.is("documentFragment")?Ee.getChild(0):Ee;if(!U(ze))return;let je;je=Re?te.createSelection(Re):te.document.selection;const Fe=je.getFirstPosition();let at=null;if(U(Fe.parent)?at=Fe.parent:U(Fe.nodeBefore)&&(at=Fe.nodeBefore),!at)return;const mt=at.getAttribute("listIndent")-ze.getAttribute("listIndent");mt<=0||te.change(ct=>{for(const{node:wt}of a(ze,"forward"))ct.setAttribute("listIndent",wt.getAttribute("listIndent")+mt,wt)})}}(j),{priority:"high"}),this.listenTo(j,"getSelectedContent",(te,[ue])=>{u(Array.from(ue.getSelectedBlocks()))&&j.change(Ee=>r(Array.from(te.return.getChildren()),Ee))})}}function Gt(Be,j){const te=Be.document.selection;if(!te.isCollapsed)return!v(Be);if(j==="forward")return!0;const ue=te.getFirstPosition().parent,Ee=ue.previousSibling;return!Be.schema.isObject(Ee)&&(!!Ee.isEmpty||u([ue,Ee]))}var $t=re(273);function ft(Be,j){const te=j.mapper,ue=j.writer,Ee=Be.getAttribute("listType")=="numbered"?"ol":"ul",Re=function(je){const Fe=je.createContainerElement("li");return Fe.getFillerOffset=Et,Fe}(ue),ze=ue.createContainerElement(Ee,null);return ue.insert(ue.createPositionAt(ze,0),Re),te.bindElements(Be,Re),Re}function Yt(Be,j,te,ue){const Ee=j.parent,Re=te.mapper,ze=te.writer;let je=Re.toViewPosition(ue.createPositionBefore(Be));const Fe=ui(Be.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:Be.getAttribute("listIndent")}),at=Be.previousSibling;if(Fe&&Fe.getAttribute("listIndent")==Be.getAttribute("listIndent")){const mt=Re.toViewElement(Fe);je=ze.breakContainer(ze.createPositionAfter(mt))}else if(at&&at.name=="listItem"){je=Re.toViewPosition(ue.createPositionAt(at,"end"));const mt=Re.findMappedViewAncestor(je),ct=bt(mt);je=ct?ze.createPositionBefore(ct):ze.createPositionAt(mt,"end")}else je=Re.toViewPosition(ue.createPositionBefore(Be));if(je=ri(je),ze.insert(je,Ee),at&&at.name=="listItem"){const mt=Re.toViewElement(at),ct=ze.createRange(ze.createPositionAt(mt,0),je).getWalker({ignoreElementEnd:!0});for(const wt of ct)if(wt.item.is("element","li")){const Ot=ze.breakContainer(ze.createPositionBefore(wt.item)),Jt=wt.item.parent,yt=ze.createPositionAt(j,"end");_t(ze,yt.nodeBefore,yt.nodeAfter),ze.move(ze.createRangeOn(Jt),yt),ct.position=Ot}}else{const mt=Ee.nextSibling;if(mt&&(mt.is("element","ul")||mt.is("element","ol"))){let ct=null;for(const wt of mt.getChildren()){const Ot=Re.toModelElement(wt);if(!(Ot&&Ot.getAttribute("listIndent")>Be.getAttribute("listIndent")))break;ct=wt}ct&&(ze.breakContainer(ze.createPositionAfter(ct)),ze.move(ze.createRangeOn(ct.parent),ze.createPositionAt(j,"end")))}}_t(ze,Ee,Ee.nextSibling),_t(ze,Ee.previousSibling,Ee)}function _t(Be,j,te){return!j||!te||j.name!="ul"&&j.name!="ol"||j.name!=te.name||j.getAttribute("class")!==te.getAttribute("class")?null:Be.mergeContainers(Be.createPositionAfter(j))}function ri(Be){return Be.getLastMatchingPosition(j=>j.item.is("uiElement"))}function ui(Be,j){const te=!!j.sameIndent,ue=!!j.smallerIndent,Ee=j.listIndent;let Re=Be;for(;Re&&Re.name=="listItem";){const ze=Re.getAttribute("listIndent");if(te&&Ee==ze||ue&&Ee>ze)return Re;Re=j.direction==="forward"?Re.nextSibling:Re.previousSibling}return null}function Ai(Be,j,te,ue){Be.ui.componentFactory.add(j,Ee=>{const Re=Be.commands.get(j),ze=new $t.ButtonView(Ee);return ze.set({label:te,icon:ue,tooltip:!0,isToggleable:!0}),ze.bind("isOn","isEnabled").to(Re,"value","isEnabled"),ze.on("execute",()=>{Be.execute(j),Be.editing.view.focus()}),ze})}function bt(Be){for(const j of Be.getChildren())if(j.name=="ul"||j.name=="ol")return j;return null}function be(Be,j){const te=[],ue=Be.parent,Ee={ignoreElementEnd:!1,startPosition:Be,shallow:!0,direction:j},Re=ue.getAttribute("listIndent"),ze=[...new q.TreeWalker(Ee)].filter(je=>je.item.is("element")).map(je=>je.item);for(const je of ze){if(!je.is("element","listItem")||je.getAttribute("listIndent")<Re)break;if(!(je.getAttribute("listIndent")>Re)){if(je.getAttribute("listType")!==ue.getAttribute("listType")||je.getAttribute("listStyle")!==ue.getAttribute("listStyle")||je.getAttribute("listReversed")!==ue.getAttribute("listReversed")||je.getAttribute("listStart")!==ue.getAttribute("listStart"))break;j==="backward"?te.unshift(je):te.push(je)}}return te}function Ne(Be){let j=[...Be.document.selection.getSelectedBlocks()].filter(te=>te.is("element","listItem")).map(te=>{const ue=Be.change(Ee=>Ee.createPositionAt(te,0));return[...be(ue,"backward"),...be(ue,"forward")]}).flat();return j=[...new Set(j)],j}const $e=["disc","circle","square"],gt=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function Tt(Be){return $e.includes(Be)?"bulleted":gt.includes(Be)?"numbered":null}function Et(){const Be=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||Be?0:q.getFillerOffset.call(this)}const Xt='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',Ut='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';class ni extends m.Plugin{static get pluginName(){return"ListUI"}init(){const j=this.editor.t;Ai(this.editor,"numberedList",j("Numbered List"),Xt),Ai(this.editor,"bulletedList",j("Bulleted List"),Ut)}}class wi extends m.Plugin{static get requires(){return[Lt,ni]}static get pluginName(){return"DocumentList"}}class gi extends m.Command{refresh(){const j=this._getValue();this.value=j,this.isEnabled=j!=null}execute({startIndex:j=1}={}){const te=this.editor.model,ue=te.document;let Ee=Array.from(ue.selection.getSelectedBlocks()).filter(Re=>U(Re)&&Re.getAttribute("listType")=="numbered");Ee=ee(Ee),te.change(Re=>{for(const ze of Ee)Re.setAttribute("listStart",j>=0?j:1,ze)})}_getValue(){const j=this.editor.model.document,te=(0,f.first)(j.selection.getSelectedBlocks());return te&&U(te)&&te.getAttribute("listType")=="numbered"?te.getAttribute("listStart"):null}}const Ti={},Rt={},Ii={},Mi=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:Be,typeAttribute:j,listType:te}of Mi)Ti[Be]=te,Rt[Be]=j,j&&(Ii[j]=Be);function Qi(){return Mi.map(Be=>Be.listStyle)}function Fi(Be){return Ti[Be]||null}function Vi(Be){return Ii[Be]||null}function Ji(Be){return Rt[Be]||null}class cn extends m.Command{constructor(j,te,ue){super(j),this.defaultType=te,this._supportedTypes=ue}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(j={}){const te=this.editor.model,ue=te.document;te.change(Ee=>{this._tryToConvertItemsToList(j);let Re=Array.from(ue.selection.getSelectedBlocks()).filter(ze=>ze.hasAttribute("listType"));if(Re.length){Re=ee(Re);for(const ze of Re)Ee.setAttribute("listStyle",j.type||this.defaultType,ze)}})}isStyleTypeSupported(j){return!this._supportedTypes||this._supportedTypes.includes(j)}_getValue(){const j=(0,f.first)(this.editor.model.document.selection.getSelectedBlocks());return U(j)?j.getAttribute("listStyle"):null}_checkEnabled(){const j=this.editor,te=j.commands.get("numberedList"),ue=j.commands.get("bulletedList");return te.isEnabled||ue.isEnabled}_tryToConvertItemsToList(j){if(!j.type)return;const te=Fi(j.type);if(!te)return;const ue=this.editor,Ee=`${te}List`;ue.commands.get(Ee).value||ue.execute(Ee)}}class Ri extends m.Command{refresh(){const j=this._getValue();this.value=j,this.isEnabled=j!=null}execute(j={}){const te=this.editor.model,ue=te.document;let Ee=Array.from(ue.selection.getSelectedBlocks()).filter(Re=>U(Re)&&Re.getAttribute("listType")=="numbered");Ee=ee(Ee),te.change(Re=>{for(const ze of Ee)Re.setAttribute("listReversed",!!j.reversed,ze)})}_getValue(){const j=this.editor.model.document,te=(0,f.first)(j.selection.getSelectedBlocks());return U(te)&&te.getAttribute("listType")=="numbered"?te.getAttribute("listReversed"):null}}function pn(Be){return(j,te,ue)=>{const{writer:Ee,schema:Re,consumable:ze}=ue;if(ze.test(te.viewItem,Be.viewConsumables)===!1)return;te.modelRange||Object.assign(te,ue.convertChildren(te.viewItem,te.modelCursor));let je=!1;for(const Fe of te.modelRange.getItems({shallow:!0}))Re.checkAttribute(Fe,Be.attributeName)&&Be.appliesToListItem(Fe)&&(Fe.hasAttribute(Be.attributeName)||(Ee.setAttribute(Be.attributeName,Be.getAttributeOnUpcast(te.viewItem),Fe),je=!0));je&&ze.consume(te.viewItem,Be.viewConsumables)}}class fi extends m.Plugin{static get pluginName(){return"DocumentListPropertiesUtils"}getAllSupportedStyleTypes(){return Qi()}getListTypeFromListStyleType(j){return Fi(j)}getListStyleTypeFromTypeAttribute(j){return Vi(j)}getTypeAttributeFromListStyleType(j){return Ji(j)}}const pi="default";class qi extends m.Plugin{static get requires(){return[Lt,fi]}static get pluginName(){return"DocumentListPropertiesEditing"}constructor(j){super(j),j.config.define("list",{properties:{styles:!0,startIndex:!1,reversed:!1}})}init(){const j=this.editor,te=j.model,ue=j.plugins.get(Lt),Ee=function(Re){const ze=[];if(Re.styles){const je=typeof Re.styles=="object"&&Re.styles.useAttribute;ze.push({attributeName:"listStyle",defaultValue:pi,viewConsumables:{styles:"list-style-type"},addCommand(Fe){let at=Qi();je&&(at=at.filter(mt=>!!Ji(mt))),Fe.commands.add("listStyle",new cn(Fe,pi,at))},appliesToListItem:()=>!0,hasValidAttribute(Fe){if(!Fe.hasAttribute("listStyle"))return!1;const at=Fe.getAttribute("listStyle");return at==pi||Fi(at)==Fe.getAttribute("listType")},setAttributeOnDowncast(Fe,at,mt){if(at&&at!==pi){if(!je)return void Fe.setStyle("list-style-type",at,mt);{const ct=Ji(at);if(ct)return void Fe.setAttribute("type",ct,mt)}}Fe.removeStyle("list-style-type",mt),Fe.removeAttribute("type",mt)},getAttributeOnUpcast(Fe){const at=Fe.getStyle("list-style-type");if(at)return at;const mt=Fe.getAttribute("type");return mt?Vi(mt):pi}})}return Re.reversed&&ze.push({attributeName:"listReversed",defaultValue:!1,viewConsumables:{attributes:"reversed"},addCommand(je){je.commands.add("listReversed",new Ri(je))},appliesToListItem:je=>je.getAttribute("listType")=="numbered",hasValidAttribute(je){return this.appliesToListItem(je)==je.hasAttribute("listReversed")},setAttributeOnDowncast(je,Fe,at){Fe?je.setAttribute("reversed","reversed",at):je.removeAttribute("reversed",at)},getAttributeOnUpcast:je=>je.hasAttribute("reversed")}),Re.startIndex&&ze.push({attributeName:"listStart",defaultValue:1,viewConsumables:{attributes:"start"},addCommand(je){je.commands.add("listStart",new gi(je))},appliesToListItem:je=>je.getAttribute("listType")=="numbered",hasValidAttribute(je){return this.appliesToListItem(je)==je.hasAttribute("listStart")},setAttributeOnDowncast(je,Fe,at){Fe==0||Fe>1?je.setAttribute("start",Fe,at):je.removeAttribute("start",at)},getAttributeOnUpcast(je){const Fe=je.getAttribute("start");return Fe>=0?Fe:1}}),ze}(j.config.get("list.properties"));for(const Re of Ee)Re.addCommand(j),te.schema.extend("$container",{allowAttributes:Re.attributeName}),te.schema.extend("$block",{allowAttributes:Re.attributeName}),te.schema.extend("$blockObject",{allowAttributes:Re.attributeName}),ue.registerDowncastStrategy({scope:"list",attributeName:Re.attributeName,setAttributeOnDowncast(ze,je,Fe){Re.setAttributeOnDowncast(ze,je,Fe)}});j.conversion.for("upcast").add(Re=>{for(const ze of Ee)Re.on("element:ol",pn(ze)),Re.on("element:ul",pn(ze))}),ue.on("checkAttributes:list",(Re,{viewElement:ze,modelAttributes:je})=>{for(const Fe of Ee)Fe.getAttributeOnUpcast(ze)!=je[Fe.attributeName]&&(Re.return=!0,Re.stop())}),this.listenTo(j.commands.get("indentList"),"afterExecute",(Re,ze)=>{te.change(je=>{for(const Fe of ze)for(const at of Ee)at.appliesToListItem(Fe)&&je.setAttribute(at.attributeName,at.defaultValue,Fe)})}),ue.on("postFixer",(Re,{listNodes:ze,writer:je})=>{for(const{node:Fe}of ze)for(const at of Ee)at.hasValidAttribute(Fe)||(at.appliesToListItem(Fe)?je.setAttribute(at.attributeName,at.defaultValue,Fe):je.removeAttribute(at.attributeName,Fe),Re.return=!0)}),ue.on("postFixer",(Re,{listNodes:ze,writer:je})=>{const Fe=[];for(const{node:at,previous:mt}of ze){if(!mt)continue;const ct=at.getAttribute("listIndent"),wt=mt.getAttribute("listIndent");let Ot=null;if(ct>wt?Fe[wt]=mt:ct<wt?(Ot=Fe[ct],Fe.length=ct):Ot=mt,Ot&&Ot.getAttribute("listType")==at.getAttribute("listType"))for(const Jt of Ee){const{attributeName:yt}=Jt;if(!Jt.appliesToListItem(at))continue;const oi=Ot.getAttribute(yt);at.getAttribute(yt)!=oi&&(je.setAttribute(yt,oi,at),Re.return=!0)}}})}}var ke=re(389),V={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};tt()(ke.Z,V),ke.Z.locals;class F extends $t.View{constructor(j,te){super(j);const ue=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),te&&this.children.addMany(te),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",ue.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:ue.if("isCollapsed","hidden"),"aria-labelledby":ue.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}_createButtonView(){const j=new $t.ButtonView(this.locale),te=j.bindTemplate;return j.set({withText:!0,icon:'<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>'}),j.extendTemplate({attributes:{"aria-expanded":te.to("isOn",ue=>String(ue))}}),j.bind("label").to(this),j.bind("isOn").to(this,"isCollapsed",ue=>!ue),j.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),j}}var P=re(543),N={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};tt()(P.Z,N),P.Z.locals;class de extends $t.View{constructor(j,{enabledProperties:te,styleButtonViews:ue,styleGridAriaLabel:Ee}){super(j),this.stylesView=null,this.additionalPropertiesCollapsibleView=null,this.startIndexFieldView=null,this.reversedSwitchButtonView=null,this.focusTracker=new f.FocusTracker,this.keystrokes=new f.KeystrokeHandler,this.focusables=new $t.ViewCollection;const Re=["ck","ck-list-properties"];this.children=this.createCollection(),this.focusCycler=new $t.FocusCycler({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),te.styles?(this.stylesView=this._createStylesView(ue,Ee),this.children.add(this.stylesView)):Re.push("ck-list-properties_without-styles"),(te.startIndex||te.reversed)&&(this._addNumberedListPropertyViews(te),Re.push("ck-list-properties_with-numbered-properties")),this.setTemplate({tag:"div",attributes:{class:Re},children:this.children})}render(){if(super.render(),this.stylesView){this.focusables.add(this.stylesView),this.focusTracker.add(this.stylesView.element),(this.startIndexFieldView||this.reversedSwitchButtonView)&&(this.focusables.add(this.children.last.buttonView),this.focusTracker.add(this.children.last.buttonView.element));for(const j of this.stylesView.children)this.stylesView.focusTracker.add(j.element);(0,$t.addKeyboardHandlingForGrid)({keystrokeHandler:this.stylesView.keystrokes,focusTracker:this.stylesView.focusTracker,gridItems:this.stylesView.children,numberOfColumns:()=>f.global.window.getComputedStyle(this.stylesView.element).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}if(this.startIndexFieldView){this.focusables.add(this.startIndexFieldView),this.focusTracker.add(this.startIndexFieldView.element),this.listenTo(this.startIndexFieldView.element,"selectstart",(te,ue)=>{ue.stopPropagation()},{priority:"high"});const j=te=>te.stopPropagation();this.keystrokes.set("arrowright",j),this.keystrokes.set("arrowleft",j),this.keystrokes.set("arrowup",j),this.keystrokes.set("arrowdown",j)}this.reversedSwitchButtonView&&(this.focusables.add(this.reversedSwitchButtonView),this.focusTracker.add(this.reversedSwitchButtonView.element)),this.keystrokes.listenTo(this.element)}focus(){this.focusCycler.focusFirst()}focusLast(){this.focusCycler.focusLast()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createStylesView(j,te){const ue=new $t.View(this.locale);return ue.children=ue.createCollection(),ue.children.addMany(j),ue.setTemplate({tag:"div",attributes:{"aria-label":te,class:["ck","ck-list-styles-list"]},children:ue.children}),ue.children.delegate("execute").to(this),ue.focus=function(){this.children.first.focus()},ue.focusTracker=new f.FocusTracker,ue.keystrokes=new f.KeystrokeHandler,ue.render(),ue.keystrokes.listenTo(ue.element),ue}_addNumberedListPropertyViews(j){const te=this.locale.t,ue=[];j.startIndex&&(this.startIndexFieldView=this._createStartIndexField(),ue.push(this.startIndexFieldView)),j.reversed&&(this.reversedSwitchButtonView=this._createReversedSwitchButton(),ue.push(this.reversedSwitchButtonView)),j.styles?(this.additionalPropertiesCollapsibleView=new F(this.locale,ue),this.additionalPropertiesCollapsibleView.set({label:te("List properties"),isCollapsed:!0}),this.additionalPropertiesCollapsibleView.buttonView.bind("isEnabled").toMany(ue,"isEnabled",(...Ee)=>Ee.some(Re=>Re)),this.additionalPropertiesCollapsibleView.buttonView.on("change:isEnabled",(Ee,Re,ze)=>{ze||(this.additionalPropertiesCollapsibleView.isCollapsed=!0)}),this.children.add(this.additionalPropertiesCollapsibleView)):this.children.addMany(ue)}_createStartIndexField(){const j=this.locale.t,te=new $t.LabeledFieldView(this.locale,$t.createLabeledInputNumber);return te.set({label:j("Start at"),class:"ck-numbered-list-properties__start-index"}),te.fieldView.set({min:0,step:1,value:1,inputMode:"numeric"}),te.fieldView.on("input",()=>{const ue=te.fieldView.element,Ee=ue.valueAsNumber;Number.isNaN(Ee)||(ue.checkValidity()?this.fire("listStart",{startIndex:Ee}):te.errorText=j("Start index must be greater than 0."))}),te}_createReversedSwitchButton(){const j=this.locale.t,te=new $t.SwitchButtonView(this.locale);return te.set({withText:!0,label:j("Reversed order"),class:"ck-numbered-list-properties__reversed-order"}),te.delegate("execute").to(this,"listReversed"),te}}var Ce=re(657),Ze={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};tt()(Ce.Z,Ze),Ce.Z.locals;class st extends m.Plugin{static get pluginName(){return"ListPropertiesUI"}init(){const j=this.editor,te=j.locale.t,ue=j.config.get("list.properties");ue.styles&&j.ui.componentFactory.add("bulletedList",Ct({editor:j,parentCommandName:"bulletedList",buttonLabel:te("Bulleted List"),buttonIcon:Ut,styleGridAriaLabel:te("Bulleted list styles toolbar"),styleDefinitions:[{label:te("Toggle the disc list style"),tooltip:te("Disc"),type:"disc",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"/></svg>'},{label:te("Toggle the circle list style"),tooltip:te("Circle"),type:"circle",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/></svg>'},{label:te("Toggle the square list style"),tooltip:te("Square"),type:"square",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M14 27v6H8v-6h6zm0-9v6H8v-6h6zm0-9v6H8V9h6z"/></svg>'}]})),(ue.styles||ue.startIndex||ue.reversed)&&j.ui.componentFactory.add("numberedList",Ct({editor:j,parentCommandName:"numberedList",buttonLabel:te("Numbered List"),buttonIcon:Xt,styleGridAriaLabel:te("Numbered list styles toolbar"),styleDefinitions:[{label:te("Toggle the decimal list style"),tooltip:te("Decimal"),type:"decimal",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M10.29 15V8.531H9.286c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.343 0v-1.235h-1.235V15h1.235zM11.3 24v-1.147H8.848c.064-.111.148-.226.252-.343.104-.117.351-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.494-.824.104-.263.156-.539.156-.829 0-.51-.182-.936-.545-1.279-.363-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.153-.155.358-.233.616-.233.26 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.468.536-1.024 1.055-.692.641-1.155 1.156-1.389 1.544-.234.389-.375.8-.422 1.233H11.3zm2.333 0v-1.235h-1.235V24h1.235zM9.204 34.11c.615 0 1.129-.2 1.542-.598.413-.398.62-.88.62-1.446 0-.39-.11-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.619-.337.928-.788.928-1.353 0-.399-.151-.756-.453-1.073-.366-.386-.852-.58-1.459-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.668.55c-.16.232-.28.544-.358.933l1.138.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.215 0 .386.065.515.194s.193.302.193.518c0 .255-.087.46-.263.613-.176.154-.43.227-.765.218l-.136 1.006c.22-.061.409-.092.567-.092.24 0 .444.09.61.272.168.182.251.428.251.739 0 .328-.087.589-.261.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.307-.698l-1.196.145c.062.542.285.98.668 1.316.384.335.868.503 1.45.503zm4.43-.11v-1.235h-1.236V34h1.235z"/></svg>'},{label:te("Toggle the decimal with leading zero list style"),tooltip:te("Decimal with leading zero"),type:"decimal-leading-zero",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M5.714 15.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm6.078.914V8.531H10.79c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.344 0v-1.235h-1.235V15h1.235zm-9.422 9.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm7.088.914v-1.147H10.35c.065-.111.149-.226.253-.343.104-.117.35-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.493-.824.104-.263.156-.539.156-.829 0-.51-.181-.936-.544-1.279-.364-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.152-.155.357-.233.615-.233.261 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.467.536-1.024 1.055-.691.641-1.154 1.156-1.388 1.544-.235.389-.375.8-.422 1.233h4.328zm2.334 0v-1.235h-1.235V24h1.235zM5.714 34.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm4.992 1.024c.616 0 1.13-.2 1.543-.598.413-.398.62-.88.62-1.446 0-.39-.111-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.618-.337.927-.788.927-1.353 0-.399-.15-.756-.452-1.073-.366-.386-.853-.58-1.46-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.667.55c-.16.232-.28.544-.359.933l1.139.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.214 0 .386.065.515.194s.193.302.193.518c0 .255-.088.46-.264.613-.175.154-.43.227-.764.218l-.136 1.006c.22-.061.408-.092.566-.092.24 0 .444.09.611.272.167.182.25.428.25.739 0 .328-.086.589-.26.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.308-.698l-1.195.145c.062.542.284.98.668 1.316.384.335.867.503 1.45.503zm4.43-.11v-1.235h-1.235V34h1.235z"/></svg>'},{label:te("Toggle the lower\u2013roman list style"),tooltip:te("Lower\u2013roman"),type:"lower-roman",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.88 8.7V7.558h-1.234V8.7h1.234zm0 5.3V9.333h-1.234V14h1.234zm2.5 0v-1.235h-1.234V14h1.235zm-4.75 4.7v-1.142H8.395V18.7H9.63zm0 5.3v-4.667H8.395V24H9.63zm2.5-5.3v-1.142h-1.234V18.7h1.235zm0 5.3v-4.667h-1.234V24h1.235zm2.501 0v-1.235h-1.235V24h1.235zM7.38 28.7v-1.142H6.145V28.7H7.38zm0 5.3v-4.667H6.145V34H7.38zm2.5-5.3v-1.142H8.646V28.7H9.88zm0 5.3v-4.667H8.646V34H9.88zm2.5-5.3v-1.142h-1.234V28.7h1.235zm0 5.3v-4.667h-1.234V34h1.235zm2.501 0v-1.235h-1.235V34h1.235z"/></svg>'},{label:te("Toggle the upper\u2013roman list style"),tooltip:te("Upper-roman"),type:"upper-roman",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.916 15V8.558h-1.301V15h1.3zm2.465 0v-1.235h-1.235V15h1.235zM9.665 25v-6.442h-1.3V25h1.3zm2.5 0v-6.442h-1.3V25h1.3zm2.466 0v-1.235h-1.235V25h1.235zm-7.216 9v-6.442h-1.3V34h1.3zm2.5 0v-6.442h-1.3V34h1.3zm2.501 0v-6.442h-1.3V34h1.3zm2.465 0v-1.235h-1.235V34h1.235z"/></svg>'},{label:te("Toggle the lower\u2013latin list style"),tooltip:te("Lower-latin"),type:"lower-latin",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M9.62 14.105c.272 0 .528-.05.768-.153s.466-.257.677-.462c.009.024.023.072.044.145.047.161.086.283.119.365h1.221a2.649 2.649 0 0 1-.222-.626c-.04-.195-.059-.498-.059-.908l.013-1.441c0-.536-.055-.905-.165-1.105-.11-.201-.3-.367-.569-.497-.27-.13-.68-.195-1.23-.195-.607 0-1.064.108-1.371.325-.308.217-.525.55-.65 1.002l1.12.202c.076-.217.176-.369.299-.455.123-.086.294-.13.514-.13.325 0 .546.05.663.152.118.101.176.27.176.508v.123c-.222.093-.622.194-1.2.303-.427.082-.755.178-.982.288-.227.11-.403.268-.53.474a1.327 1.327 0 0 0-.188.706c0 .398.138.728.415.988.277.261.656.391 1.136.391zm.368-.87a.675.675 0 0 1-.492-.189.606.606 0 0 1-.193-.448c0-.176.08-.32.241-.435.106-.07.33-.142.673-.215a7.19 7.19 0 0 0 .751-.19v.247c0 .296-.016.496-.048.602a.773.773 0 0 1-.295.409 1.07 1.07 0 0 1-.637.22zm4.645.765v-1.235h-1.235V14h1.235zM10.2 25.105c.542 0 1.003-.215 1.382-.646.38-.43.57-1.044.57-1.84 0-.771-.187-1.362-.559-1.774a1.82 1.82 0 0 0-1.41-.617c-.522 0-.973.216-1.354.65v-2.32H7.594V25h1.147v-.686a1.9 1.9 0 0 0 .67.592c.26.133.523.2.79.2zm-.299-.975c-.354 0-.638-.164-.852-.492-.153-.232-.229-.59-.229-1.073 0-.468.098-.818.295-1.048a.93.93 0 0 1 .738-.345c.302 0 .55.118.743.354.193.236.29.62.29 1.154 0 .5-.096.868-.288 1.1-.192.233-.424.35-.697.35zm4.478.87v-1.235h-1.234V25h1.234zm-4.017 9.105c.6 0 1.08-.142 1.437-.426.357-.284.599-.704.725-1.261l-1.213-.207c-.061.326-.167.555-.316.688a.832.832 0 0 1-.576.2.916.916 0 0 1-.75-.343c-.185-.228-.278-.62-.278-1.173 0-.498.091-.853.274-1.066.183-.212.429-.318.736-.318.232 0 .42.061.565.184.145.123.238.306.28.55l1.216-.22c-.146-.501-.387-.874-.722-1.119-.336-.244-.788-.366-1.356-.366-.695 0-1.245.214-1.653.643-.407.43-.61 1.03-.61 1.8 0 .762.202 1.358.608 1.788.406.431.95.646 1.633.646zM14.633 34v-1.235h-1.235V34h1.235z"/></svg>'},{label:te("Toggle the upper\u2013latin list style"),tooltip:te("Upper-latin"),type:"upper-latin",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="m7.88 15 .532-1.463h2.575L11.549 15h1.415l-2.58-6.442H9.01L6.5 15h1.38zm2.69-2.549H8.811l.87-2.39.887 2.39zM14.88 15v-1.235h-1.234V15h1.234zM9.352 25c.83-.006 1.352-.02 1.569-.044.346-.038.636-.14.872-.305.236-.166.422-.387.558-.664.137-.277.205-.562.205-.855 0-.372-.106-.695-.317-.97-.21-.276-.512-.471-.905-.585a1.51 1.51 0 0 0 .661-.567 1.5 1.5 0 0 0 .244-.83c0-.28-.066-.53-.197-.754a1.654 1.654 0 0 0-.495-.539 1.676 1.676 0 0 0-.672-.266c-.25-.042-.63-.063-1.14-.063H7.158V25h2.193zm.142-3.88H8.46v-1.49h.747c.612 0 .983.007 1.112.022.217.026.38.102.49.226.11.125.165.287.165.486a.68.68 0 0 1-.192.503.86.86 0 0 1-.525.23 11.47 11.47 0 0 1-.944.023h.18zm.17 2.795H8.46v-1.723h1.05c.592 0 .977.03 1.154.092.177.062.313.16.406.295a.84.84 0 0 1 .14.492c0 .228-.06.41-.181.547a.806.806 0 0 1-.473.257c-.126.026-.423.04-.892.04zM14.88 25v-1.235h-1.234V25h1.234zm-5.018 9.11c.691 0 1.262-.17 1.711-.512.45-.341.772-.864.965-1.567l-1.261-.4c-.109.472-.287.818-.536 1.037-.25.22-.547.33-.892.33-.47 0-.85-.173-1.143-.519-.293-.345-.44-.925-.44-1.74 0-.767.15-1.322.447-1.665.297-.343.684-.514 1.162-.514.346 0 .64.096.881.29.242.193.4.457.477.79l1.288-.307c-.147-.516-.367-.911-.66-1.187-.492-.465-1.132-.698-1.92-.698-.902 0-1.63.296-2.184.89-.554.593-.83 1.426-.83 2.498 0 1.014.275 1.813.825 2.397.551.585 1.254.877 2.11.877zM14.88 34v-1.235h-1.234V34h1.234z"/></svg>'}]}))}}function Ct({editor:Be,parentCommandName:j,buttonLabel:te,buttonIcon:ue,styleGridAriaLabel:Ee,styleDefinitions:Re}){const ze=Be.commands.get(j);return je=>{const Fe=(0,$t.createDropdown)(je,$t.SplitButtonView),at=Fe.buttonView;return Fe.bind("isEnabled").to(ze),Fe.class="ck-list-styles-dropdown",at.on("execute",()=>{Be.execute(j),Be.editing.view.focus()}),at.set({label:te,icon:ue,tooltip:!0,isToggleable:!0}),at.bind("isOn").to(ze,"value",mt=>!!mt),Fe.once("change:isOpen",()=>{const mt=function({editor:ct,dropdownView:wt,parentCommandName:Ot,styleDefinitions:Jt,styleGridAriaLabel:yt}){const oi=ct.locale,vi=ct.config.get("list.properties");let ji=null;if(Ot!="numberedList"&&(vi.startIndex=!1,vi.reversed=!1),vi.styles){const tn=ct.commands.get("listStyle"),bn=function({editor:k,listStyleCommand:O,parentCommandName:he}){const Ae=k.locale,dt=k.commands.get(he);return({label:lt,type:ot,icon:Zt,tooltip:Pi})=>{const Ki=new $t.ButtonView(Ae);return Ki.set({label:lt,icon:Zt,tooltip:Pi}),O.on("change:value",()=>{Ki.isOn=O.value===ot}),Ki.on("execute",()=>{dt.value?O.value!==ot?k.execute("listStyle",{type:ot}):k.execute("listStyle",{type:O.defaultType}):k.model.change(()=>{k.execute("listStyle",{type:ot})})}),Ki}}({editor:ct,parentCommandName:Ot,listStyleCommand:tn}),Pe=typeof tn.isStyleTypeSupported=="function"?k=>tn.isStyleTypeSupported(k.type):()=>!0;ji=Jt.filter(Pe).map(bn)}const Wi=new de(oi,{styleGridAriaLabel:yt,enabledProperties:vi,styleButtonViews:ji});if(vi.styles&&(0,$t.focusChildOnDropdownOpen)(wt,()=>Wi.stylesView.children.find(tn=>tn.isOn)),vi.startIndex){const tn=ct.commands.get("listStart");Wi.startIndexFieldView.bind("isEnabled").to(tn),Wi.startIndexFieldView.fieldView.bind("value").to(tn),Wi.on("listStart",(bn,Pe)=>ct.execute("listStart",Pe))}if(vi.reversed){const tn=ct.commands.get("listReversed");Wi.reversedSwitchButtonView.bind("isEnabled").to(tn),Wi.reversedSwitchButtonView.bind("isOn").to(tn,"value",bn=>!!bn),Wi.on("listReversed",()=>{const bn=tn.value;ct.execute("listReversed",{reversed:!bn})})}return Wi.delegate("execute").to(wt),Wi}({editor:Be,dropdownView:Fe,parentCommandName:j,styleGridAriaLabel:Ee,styleDefinitions:Re});Fe.panelView.children.add(mt)}),Fe.on("execute",()=>{Be.editing.view.focus()}),Fe}}class Ge extends m.Plugin{static get requires(){return[qi,st]}static get pluginName(){return"DocumentListProperties"}}class Ft extends m.Command{constructor(j,te){super(j),this.type=te}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(j={}){const te=this.editor.model,ue=te.document,Ee=Array.from(ue.selection.getSelectedBlocks()).filter(ze=>yi(ze,te.schema)),Re=j.forceValue!==void 0?!j.forceValue:this.value;te.change(ze=>{if(Re){let je=Ee[Ee.length-1].nextSibling,Fe=Number.POSITIVE_INFINITY,at=[];for(;je&&je.name=="listItem"&&je.getAttribute("listIndent")!==0;){const mt=je.getAttribute("listIndent");mt<Fe&&(Fe=mt);const ct=mt-Fe;at.push({element:je,listIndent:ct}),je=je.nextSibling}at=at.reverse();for(const mt of at)ze.setAttribute("listIndent",mt.listIndent,mt.element)}if(!Re){let je=Number.POSITIVE_INFINITY;for(const Fe of Ee)Fe.is("element","listItem")&&Fe.getAttribute("listIndent")<je&&(je=Fe.getAttribute("listIndent"));je=je===0?1:je,ci(Ee,!0,je),ci(Ee,!1,je)}for(const je of Ee.reverse())Re&&je.name=="listItem"?ze.rename(je,"paragraph"):Re||je.name=="listItem"?Re||je.name!="listItem"||je.getAttribute("listType")==this.type||ze.setAttribute("listType",this.type,je):(ze.setAttributes({listType:this.type,listIndent:0},je),ze.rename(je,"listItem"));this.fire("_executeCleanup",Ee)})}_getValue(){const j=(0,f.first)(this.editor.model.document.selection.getSelectedBlocks());return!!j&&j.is("element","listItem")&&j.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const j=this.editor.model.document.selection,te=this.editor.model.schema,ue=(0,f.first)(j.getSelectedBlocks());return!!ue&&yi(ue,te)}}function ci(Be,j,te){const ue=j?Be[0]:Be[Be.length-1];if(ue.is("element","listItem")){let Ee=ue[j?"previousSibling":"nextSibling"],Re=ue.getAttribute("listIndent");for(;Ee&&Ee.is("element","listItem")&&Ee.getAttribute("listIndent")>=te;)Re>Ee.getAttribute("listIndent")&&(Re=Ee.getAttribute("listIndent")),Ee.getAttribute("listIndent")==Re&&Be[j?"unshift":"push"](Ee),Ee=Ee[j?"previousSibling":"nextSibling"]}}function yi(Be,j){return j.checkChild(Be.parent,"listItem")&&!j.isObject(Be)}class Oi extends m.Command{constructor(j,te){super(j),this._indentBy=te=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const j=this.editor.model,te=j.document;let ue=Array.from(te.selection.getSelectedBlocks());j.change(Ee=>{const Re=ue[ue.length-1];let ze=Re.nextSibling;for(;ze&&ze.name=="listItem"&&ze.getAttribute("listIndent")>Re.getAttribute("listIndent");)ue.push(ze),ze=ze.nextSibling;this._indentBy<0&&(ue=ue.reverse());for(const je of ue){const Fe=je.getAttribute("listIndent")+this._indentBy;Fe<0?Ee.rename(je,"paragraph"):Ee.setAttribute("listIndent",Fe,je)}this.fire("_executeCleanup",ue)})}_checkEnabled(){const j=(0,f.first)(this.editor.model.document.selection.getSelectedBlocks());if(!j||!j.is("element","listItem"))return!1;if(this._indentBy>0){const te=j.getAttribute("listIndent"),ue=j.getAttribute("listType");let Ee=j.previousSibling;for(;Ee&&Ee.is("element","listItem")&&Ee.getAttribute("listIndent")>=te;){if(Ee.getAttribute("listIndent")==te)return Ee.getAttribute("listType")==ue;Ee=Ee.previousSibling}return!1}return!0}}class Ei extends m.Plugin{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(j){return Tt(j)}getSelectedListItems(j){return Ne(j)}getSiblingNodes(j,te){return be(j,te)}}function Bi(Be){return(j,te,ue)=>{const Ee=ue.consumable;if(!Ee.test(te.item,"insert")||!Ee.test(te.item,"attribute:listType")||!Ee.test(te.item,"attribute:listIndent"))return;Ee.consume(te.item,"insert"),Ee.consume(te.item,"attribute:listType"),Ee.consume(te.item,"attribute:listIndent");const Re=te.item;Yt(Re,ft(Re,ue),ue,Be)}}const Li=(Be,j,te)=>{if(!te.consumable.test(j.item,Be.name))return;const ue=te.mapper.toViewElement(j.item),Ee=te.writer;Ee.breakContainer(Ee.createPositionBefore(ue)),Ee.breakContainer(Ee.createPositionAfter(ue));const Re=ue.parent,ze=j.attributeNewValue=="numbered"?"ol":"ul";Ee.rename(ze,Re)},Ui=(Be,j,te)=>{te.consumable.consume(j.item,Be.name);const ue=te.mapper.toViewElement(j.item).parent,Ee=te.writer;_t(Ee,ue,ue.nextSibling),_t(Ee,ue.previousSibling,ue)},Ht=(Be,j,te)=>{if(te.consumable.test(j.item,Be.name)&&j.item.name!="listItem"){let ue=te.mapper.toViewPosition(j.range.start);const Ee=te.writer,Re=[];for(;(ue.parent.name=="ul"||ue.parent.name=="ol")&&(ue=Ee.breakContainer(ue),ue.parent.name=="li");){const ze=ue,je=Ee.createPositionAt(ue.parent,"end");if(!ze.isEqual(je)){const Fe=Ee.remove(Ee.createRange(ze,je));Re.push(Fe)}ue=Ee.createPositionAfter(ue.parent)}if(Re.length>0){for(let ze=0;ze<Re.length;ze++){const je=ue.nodeBefore;if(ue=Ee.insert(ue,Re[ze]).end,ze>0){const Fe=_t(Ee,je,je.nextSibling);Fe&&Fe.parent==je&&ue.offset--}}_t(Ee,ue.nodeBefore,ue.nodeAfter)}}},we=(Be,j,te)=>{const ue=te.mapper.toViewPosition(j.position),Ee=ue.nodeBefore,Re=ue.nodeAfter;_t(te.writer,Ee,Re)},He=(Be,j,te)=>{if(te.consumable.consume(j.viewItem,{name:!0})){const ue=te.writer,Ee=ue.createElement("listItem"),Re=function(Fe){let at=0,mt=Fe.parent;for(;mt;){if(mt.is("element","li"))at++;else{const ct=mt.previousSibling;ct&&ct.is("element","li")&&at++}mt=mt.parent}return at}(j.viewItem);ue.setAttribute("listIndent",Re,Ee);const ze=j.viewItem.parent&&j.viewItem.parent.name=="ol"?"numbered":"bulleted";if(ue.setAttribute("listType",ze,Ee),!te.safeInsert(Ee,j.modelCursor))return;const je=function(Fe,at,mt){const{writer:ct,schema:wt}=mt;let Ot=ct.createPositionAfter(Fe);for(const Jt of at)if(Jt.name=="ul"||Jt.name=="ol")Ot=mt.convertItem(Jt,Ot).modelCursor;else{const yt=mt.convertItem(Jt,ct.createPositionAt(Fe,"end")),oi=yt.modelRange.start.nodeAfter;oi&&oi.is("element")&&!wt.checkChild(Fe,oi.name)&&(Fe=yt.modelCursor.parent.is("element","listItem")?yt.modelCursor.parent:De(yt.modelCursor),Ot=ct.createPositionAfter(Fe))}return Ot}(Ee,j.viewItem.getChildren(),te);j.modelRange=ue.createRange(j.modelCursor,je),te.updateConversionResult(Ee,j)}},Q=(Be,j,te)=>{if(te.consumable.test(j.viewItem,{name:!0})){const ue=Array.from(j.viewItem.getChildren());for(const Ee of ue)!(Ee.is("element","li")||It(Ee))&&Ee._remove()}},R=(Be,j,te)=>{if(te.consumable.test(j.viewItem,{name:!0})){if(j.viewItem.childCount===0)return;const ue=[...j.viewItem.getChildren()];let Ee=!1;for(const Re of ue)Ee&&!It(Re)&&Re._remove(),It(Re)&&(Ee=!0)}};function Y(Be){return(j,te)=>{if(te.isPhantom)return;const ue=te.modelPosition.nodeBefore;if(ue&&ue.is("element","listItem")){const Ee=te.mapper.toViewElement(ue),Re=Ee.getAncestors().find(It),ze=Be.createPositionAt(Ee,0).getWalker();for(const je of ze){if(je.type=="elementStart"&&je.item.is("element","li")){te.viewPosition=je.previousPosition;break}if(je.type=="elementEnd"&&je.item==Re){te.viewPosition=je.nextPosition;break}}}}}const ve=function(Be,[j,te,ue]){const Ee=this;let Re,ze=j.is("documentFragment")?j.getChild(0):j;if(Re=te?Ee.createSelection(te,ue):Ee.document.selection,ze&&ze.is("element","listItem")){const je=Re.getFirstPosition();let Fe=null;if(je.parent.is("element","listItem")?Fe=je.parent:je.nodeBefore&&je.nodeBefore.is("element","listItem")&&(Fe=je.nodeBefore),Fe){const at=Fe.getAttribute("listIndent");if(at>0)for(;ze&&ze.is("element","listItem");)ze._setAttribute("listIndent",ze.getAttribute("listIndent")+at),ze=ze.nextSibling}}};function De(Be){const j=new q.TreeWalker({startPosition:Be});let te;do te=j.next();while(!te.value.item.is("element","listItem"));return te.value.item}function nt(Be,j,te,ue,Ee,Re){const ze=ui(j.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:Be}),je=Ee.mapper,Fe=Ee.writer,at=ze?ze.getAttribute("listIndent"):null;let mt;if(ze)if(at==Be){const ct=je.toViewElement(ze).parent;mt=Fe.createPositionAfter(ct)}else{const ct=Re.createPositionAt(ze,"end");mt=je.toViewPosition(ct)}else mt=te;mt=ri(mt);for(const ct of[...ue.getChildren()])It(ct)&&(mt=Fe.move(Fe.createRangeOn(ct),mt).end,_t(Fe,ct,ct.nextSibling),_t(Fe,ct.previousSibling,ct))}function It(Be){return Be.is("element","ol")||Be.is("element","ul")}class ai extends m.Plugin{static get pluginName(){return"ListEditing"}static get requires(){return[y.Enter,E.Delete,Ei]}init(){const j=this.editor;j.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const te=j.data,ue=j.editing;var Ee;j.model.document.registerPostFixer(ze=>function(je,Fe){const at=je.document.differ.getChanges(),mt=new Map;let ct=!1;for(const yt of at)if(yt.type=="insert"&&yt.name=="listItem")wt(yt.position);else if(yt.type=="insert"&&yt.name!="listItem"){if(yt.name!="$text"){const oi=yt.position.nodeAfter;oi.hasAttribute("listIndent")&&(Fe.removeAttribute("listIndent",oi),ct=!0),oi.hasAttribute("listType")&&(Fe.removeAttribute("listType",oi),ct=!0),oi.hasAttribute("listStyle")&&(Fe.removeAttribute("listStyle",oi),ct=!0),oi.hasAttribute("listReversed")&&(Fe.removeAttribute("listReversed",oi),ct=!0),oi.hasAttribute("listStart")&&(Fe.removeAttribute("listStart",oi),ct=!0);for(const vi of Array.from(je.createRangeIn(oi)).filter(ji=>ji.item.is("element","listItem")))wt(vi.previousPosition)}wt(yt.position.getShiftedBy(yt.length))}else yt.type=="remove"&&yt.name=="listItem"?wt(yt.position):(yt.type=="attribute"&&yt.attributeKey=="listIndent"||yt.type=="attribute"&&yt.attributeKey=="listType")&&wt(yt.range.start);for(const yt of mt.values())Ot(yt),Jt(yt);return ct;function wt(yt){const oi=yt.nodeBefore;if(oi&&oi.is("element","listItem")){let vi=oi;if(mt.has(vi))return;for(let ji=vi.previousSibling;ji&&ji.is("element","listItem");ji=vi.previousSibling)if(vi=ji,mt.has(vi))return;mt.set(oi,vi)}else{const vi=yt.nodeAfter;vi&&vi.is("element","listItem")&&mt.set(vi,vi)}}function Ot(yt){let oi=0,vi=null;for(;yt&&yt.is("element","listItem");){const ji=yt.getAttribute("listIndent");if(ji>oi){let Wi;vi===null?(vi=ji-oi,Wi=oi):(vi>ji&&(vi=ji),Wi=ji-vi),Fe.setAttribute("listIndent",Wi,yt),ct=!0}else vi=null,oi=yt.getAttribute("listIndent")+1;yt=yt.nextSibling}}function Jt(yt){let oi=[],vi=null;for(;yt&&yt.is("element","listItem");){const ji=yt.getAttribute("listIndent");if(vi&&vi.getAttribute("listIndent")>ji&&(oi=oi.slice(0,ji+1)),ji!=0)if(oi[ji]){const Wi=oi[ji];yt.getAttribute("listType")!=Wi&&(Fe.setAttribute("listType",Wi,yt),ct=!0)}else oi[ji]=yt.getAttribute("listType");vi=yt,yt=yt.nextSibling}}}(j.model,ze)),ue.mapper.registerViewToModelLength("li",bi),te.mapper.registerViewToModelLength("li",bi),ue.mapper.on("modelToViewPosition",Y(ue.view)),ue.mapper.on("viewToModelPosition",(Ee=j.model,(ze,je)=>{const Fe=je.viewPosition,at=Fe.parent,mt=je.mapper;if(at.name=="ul"||at.name=="ol"){if(Fe.isAtEnd){const ct=mt.toModelElement(Fe.nodeBefore),wt=mt.getModelLength(Fe.nodeBefore);je.modelPosition=Ee.createPositionBefore(ct).getShiftedBy(wt)}else{const ct=mt.toModelElement(Fe.nodeAfter);je.modelPosition=Ee.createPositionBefore(ct)}ze.stop()}else if(at.name=="li"&&Fe.nodeBefore&&(Fe.nodeBefore.name=="ul"||Fe.nodeBefore.name=="ol")){const ct=mt.toModelElement(at);let wt=1,Ot=Fe.nodeBefore;for(;Ot&&It(Ot);)wt+=mt.getModelLength(Ot),Ot=Ot.previousSibling;je.modelPosition=Ee.createPositionBefore(ct).getShiftedBy(wt),ze.stop()}})),te.mapper.on("modelToViewPosition",Y(ue.view)),j.conversion.for("editingDowncast").add(ze=>{ze.on("insert",Ht,{priority:"high"}),ze.on("insert:listItem",Bi(j.model)),ze.on("attribute:listType:listItem",Li,{priority:"high"}),ze.on("attribute:listType:listItem",Ui,{priority:"low"}),ze.on("attribute:listIndent:listItem",function(je){return(Fe,at,mt)=>{if(!mt.consumable.consume(at.item,"attribute:listIndent"))return;const ct=mt.mapper.toViewElement(at.item),wt=mt.writer;wt.breakContainer(wt.createPositionBefore(ct)),wt.breakContainer(wt.createPositionAfter(ct));const Ot=ct.parent,Jt=Ot.previousSibling,yt=wt.createRangeOn(Ot);wt.remove(yt),Jt&&Jt.nextSibling&&_t(wt,Jt,Jt.nextSibling),nt(at.attributeOldValue+1,at.range.start,yt.start,ct,mt,je),Yt(at.item,ct,mt,je);for(const oi of at.item.getChildren())mt.consumable.consume(oi,"insert")}}(j.model)),ze.on("remove:listItem",function(je){return(Fe,at,mt)=>{const ct=mt.mapper.toViewPosition(at.position).getLastMatchingPosition(vi=>!vi.item.is("element","li")).nodeAfter,wt=mt.writer;wt.breakContainer(wt.createPositionBefore(ct)),wt.breakContainer(wt.createPositionAfter(ct));const Ot=ct.parent,Jt=Ot.previousSibling,yt=wt.createRangeOn(Ot),oi=wt.remove(yt);Jt&&Jt.nextSibling&&_t(wt,Jt,Jt.nextSibling),nt(mt.mapper.toModelElement(ct).getAttribute("listIndent")+1,at.position,yt.start,ct,mt,je);for(const vi of wt.createRangeIn(oi).getItems())mt.mapper.unbindViewElement(vi);Fe.stop()}}(j.model)),ze.on("remove",we,{priority:"low"})}),j.conversion.for("dataDowncast").add(ze=>{ze.on("insert",Ht,{priority:"high"}),ze.on("insert:listItem",Bi(j.model))}),j.conversion.for("upcast").add(ze=>{ze.on("element:ul",Q,{priority:"high"}),ze.on("element:ol",Q,{priority:"high"}),ze.on("element:li",R,{priority:"high"}),ze.on("element:li",He)}),j.model.on("insertContent",ve,{priority:"high"}),j.commands.add("numberedList",new Ft(j,"numbered")),j.commands.add("bulletedList",new Ft(j,"bulleted")),j.commands.add("indentList",new Oi(j,"forward")),j.commands.add("outdentList",new Oi(j,"backward"));const Re=ue.view.document;this.listenTo(Re,"enter",(ze,je)=>{const Fe=this.editor.model.document,at=Fe.selection.getLastPosition().parent;Fe.selection.isCollapsed&&at.name=="listItem"&&at.isEmpty&&(this.editor.execute("outdentList"),je.preventDefault(),ze.stop())},{context:"li"}),this.listenTo(Re,"delete",(ze,je)=>{if(je.direction!=="backward")return;const Fe=this.editor.model.document.selection;if(!Fe.isCollapsed)return;const at=Fe.getFirstPosition();if(!at.isAtStart)return;const mt=at.parent;mt.name==="listItem"&&(mt.previousSibling&&mt.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),je.preventDefault(),ze.stop()))},{context:"li"}),this.listenTo(j.editing.view.document,"tab",(ze,je)=>{const Fe=je.shiftKey?"outdentList":"indentList";this.editor.commands.get(Fe).isEnabled&&(j.execute(Fe),je.stopPropagation(),je.preventDefault(),ze.stop())},{context:"li"})}afterInit(){const j=this.editor.commands,te=j.get("indent"),ue=j.get("outdent");te&&te.registerChildCommand(j.get("indentList")),ue&&ue.registerChildCommand(j.get("outdentList"))}}function bi(Be){let j=1;for(const te of Be.getChildren())if(te.name=="ul"||te.name=="ol")for(const ue of te.getChildren())j+=bi(ue);return j}class ht extends m.Plugin{static get requires(){return[ai,ni]}static get pluginName(){return"List"}}class H extends m.Command{constructor(j,te){super(j),this.defaultType=te}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(j={}){this._tryToConvertItemsToList(j);const te=this.editor.model,ue=Ne(te);ue.length&&te.change(Ee=>{for(const Re of ue)Ee.setAttribute("listStyle",j.type||this.defaultType,Re)})}_getValue(){const j=this.editor.model.document.selection.getFirstPosition().parent;return j&&j.is("element","listItem")?j.getAttribute("listStyle"):null}_checkEnabled(){const j=this.editor,te=j.commands.get("numberedList"),ue=j.commands.get("bulletedList");return te.isEnabled||ue.isEnabled}_tryToConvertItemsToList(j){if(!j.type)return;const te=Tt(j.type);if(!te)return;const ue=this.editor,Ee=`${te}List`;ue.commands.get(Ee).value||ue.execute(Ee)}}class se extends m.Command{refresh(){const j=this._getValue();this.value=j,this.isEnabled=j!=null}execute(j={}){const te=this.editor.model,ue=Ne(te).filter(Ee=>Ee.getAttribute("listType")=="numbered");te.change(Ee=>{for(const Re of ue)Ee.setAttribute("listReversed",!!j.reversed,Re)})}_getValue(){const j=this.editor.model.document.selection.getFirstPosition().parent;return j&&j.is("element","listItem")&&j.getAttribute("listType")=="numbered"?j.getAttribute("listReversed"):null}}class Te extends m.Command{refresh(){const j=this._getValue();this.value=j,this.isEnabled=j!=null}execute({startIndex:j=1}={}){const te=this.editor.model,ue=Ne(te).filter(Ee=>Ee.getAttribute("listType")=="numbered");te.change(Ee=>{for(const Re of ue)Ee.setAttribute("listStart",j>=0?j:1,Re)})}_getValue(){const j=this.editor.model.document.selection.getFirstPosition().parent;return j&&j.is("element","listItem")&&j.getAttribute("listType")=="numbered"?j.getAttribute("listStart"):null}}const Le="default";class Ye extends m.Plugin{static get requires(){return[ai]}static get pluginName(){return"ListPropertiesEditing"}constructor(j){super(j),j.config.define("list",{properties:{styles:!0,startIndex:!1,reversed:!1}})}init(){const j=this.editor,te=j.model,ue=function(Re){const ze=[];return Re.styles&&ze.push({attributeName:"listStyle",defaultValue:Le,addCommand(je){je.commands.add("listStyle",new H(je,Le))},appliesToListItem:()=>!0,setAttributeOnDowncast(je,Fe,at){Fe&&Fe!==Le?je.setStyle("list-style-type",Fe,at):je.removeStyle("list-style-type",at)},getAttributeOnUpcast:je=>je.getStyle("list-style-type")||Le}),Re.reversed&&ze.push({attributeName:"listReversed",defaultValue:!1,addCommand(je){je.commands.add("listReversed",new se(je))},appliesToListItem:je=>je.getAttribute("listType")=="numbered",setAttributeOnDowncast(je,Fe,at){Fe?je.setAttribute("reversed","reversed",at):je.removeAttribute("reversed",at)},getAttributeOnUpcast:je=>je.hasAttribute("reversed")}),Re.startIndex&&ze.push({attributeName:"listStart",defaultValue:1,addCommand(je){je.commands.add("listStart",new Te(je))},appliesToListItem:je=>je.getAttribute("listType")=="numbered",setAttributeOnDowncast(je,Fe,at){Fe==0||Fe>1?je.setAttribute("start",Fe,at):je.removeAttribute("start",at)},getAttributeOnUpcast(je){const Fe=je.getAttribute("start");return Fe>=0?Fe:1}}),ze}(j.config.get("list.properties"));te.schema.extend("listItem",{allowAttributes:ue.map(Re=>Re.attributeName)});for(const Re of ue)Re.addCommand(j);var Ee;this.listenTo(j.commands.get("indentList"),"_executeCleanup",function(Re,ze){return(je,Fe)=>{const at=Fe[0],mt=at.getAttribute("listIndent"),ct=Fe.filter(Ot=>Ot.getAttribute("listIndent")===mt);let wt=null;at.previousSibling.getAttribute("listIndent")+1!==mt&&(wt=ui(at.previousSibling,{sameIndent:!0,direction:"backward",listIndent:mt})),Re.model.change(Ot=>{for(const Jt of ct)for(const yt of ze)if(yt.appliesToListItem(Jt)){const oi=wt==null?yt.defaultValue:wt.getAttribute(yt.attributeName);Ot.setAttribute(yt.attributeName,oi,Jt)}})}}(j,ue)),this.listenTo(j.commands.get("outdentList"),"_executeCleanup",function(Re,ze){return(je,Fe)=>{if(!(Fe=Fe.reverse().filter(wt=>wt.is("element","listItem"))).length)return;const at=Fe[0].getAttribute("listIndent"),mt=Fe[0].getAttribute("listType");let ct=Fe[0].previousSibling;if(ct.is("element","listItem"))for(;ct.getAttribute("listIndent")!==at;)ct=ct.previousSibling;else ct=null;ct||(ct=Fe[Fe.length-1].nextSibling),ct&&ct.is("element","listItem")&&ct.getAttribute("listType")===mt&&Re.model.change(wt=>{const Ot=Fe.filter(Jt=>Jt.getAttribute("listIndent")===at);for(const Jt of Ot)for(const yt of ze)if(yt.appliesToListItem(Jt)){const oi=yt.attributeName,vi=ct.getAttribute(oi);wt.setAttribute(oi,vi,Jt)}})}}(j,ue)),this.listenTo(j.commands.get("bulletedList"),"_executeCleanup",vt(j)),this.listenTo(j.commands.get("numberedList"),"_executeCleanup",vt(j)),te.document.registerPostFixer(function(Re,ze){return je=>{let Fe=!1;const at=Mt(Re.model.document.differ.getChanges()).filter(ct=>ct.getAttribute("listType")!=="todo");if(!at.length)return Fe;let mt=at[at.length-1].nextSibling;if((!mt||!mt.is("element","listItem"))&&(mt=at[0].previousSibling,mt)){const ct=at[0].getAttribute("listIndent");for(;mt.is("element","listItem")&&mt.getAttribute("listIndent")!==ct&&(mt=mt.previousSibling,mt););}for(const ct of ze){const wt=ct.attributeName;for(const Ot of at)if(ct.appliesToListItem(Ot))if(Ot.hasAttribute(wt)){const Jt=Ot.previousSibling;At(Jt,Ot,ct.attributeName)&&(je.setAttribute(wt,Jt.getAttribute(wt),Ot),Fe=!0)}else Je(mt,Ot,ct)?je.setAttribute(wt,mt.getAttribute(wt),Ot):je.setAttribute(wt,ct.defaultValue,Ot),Fe=!0;else je.removeAttribute(wt,Ot)}return Fe}}(j,ue)),j.conversion.for("upcast").add((Ee=ue,Re=>{Re.on("element:li",(ze,je,Fe)=>{const at=je.viewItem.parent,mt=je.modelRange.start.nodeAfter||je.modelRange.end.nodeBefore;for(const ct of Ee)if(ct.appliesToListItem(mt)){const wt=ct.getAttributeOnUpcast(at);Fe.writer.setAttribute(ct.attributeName,wt,mt)}},{priority:"low"})})),j.conversion.for("downcast").add(function(Re){return je=>{for(const Fe of Re)je.on(`attribute:${Fe.attributeName}:listItem`,(at,mt,ct)=>{const wt=ct.writer,Ot=mt.item,Jt=ui(Ot.previousSibling,{sameIndent:!0,listIndent:Ot.getAttribute("listIndent"),direction:"backward"}),yt=ct.mapper.toViewElement(Ot);ze(Ot,Jt)||wt.breakContainer(wt.createPositionBefore(yt)),Fe.setAttributeOnDowncast(wt,mt.attributeNewValue,yt.parent)},{priority:"low"})};function ze(je,Fe){return Fe&&je.getAttribute("listType")===Fe.getAttribute("listType")&&je.getAttribute("listIndent")===Fe.getAttribute("listIndent")&&je.getAttribute("listStyle")===Fe.getAttribute("listStyle")&&je.getAttribute("listReversed")===Fe.getAttribute("listReversed")&&je.getAttribute("listStart")===Fe.getAttribute("listStart")}}(ue)),this._mergeListAttributesWhileMergingLists(ue)}afterInit(){const j=this.editor;j.commands.get("todoList")&&j.model.document.registerPostFixer(function(te){return ue=>{const Ee=Mt(te.model.document.differ.getChanges()).filter(Re=>Re.getAttribute("listType")==="todo"&&(Re.hasAttribute("listStyle")||Re.hasAttribute("listReversed")||Re.hasAttribute("listStart")));if(!Ee.length)return!1;for(const Re of Ee)ue.removeAttribute("listStyle",Re),ue.removeAttribute("listReversed",Re),ue.removeAttribute("listStart",Re);return!0}}(j))}_mergeListAttributesWhileMergingLists(j){const te=this.editor.model;let ue;this.listenTo(te,"deleteContent",(Ee,[Re])=>{const ze=Re.getFirstPosition(),je=Re.getLastPosition();if(ze.parent===je.parent||!ze.parent.is("element","listItem"))return;const Fe=je.parent.nextSibling;if(!Fe||!Fe.is("element","listItem"))return;const at=ui(ze.parent,{sameIndent:!0,listIndent:Fe.getAttribute("listIndent")});at&&at.getAttribute("listType")===Fe.getAttribute("listType")&&(ue=at)},{priority:"high"}),this.listenTo(te,"deleteContent",()=>{ue&&(te.change(Ee=>{const Re=ui(ue.nextSibling,{sameIndent:!0,listIndent:ue.getAttribute("listIndent"),direction:"forward"});if(!Re)return void(ue=null);const ze=[Re,...be(Ee.createPositionAt(Re,0),"forward")];for(const je of ze)for(const Fe of j)if(Fe.appliesToListItem(je)){const at=Fe.attributeName,mt=ue.getAttribute(at);Ee.setAttribute(at,mt,je)}}),ue=null)},{priority:"low"})}}function Je(Be,j,te){if(!Be)return!1;const ue=Be.getAttribute(te.attributeName);return!!ue&&ue!=te.defaultValue&&Be.getAttribute("listType")===j.getAttribute("listType")}function At(Be,j,te){if(!Be||!Be.is("element","listItem")||j.getAttribute("listType")!==Be.getAttribute("listType"))return!1;const ue=Be.getAttribute("listIndent");if(ue<1||ue!==j.getAttribute("listIndent"))return!1;const Ee=Be.getAttribute(te);return!(!Ee||Ee===j.getAttribute(te))}function vt(Be){return(j,te)=>{te=te.filter(ue=>ue.is("element","listItem")),Be.model.change(ue=>{for(const Ee of te)ue.removeAttribute("listStyle",Ee)})}}function Mt(Be){const j=[];for(const te of Be){const ue=jt(te);ue&&ue.is("element","listItem")&&j.push(ue)}return j}function jt(Be){return Be.type==="attribute"?Be.range.start.nodeAfter:Be.type==="insert"?Be.position.nodeAfter:null}class Wt extends m.Plugin{static get requires(){return[Ye,st]}static get pluginName(){return"ListProperties"}}const li="todoListChecked";class xi extends m.Command{constructor(j){super(j),this._selectedElements=[],this.on("execute",()=>{this.refresh()},{priority:"highest"})}refresh(){this._selectedElements=this._getSelectedItems(),this.value=this._selectedElements.every(j=>!!j.getAttribute(li)),this.isEnabled=!!this._selectedElements.length}_getSelectedItems(){const j=this.editor.model,te=j.schema,ue=j.document.selection.getFirstRange(),Ee=ue.start.parent,Re=[];te.checkAttribute(Ee,li)&&Re.push(Ee);for(const ze of ue.getItems())te.checkAttribute(ze,li)&&!Re.includes(ze)&&Re.push(ze);return Re}execute(j={}){this.editor.model.change(te=>{for(const ue of this._selectedElements)(j.forceValue===void 0?!this.value:j.forceValue)?te.setAttribute(li,!0,ue):te.removeAttribute(li,ue)})}}const hi=(Be,j,te)=>{const ue=j.modelCursor,Ee=ue.parent,Re=j.viewItem;if(Re.getAttribute("type")!="checkbox"||Ee.name!="listItem"||!ue.isAtStart||!te.consumable.consume(Re,{name:!0}))return;const ze=te.writer;ze.setAttribute("listType","todo",Ee),j.viewItem.hasAttribute("checked")&&ze.setAttribute("todoListChecked",!0,Ee),j.modelRange=ze.createRange(ue)};function Di(Be){return(j,te)=>{const ue=te.modelPosition,Ee=ue.parent;if(!Ee.is("element","listItem")||Ee.getAttribute("listType")!="todo")return;const Re=sn(te.mapper.toViewElement(Ee),Be);Re&&(te.viewPosition=te.mapper.findPositionIn(Re,ue.offset))}}function dn(Be,j,te,ue){return j.createUIElement("label",{class:"todo-list__label",contenteditable:!1},function(Ee){const Re=(0,f.createElement)(document,"input",{type:"checkbox",tabindex:"-1"});te&&Re.setAttribute("checked","checked"),Re.addEventListener("change",()=>ue(Be));const ze=this.toDomElement(Ee);return ze.appendChild(Re),ze})}function sn(Be,j){const te=j.createRangeIn(Be);for(const ue of te)if(ue.item.is("containerElement","span")&&ue.item.hasClass("todo-list__label__description"))return ue.item}const Cn=(0,f.parseKeystroke)("Ctrl+Enter");class fn extends m.Plugin{static get pluginName(){return"TodoListEditing"}static get requires(){return[ai]}init(){const j=this.editor,{editing:te,data:ue,model:Ee}=j;Ee.schema.extend("listItem",{allowAttributes:["todoListChecked"]}),Ee.schema.addAttributeCheck((at,mt)=>{const ct=at.last;if(mt=="todoListChecked"&&ct.name=="listItem"&&ct.getAttribute("listType")!="todo")return!1}),j.commands.add("todoList",new Ft(j,"todo"));const Re=new xi(j);var ze,je;j.commands.add("checkTodoList",Re),j.commands.add("todoListCheck",Re),ue.downcastDispatcher.on("insert:listItem",function(at){return(mt,ct,wt)=>{const Ot=wt.consumable;if(!Ot.test(ct.item,"insert")||!Ot.test(ct.item,"attribute:listType")||!Ot.test(ct.item,"attribute:listIndent")||ct.item.getAttribute("listType")!="todo")return;const Jt=ct.item;Ot.consume(Jt,"insert"),Ot.consume(Jt,"attribute:listType"),Ot.consume(Jt,"attribute:listIndent"),Ot.consume(Jt,"attribute:todoListChecked");const yt=wt.writer,oi=ft(Jt,wt);yt.addClass("todo-list",oi.parent);const vi=yt.createContainerElement("label",{class:"todo-list__label"}),ji=yt.createEmptyElement("input",{type:"checkbox",disabled:"disabled"}),Wi=yt.createContainerElement("span",{class:"todo-list__label__description"});Jt.getAttribute("todoListChecked")&&yt.setAttribute("checked","checked",ji),yt.insert(yt.createPositionAt(oi,0),vi),yt.insert(yt.createPositionAt(vi,0),ji),yt.insert(yt.createPositionAfter(ji),Wi),Yt(Jt,oi,wt,at)}}(Ee),{priority:"high"}),ue.upcastDispatcher.on("element:input",hi,{priority:"high"}),te.downcastDispatcher.on("insert:listItem",function(at,mt){return(ct,wt,Ot)=>{const Jt=Ot.consumable;if(!Jt.test(wt.item,"insert")||!Jt.test(wt.item,"attribute:listType")||!Jt.test(wt.item,"attribute:listIndent")||wt.item.getAttribute("listType")!="todo")return;const yt=wt.item;Jt.consume(yt,"insert"),Jt.consume(yt,"attribute:listType"),Jt.consume(yt,"attribute:listIndent"),Jt.consume(yt,"attribute:todoListChecked");const oi=Ot.writer,vi=ft(yt,Ot),ji=!!yt.getAttribute("todoListChecked"),Wi=dn(yt,oi,ji,mt),tn=oi.createContainerElement("span",{class:"todo-list__label__description"});oi.addClass("todo-list",vi.parent),oi.insert(oi.createPositionAt(vi,0),Wi),oi.insert(oi.createPositionAfter(Wi),tn),Yt(yt,vi,Ot,at)}}(Ee,at=>this._handleCheckmarkChange(at)),{priority:"high"}),te.downcastDispatcher.on("attribute:listType:listItem",(ze=at=>this._handleCheckmarkChange(at),je=te.view,(at,mt,ct)=>{if(!ct.consumable.consume(mt.item,at.name))return;const wt=ct.mapper.toViewElement(mt.item),Ot=ct.writer,Jt=function(yt,oi){const vi=oi.createRangeIn(yt);for(const ji of vi)if(ji.item.is("uiElement","label"))return ji.item}(wt,je);if(mt.attributeNewValue=="todo"){const yt=!!mt.item.getAttribute("todoListChecked"),oi=dn(mt.item,Ot,yt,ze),vi=Ot.createContainerElement("span",{class:"todo-list__label__description"}),ji=Ot.createRangeIn(wt),Wi=bt(wt),tn=ri(ji.start),bn=Wi?Ot.createPositionBefore(Wi):ji.end,Pe=Ot.createRange(tn,bn);Ot.addClass("todo-list",wt.parent),Ot.move(Pe,Ot.createPositionAt(vi,0)),Ot.insert(Ot.createPositionAt(wt,0),oi),Ot.insert(Ot.createPositionAfter(oi),vi)}else if(mt.attributeOldValue=="todo"){const yt=sn(wt,je);Ot.removeClass("todo-list",wt.parent),Ot.remove(Jt),Ot.move(Ot.createRangeIn(yt),Ot.createPositionBefore(yt)),Ot.remove(yt)}})),te.downcastDispatcher.on("attribute:todoListChecked:listItem",function(at){return(mt,ct,wt)=>{if(ct.item.getAttribute("listType")!="todo"||!wt.consumable.consume(ct.item,"attribute:todoListChecked"))return;const{mapper:Ot,writer:Jt}=wt,yt=!!ct.item.getAttribute("todoListChecked"),oi=Ot.toViewElement(ct.item).getChild(0),vi=dn(ct.item,Jt,yt,at);Jt.insert(Jt.createPositionAfter(oi),vi),Jt.remove(oi)}}(at=>this._handleCheckmarkChange(at))),te.mapper.on("modelToViewPosition",Di(te.view)),ue.mapper.on("modelToViewPosition",Di(te.view)),this.listenTo(te.view.document,"arrowKey",function(at,mt){return(ct,wt)=>{if((0,f.getLocalizedArrowKeyCodeDirection)(wt.keyCode,mt.contentLanguageDirection)!="left")return;const Ot=at.schema,Jt=at.document.selection;if(!Jt.isCollapsed)return;const yt=Jt.getFirstPosition(),oi=yt.parent;if(oi.name==="listItem"&&oi.getAttribute("listType")=="todo"&&yt.isAtStart){const vi=Ot.getNearestSelectionRange(at.createPositionBefore(oi),"backward");vi&&at.change(ji=>ji.setSelection(vi)),wt.preventDefault(),wt.stopPropagation(),ct.stop()}}}(Ee,j.locale),{context:"li"}),this.listenTo(te.view.document,"keydown",(at,mt)=>{(0,f.getCode)(mt)===Cn&&(j.execute("checkTodoList"),at.stop())},{priority:"high"});const Fe=new Set;this.listenTo(Ee,"applyOperation",(at,mt)=>{const ct=mt[0];if(ct.type=="rename"&&ct.oldName=="listItem"){const wt=ct.position.nodeAfter;wt.hasAttribute("todoListChecked")&&Fe.add(wt)}else if(ct.type=="changeAttribute"&&ct.key=="listType"&&ct.oldValue==="todo")for(const wt of ct.range.getItems())wt.hasAttribute("todoListChecked")&&wt.getAttribute("listType")!=="todo"&&Fe.add(wt)}),Ee.document.registerPostFixer(at=>{let mt=!1;for(const ct of Fe)at.removeAttribute("todoListChecked",ct),mt=!0;return Fe.clear(),mt})}_handleCheckmarkChange(j){const te=this.editor,ue=te.model,Ee=Array.from(ue.document.selection.getRanges());ue.change(Re=>{Re.setSelection(j,"end"),te.execute("checkTodoList"),Re.setSelection(Ee)})}}class Tn extends m.Plugin{static get pluginName(){return"TodoListUI"}init(){const j=this.editor.t;Ai(this.editor,"todoList",j("To-do List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>')}}var In=re(250),Dn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};tt()(In.Z,Dn),In.Z.locals;class Fn extends m.Plugin{static get requires(){return[fn,Tn]}static get pluginName(){return"TodoList"}}})(),(window.CKEditor5=window.CKEditor5||{}).list=ii})()},5978:()=>{/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var ti={704:(m,E,y)=>{m.exports=y(79)("./src/core.js")},492:(m,E,y)=>{m.exports=y(79)("./src/engine.js")},79:m=>{"use strict";m.exports=CKEditor5.dll},915:()=>{}},Kt={};function re(m){var E=Kt[m];if(E!==void 0)return E.exports;var y=Kt[m]={exports:{}};return ti[m](y,y.exports,re),y.exports}re.d=(m,E)=>{for(var y in E)re.o(E,y)&&!re.o(m,y)&&Object.defineProperty(m,y,{enumerable:!0,get:E[y]})},re.o=(m,E)=>Object.prototype.hasOwnProperty.call(m,E),re.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})};var ii={};(()=>{"use strict";re.r(ii),re.d(ii,{Markdown:()=>qi});var m=re(704),E=re(492);function y(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let f={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const _=/[&<>"']/,a=/[&<>"']/g,d=/[<>"']|&(?!#?\w+;)/,S=/[<>"']|&(?!#?\w+;)/g,U={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},I=ke=>U[ke];function C(ke,V){if(V){if(_.test(ke))return ke.replace(a,I)}else if(d.test(ke))return ke.replace(S,I);return ke}const ge=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function pe(ke){return ke.replace(ge,(V,F)=>(F=F.toLowerCase())==="colon"?":":F.charAt(0)==="#"?F.charAt(1)==="x"?String.fromCharCode(parseInt(F.substring(2),16)):String.fromCharCode(+F.substring(1)):"")}const me=/(^|[^\[])\^/g;function J(ke,V){ke=ke.source||ke,V=V||"";const F={replace:(P,N)=>(N=(N=N.source||N).replace(me,"$1"),ke=ke.replace(P,N),F),getRegex:()=>new RegExp(ke,V)};return F}const ee=/[^\w:]/g,Z=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function h(ke,V,F){if(ke){let P;try{P=decodeURIComponent(pe(F)).replace(ee,"").toLowerCase()}catch{return null}if(P.indexOf("javascript:")===0||P.indexOf("vbscript:")===0||P.indexOf("data:")===0)return null}V&&!Z.test(F)&&(F=function(P,N){g[" "+P]||(r.test(P)?g[" "+P]=P+"/":g[" "+P]=L(P,"/",!0)),P=g[" "+P];const de=P.indexOf(":")===-1;return N.substring(0,2)==="//"?de?N:P.replace(u,"$1")+N:N.charAt(0)==="/"?de?N:P.replace(w,"$1")+N:P+N}(V,F));try{F=encodeURI(F).replace(/%25/g,"%")}catch{return null}return F}const g={},r=/^[^:]+:\/*[^/]*$/,u=/^([^:]+:)[\s\S]*$/,w=/^([^:]+:\/*[^/]*)[\s\S]*$/,v={exec:function(){}};function T(ke){let V,F,P=1;for(;P<arguments.length;P++)for(F in V=arguments[P],V)Object.prototype.hasOwnProperty.call(V,F)&&(ke[F]=V[F]);return ke}function z(ke,V){const F=ke.replace(/\|/g,(N,de,Ce)=>{let Ze=!1,st=de;for(;--st>=0&&Ce[st]==="\\";)Ze=!Ze;return Ze?"|":" |"}).split(/ \|/);let P=0;if(F[0].trim()||F.shift(),F.length>0&&!F[F.length-1].trim()&&F.pop(),F.length>V)F.splice(V);else for(;F.length<V;)F.push("");for(;P<F.length;P++)F[P]=F[P].trim().replace(/\\\|/g,"|");return F}function L(ke,V,F){const P=ke.length;if(P===0)return"";let N=0;for(;N<P;){const de=ke.charAt(P-N-1);if(de!==V||F){if(de===V||!F)break;N++}else N++}return ke.substr(0,P-N)}function x(ke){ke&&ke.sanitize&&!ke.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function c(ke,V){if(V<1)return"";let F="";for(;V>1;)1&V&&(F+=ke),V>>=1,ke+=ke;return F+ke}function D(ke,V,F,P){const N=V.href,de=V.title?C(V.title):null,Ce=ke[1].replace(/\\([\[\]])/g,"$1");if(ke[0].charAt(0)!=="!"){P.state.inLink=!0;const Ze={type:"link",raw:F,href:N,title:de,text:Ce,tokens:P.inlineTokens(Ce,[])};return P.state.inLink=!1,Ze}return{type:"image",raw:F,href:N,title:de,text:C(Ce)}}class W{constructor(V){this.options=V||f}space(V){const F=this.rules.block.newline.exec(V);if(F&&F[0].length>0)return{type:"space",raw:F[0]}}code(V){const F=this.rules.block.code.exec(V);if(F){const P=F[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:F[0],codeBlockStyle:"indented",text:this.options.pedantic?P:L(P,`
`)}}}fences(V){const F=this.rules.block.fences.exec(V);if(F){const P=F[0],N=function(de,Ce){const Ze=de.match(/^(\s+)(?:```)/);if(Ze===null)return Ce;const st=Ze[1];return Ce.split(`
`).map(Ct=>{const Ge=Ct.match(/^\s+/);if(Ge===null)return Ct;const[Ft]=Ge;return Ft.length>=st.length?Ct.slice(st.length):Ct}).join(`
`)}(P,F[3]||"");return{type:"code",raw:P,lang:F[2]?F[2].trim():F[2],text:N}}}heading(V){const F=this.rules.block.heading.exec(V);if(F){let P=F[2].trim();if(/#$/.test(P)){const de=L(P,"#");this.options.pedantic?P=de.trim():de&&!/ $/.test(de)||(P=de.trim())}const N={type:"heading",raw:F[0],depth:F[1].length,text:P,tokens:[]};return this.lexer.inline(N.text,N.tokens),N}}hr(V){const F=this.rules.block.hr.exec(V);if(F)return{type:"hr",raw:F[0]}}blockquote(V){const F=this.rules.block.blockquote.exec(V);if(F){const P=F[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:F[0],tokens:this.lexer.blockTokens(P,[]),text:P}}}list(V){let F=this.rules.block.list.exec(V);if(F){let P,N,de,Ce,Ze,st,Ct,Ge,Ft,ci,yi,Oi,Ei=F[1].trim();const Bi=Ei.length>1,Li={type:"list",raw:"",ordered:Bi,start:Bi?+Ei.slice(0,-1):"",loose:!1,items:[]};Ei=Bi?`\\d{1,9}\\${Ei.slice(-1)}`:`\\${Ei}`,this.options.pedantic&&(Ei=Bi?Ei:"[*+-]");const Ui=new RegExp(`^( {0,3}${Ei})((?: [^\\n]*)?(?:\\n|$))`);for(;V&&(Oi=!1,F=Ui.exec(V))&&!this.rules.block.hr.test(V);){if(P=F[0],V=V.substring(P.length),Ge=F[2].split(`
`,1)[0],Ft=V.split(`
`,1)[0],this.options.pedantic?(Ce=2,yi=Ge.trimLeft()):(Ce=F[2].search(/[^ ]/),Ce=Ce>4?1:Ce,yi=Ge.slice(Ce),Ce+=F[1].length),st=!1,!Ge&&/^ *$/.test(Ft)&&(P+=Ft+`
`,V=V.substring(Ft.length+1),Oi=!0),!Oi){const we=new RegExp(`^ {0,${Math.min(3,Ce-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;V&&(ci=V.split(`
`,1)[0],Ge=ci,this.options.pedantic&&(Ge=Ge.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!we.test(Ge));){if(Ge.search(/[^ ]/)>=Ce||!Ge.trim())yi+=`
`+Ge.slice(Ce);else{if(st)break;yi+=`
`+Ge}st||Ge.trim()||(st=!0),P+=ci+`
`,V=V.substring(ci.length+1)}}Li.loose||(Ct?Li.loose=!0:/\n *\n *$/.test(P)&&(Ct=!0)),this.options.gfm&&(N=/^\[[ xX]\] /.exec(yi),N&&(de=N[0]!=="[ ] ",yi=yi.replace(/^\[[ xX]\] +/,""))),Li.items.push({type:"list_item",raw:P,task:!!N,checked:de,loose:!1,text:yi}),Li.raw+=P}Li.items[Li.items.length-1].raw=P.trimRight(),Li.items[Li.items.length-1].text=yi.trimRight(),Li.raw=Li.raw.trimRight();const Ht=Li.items.length;for(Ze=0;Ze<Ht;Ze++){this.lexer.state.top=!1,Li.items[Ze].tokens=this.lexer.blockTokens(Li.items[Ze].text,[]);const we=Li.items[Ze].tokens.filter(Q=>Q.type==="space"),He=we.every(Q=>{const R=Q.raw.split("");let Y=0;for(const ve of R)if(ve===`
`&&(Y+=1),Y>1)return!0;return!1});!Li.loose&&we.length&&He&&(Li.loose=!0,Li.items[Ze].loose=!0)}return Li}}html(V){const F=this.rules.block.html.exec(V);if(F){const P={type:"html",raw:F[0],pre:!this.options.sanitizer&&(F[1]==="pre"||F[1]==="script"||F[1]==="style"),text:F[0]};return this.options.sanitize&&(P.type="paragraph",P.text=this.options.sanitizer?this.options.sanitizer(F[0]):C(F[0]),P.tokens=[],this.lexer.inline(P.text,P.tokens)),P}}def(V){const F=this.rules.block.def.exec(V);if(F)return F[3]&&(F[3]=F[3].substring(1,F[3].length-1)),{type:"def",tag:F[1].toLowerCase().replace(/\s+/g," "),raw:F[0],href:F[2],title:F[3]}}table(V){const F=this.rules.block.table.exec(V);if(F){const P={type:"table",header:z(F[1]).map(N=>({text:N})),align:F[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:F[3]&&F[3].trim()?F[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(P.header.length===P.align.length){P.raw=F[0];let N,de,Ce,Ze,st=P.align.length;for(N=0;N<st;N++)/^ *-+: *$/.test(P.align[N])?P.align[N]="right":/^ *:-+: *$/.test(P.align[N])?P.align[N]="center":/^ *:-+ *$/.test(P.align[N])?P.align[N]="left":P.align[N]=null;for(st=P.rows.length,N=0;N<st;N++)P.rows[N]=z(P.rows[N],P.header.length).map(Ct=>({text:Ct}));for(st=P.header.length,de=0;de<st;de++)P.header[de].tokens=[],this.lexer.inlineTokens(P.header[de].text,P.header[de].tokens);for(st=P.rows.length,de=0;de<st;de++)for(Ze=P.rows[de],Ce=0;Ce<Ze.length;Ce++)Ze[Ce].tokens=[],this.lexer.inlineTokens(Ze[Ce].text,Ze[Ce].tokens);return P}}}lheading(V){const F=this.rules.block.lheading.exec(V);if(F){const P={type:"heading",raw:F[0],depth:F[2].charAt(0)==="="?1:2,text:F[1],tokens:[]};return this.lexer.inline(P.text,P.tokens),P}}paragraph(V){const F=this.rules.block.paragraph.exec(V);if(F){const P={type:"paragraph",raw:F[0],text:F[1].charAt(F[1].length-1)===`
`?F[1].slice(0,-1):F[1],tokens:[]};return this.lexer.inline(P.text,P.tokens),P}}text(V){const F=this.rules.block.text.exec(V);if(F){const P={type:"text",raw:F[0],text:F[0],tokens:[]};return this.lexer.inline(P.text,P.tokens),P}}escape(V){const F=this.rules.inline.escape.exec(V);if(F)return{type:"escape",raw:F[0],text:C(F[1])}}tag(V){const F=this.rules.inline.tag.exec(V);if(F)return!this.lexer.state.inLink&&/^<a /i.test(F[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(F[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(F[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(F[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:F[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(F[0]):C(F[0]):F[0]}}link(V){const F=this.rules.inline.link.exec(V);if(F){const P=F[2].trim();if(!this.options.pedantic&&/^</.test(P)){if(!/>$/.test(P))return;const Ce=L(P.slice(0,-1),"\\");if((P.length-Ce.length)%2==0)return}else{const Ce=function(Ze,st){if(Ze.indexOf(st[1])===-1)return-1;const Ct=Ze.length;let Ge=0,Ft=0;for(;Ft<Ct;Ft++)if(Ze[Ft]==="\\")Ft++;else if(Ze[Ft]===st[0])Ge++;else if(Ze[Ft]===st[1]&&(Ge--,Ge<0))return Ft;return-1}(F[2],"()");if(Ce>-1){const Ze=(F[0].indexOf("!")===0?5:4)+F[1].length+Ce;F[2]=F[2].substring(0,Ce),F[0]=F[0].substring(0,Ze).trim(),F[3]=""}}let N=F[2],de="";if(this.options.pedantic){const Ce=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(N);Ce&&(N=Ce[1],de=Ce[3])}else de=F[3]?F[3].slice(1,-1):"";return N=N.trim(),/^</.test(N)&&(N=this.options.pedantic&&!/>$/.test(P)?N.slice(1):N.slice(1,-1)),D(F,{href:N&&N.replace(this.rules.inline._escapes,"$1"),title:de&&de.replace(this.rules.inline._escapes,"$1")},F[0],this.lexer)}}reflink(V,F){let P;if((P=this.rules.inline.reflink.exec(V))||(P=this.rules.inline.nolink.exec(V))){let N=(P[2]||P[1]).replace(/\s+/g," ");if(N=F[N.toLowerCase()],!N||!N.href){const de=P[0].charAt(0);return{type:"text",raw:de,text:de}}return D(P,N,P[0],this.lexer)}}emStrong(V,F,P=""){let N=this.rules.inline.emStrong.lDelim.exec(V);if(!N||N[3]&&P.match(/[\p{L}\p{N}]/u))return;const de=N[1]||N[2]||"";if(!de||de&&(P===""||this.rules.inline.punctuation.exec(P))){const Ce=N[0].length-1;let Ze,st,Ct=Ce,Ge=0;const Ft=N[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Ft.lastIndex=0,F=F.slice(-1*V.length+Ce);(N=Ft.exec(F))!=null;){if(Ze=N[1]||N[2]||N[3]||N[4]||N[5]||N[6],!Ze)continue;if(st=Ze.length,N[3]||N[4]){Ct+=st;continue}if((N[5]||N[6])&&Ce%3&&!((Ce+st)%3)){Ge+=st;continue}if(Ct-=st,Ct>0)continue;if(st=Math.min(st,st+Ct+Ge),Math.min(Ce,st)%2){const yi=V.slice(1,Ce+N.index+st);return{type:"em",raw:V.slice(0,Ce+N.index+st+1),text:yi,tokens:this.lexer.inlineTokens(yi,[])}}const ci=V.slice(2,Ce+N.index+st-1);return{type:"strong",raw:V.slice(0,Ce+N.index+st+1),text:ci,tokens:this.lexer.inlineTokens(ci,[])}}}}codespan(V){const F=this.rules.inline.code.exec(V);if(F){let P=F[2].replace(/\n/g," ");const N=/[^ ]/.test(P),de=/^ /.test(P)&&/ $/.test(P);return N&&de&&(P=P.substring(1,P.length-1)),P=C(P,!0),{type:"codespan",raw:F[0],text:P}}}br(V){const F=this.rules.inline.br.exec(V);if(F)return{type:"br",raw:F[0]}}del(V){const F=this.rules.inline.del.exec(V);if(F)return{type:"del",raw:F[0],text:F[2],tokens:this.lexer.inlineTokens(F[2],[])}}autolink(V,F){const P=this.rules.inline.autolink.exec(V);if(P){let N,de;return P[2]==="@"?(N=C(this.options.mangle?F(P[1]):P[1]),de="mailto:"+N):(N=C(P[1]),de=N),{type:"link",raw:P[0],text:N,href:de,tokens:[{type:"text",raw:N,text:N}]}}}url(V,F){let P;if(P=this.rules.inline.url.exec(V)){let N,de;if(P[2]==="@")N=C(this.options.mangle?F(P[0]):P[0]),de="mailto:"+N;else{let Ce;do Ce=P[0],P[0]=this.rules.inline._backpedal.exec(P[0])[0];while(Ce!==P[0]);N=C(P[0]),de=P[1]==="www."?"http://"+N:N}return{type:"link",raw:P[0],text:N,href:de,tokens:[{type:"text",raw:N,text:N}]}}}inlineText(V,F){const P=this.rules.inline.text.exec(V);if(P){let N;return N=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(P[0]):C(P[0]):P[0]:C(this.options.smartypants?F(P[0]):P[0]),{type:"text",raw:P[0],text:N}}}}const q={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:v,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};q.def=J(q.def).replace("label",q._label).replace("title",q._title).getRegex(),q.bullet=/(?:[*+-]|\d{1,9}[.)])/,q.listItemStart=J(/^( *)(bull) */).replace("bull",q.bullet).getRegex(),q.list=J(q.list).replace(/bull/g,q.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+q.def.source+")").getRegex(),q._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",q._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,q.html=J(q.html,"i").replace("comment",q._comment).replace("tag",q._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),q.paragraph=J(q._paragraph).replace("hr",q.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",q._tag).getRegex(),q.blockquote=J(q.blockquote).replace("paragraph",q.paragraph).getRegex(),q.normal=T({},q),q.gfm=T({},q.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),q.gfm.table=J(q.gfm.table).replace("hr",q.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",q._tag).getRegex(),q.gfm.paragraph=J(q._paragraph).replace("hr",q.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",q.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",q._tag).getRegex(),q.pedantic=T({},q.normal,{html:J(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",q._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:v,paragraph:J(q.normal._paragraph).replace("hr",q.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",q.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const ae={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:v,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:v,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Ie(ke){return ke.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Ve(ke){let V,F,P="";const N=ke.length;for(V=0;V<N;V++)F=ke.charCodeAt(V),Math.random()>.5&&(F="x"+F.toString(16)),P+="&#"+F+";";return P}ae._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ae.punctuation=J(ae.punctuation).replace(/punctuation/g,ae._punctuation).getRegex(),ae.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ae.escapedEmSt=/\\\*|\\_/g,ae._comment=J(q._comment).replace("(?:-->|$)","-->").getRegex(),ae.emStrong.lDelim=J(ae.emStrong.lDelim).replace(/punct/g,ae._punctuation).getRegex(),ae.emStrong.rDelimAst=J(ae.emStrong.rDelimAst,"g").replace(/punct/g,ae._punctuation).getRegex(),ae.emStrong.rDelimUnd=J(ae.emStrong.rDelimUnd,"g").replace(/punct/g,ae._punctuation).getRegex(),ae._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ae._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ae._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ae.autolink=J(ae.autolink).replace("scheme",ae._scheme).replace("email",ae._email).getRegex(),ae._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ae.tag=J(ae.tag).replace("comment",ae._comment).replace("attribute",ae._attribute).getRegex(),ae._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ae._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ae._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ae.link=J(ae.link).replace("label",ae._label).replace("href",ae._href).replace("title",ae._title).getRegex(),ae.reflink=J(ae.reflink).replace("label",ae._label).replace("ref",q._label).getRegex(),ae.nolink=J(ae.nolink).replace("ref",q._label).getRegex(),ae.reflinkSearch=J(ae.reflinkSearch,"g").replace("reflink",ae.reflink).replace("nolink",ae.nolink).getRegex(),ae.normal=T({},ae),ae.pedantic=T({},ae.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:J(/^!?\[(label)\]\((.*?)\)/).replace("label",ae._label).getRegex(),reflink:J(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ae._label).getRegex()}),ae.gfm=T({},ae.normal,{escape:J(ae.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),ae.gfm.url=J(ae.gfm.url,"i").replace("email",ae.gfm._extended_email).getRegex(),ae.breaks=T({},ae.gfm,{br:J(ae.br).replace("{2,}","*").getRegex(),text:J(ae.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class _e{constructor(V){this.tokens=[],this.tokens.links=Object.create(null),this.options=V||f,this.options.tokenizer=this.options.tokenizer||new W,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const F={block:q.normal,inline:ae.normal};this.options.pedantic?(F.block=q.pedantic,F.inline=ae.pedantic):this.options.gfm&&(F.block=q.gfm,this.options.breaks?F.inline=ae.breaks:F.inline=ae.gfm),this.tokenizer.rules=F}static get rules(){return{block:q,inline:ae}}static lex(V,F){return new _e(F).lex(V)}static lexInline(V,F){return new _e(F).inlineTokens(V)}lex(V){let F;for(V=V.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(V,this.tokens);F=this.inlineQueue.shift();)this.inlineTokens(F.src,F.tokens);return this.tokens}blockTokens(V,F=[]){let P,N,de,Ce;for(this.options.pedantic&&(V=V.replace(/^ +$/gm,""));V;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(Ze=>!!(P=Ze.call({lexer:this},V,F))&&(V=V.substring(P.raw.length),F.push(P),!0))))if(P=this.tokenizer.space(V))V=V.substring(P.raw.length),P.raw.length===1&&F.length>0?F[F.length-1].raw+=`
`:F.push(P);else if(P=this.tokenizer.code(V))V=V.substring(P.raw.length),N=F[F.length-1],!N||N.type!=="paragraph"&&N.type!=="text"?F.push(P):(N.raw+=`
`+P.raw,N.text+=`
`+P.text,this.inlineQueue[this.inlineQueue.length-1].src=N.text);else if(P=this.tokenizer.fences(V))V=V.substring(P.raw.length),F.push(P);else if(P=this.tokenizer.heading(V))V=V.substring(P.raw.length),F.push(P);else if(P=this.tokenizer.hr(V))V=V.substring(P.raw.length),F.push(P);else if(P=this.tokenizer.blockquote(V))V=V.substring(P.raw.length),F.push(P);else if(P=this.tokenizer.list(V))V=V.substring(P.raw.length),F.push(P);else if(P=this.tokenizer.html(V))V=V.substring(P.raw.length),F.push(P);else if(P=this.tokenizer.def(V))V=V.substring(P.raw.length),N=F[F.length-1],!N||N.type!=="paragraph"&&N.type!=="text"?this.tokens.links[P.tag]||(this.tokens.links[P.tag]={href:P.href,title:P.title}):(N.raw+=`
`+P.raw,N.text+=`
`+P.raw,this.inlineQueue[this.inlineQueue.length-1].src=N.text);else if(P=this.tokenizer.table(V))V=V.substring(P.raw.length),F.push(P);else if(P=this.tokenizer.lheading(V))V=V.substring(P.raw.length),F.push(P);else{if(de=V,this.options.extensions&&this.options.extensions.startBlock){let Ze=1/0;const st=V.slice(1);let Ct;this.options.extensions.startBlock.forEach(function(Ge){Ct=Ge.call({lexer:this},st),typeof Ct=="number"&&Ct>=0&&(Ze=Math.min(Ze,Ct))}),Ze<1/0&&Ze>=0&&(de=V.substring(0,Ze+1))}if(this.state.top&&(P=this.tokenizer.paragraph(de)))N=F[F.length-1],Ce&&N.type==="paragraph"?(N.raw+=`
`+P.raw,N.text+=`
`+P.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=N.text):F.push(P),Ce=de.length!==V.length,V=V.substring(P.raw.length);else if(P=this.tokenizer.text(V))V=V.substring(P.raw.length),N=F[F.length-1],N&&N.type==="text"?(N.raw+=`
`+P.raw,N.text+=`
`+P.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=N.text):F.push(P);else if(V){const Ze="Infinite loop on byte: "+V.charCodeAt(0);if(this.options.silent){console.error(Ze);break}throw new Error(Ze)}}return this.state.top=!0,F}inline(V,F){this.inlineQueue.push({src:V,tokens:F})}inlineTokens(V,F=[]){let P,N,de,Ce,Ze,st,Ct=V;if(this.tokens.links){const Ge=Object.keys(this.tokens.links);if(Ge.length>0)for(;(Ce=this.tokenizer.rules.inline.reflinkSearch.exec(Ct))!=null;)Ge.includes(Ce[0].slice(Ce[0].lastIndexOf("[")+1,-1))&&(Ct=Ct.slice(0,Ce.index)+"["+c("a",Ce[0].length-2)+"]"+Ct.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Ce=this.tokenizer.rules.inline.blockSkip.exec(Ct))!=null;)Ct=Ct.slice(0,Ce.index)+"["+c("a",Ce[0].length-2)+"]"+Ct.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Ce=this.tokenizer.rules.inline.escapedEmSt.exec(Ct))!=null;)Ct=Ct.slice(0,Ce.index)+"++"+Ct.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;V;)if(Ze||(st=""),Ze=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(Ge=>!!(P=Ge.call({lexer:this},V,F))&&(V=V.substring(P.raw.length),F.push(P),!0))))if(P=this.tokenizer.escape(V))V=V.substring(P.raw.length),F.push(P);else if(P=this.tokenizer.tag(V))V=V.substring(P.raw.length),N=F[F.length-1],N&&P.type==="text"&&N.type==="text"?(N.raw+=P.raw,N.text+=P.text):F.push(P);else if(P=this.tokenizer.link(V))V=V.substring(P.raw.length),F.push(P);else if(P=this.tokenizer.reflink(V,this.tokens.links))V=V.substring(P.raw.length),N=F[F.length-1],N&&P.type==="text"&&N.type==="text"?(N.raw+=P.raw,N.text+=P.text):F.push(P);else if(P=this.tokenizer.emStrong(V,Ct,st))V=V.substring(P.raw.length),F.push(P);else if(P=this.tokenizer.codespan(V))V=V.substring(P.raw.length),F.push(P);else if(P=this.tokenizer.br(V))V=V.substring(P.raw.length),F.push(P);else if(P=this.tokenizer.del(V))V=V.substring(P.raw.length),F.push(P);else if(P=this.tokenizer.autolink(V,Ve))V=V.substring(P.raw.length),F.push(P);else if(this.state.inLink||!(P=this.tokenizer.url(V,Ve))){if(de=V,this.options.extensions&&this.options.extensions.startInline){let Ge=1/0;const Ft=V.slice(1);let ci;this.options.extensions.startInline.forEach(function(yi){ci=yi.call({lexer:this},Ft),typeof ci=="number"&&ci>=0&&(Ge=Math.min(Ge,ci))}),Ge<1/0&&Ge>=0&&(de=V.substring(0,Ge+1))}if(P=this.tokenizer.inlineText(de,Ie))V=V.substring(P.raw.length),P.raw.slice(-1)!=="_"&&(st=P.raw.slice(-1)),Ze=!0,N=F[F.length-1],N&&N.type==="text"?(N.raw+=P.raw,N.text+=P.text):F.push(P);else if(V){const Ge="Infinite loop on byte: "+V.charCodeAt(0);if(this.options.silent){console.error(Ge);break}throw new Error(Ge)}}else V=V.substring(P.raw.length),F.push(P);return F}}class Me{constructor(V){this.options=V||f}code(V,F,P){const N=(F||"").match(/\S*/)[0];if(this.options.highlight){const de=this.options.highlight(V,N);de!=null&&de!==V&&(P=!0,V=de)}return V=V.replace(/\n$/,"")+`
`,N?'<pre><code class="'+this.options.langPrefix+C(N,!0)+'">'+(P?V:C(V,!0))+`</code></pre>
`:"<pre><code>"+(P?V:C(V,!0))+`</code></pre>
`}blockquote(V){return`<blockquote>
`+V+`</blockquote>
`}html(V){return V}heading(V,F,P,N){return this.options.headerIds?"<h"+F+' id="'+this.options.headerPrefix+N.slug(P)+'">'+V+"</h"+F+`>
`:"<h"+F+">"+V+"</h"+F+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(V,F,P){const N=F?"ol":"ul";return"<"+N+(F&&P!==1?' start="'+P+'"':"")+`>
`+V+"</"+N+`>
`}listitem(V){return"<li>"+V+`</li>
`}checkbox(V){return"<input "+(V?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(V){return"<p>"+V+`</p>
`}table(V,F){return F&&(F="<tbody>"+F+"</tbody>"),`<table>
<thead>
`+V+`</thead>
`+F+`</table>
`}tablerow(V){return`<tr>
`+V+`</tr>
`}tablecell(V,F){const P=F.header?"th":"td";return(F.align?"<"+P+' align="'+F.align+'">':"<"+P+">")+V+"</"+P+`>
`}strong(V){return"<strong>"+V+"</strong>"}em(V){return"<em>"+V+"</em>"}codespan(V){return"<code>"+V+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(V){return"<del>"+V+"</del>"}link(V,F,P){if((V=h(this.options.sanitize,this.options.baseUrl,V))===null)return P;let N='<a href="'+C(V)+'"';return F&&(N+=' title="'+F+'"'),N+=">"+P+"</a>",N}image(V,F,P){if((V=h(this.options.sanitize,this.options.baseUrl,V))===null)return P;let N='<img src="'+V+'" alt="'+P+'"';return F&&(N+=' title="'+F+'"'),N+=this.options.xhtml?"/>":">",N}text(V){return V}}class Qe{strong(V){return V}em(V){return V}codespan(V){return V}del(V){return V}html(V){return V}text(V){return V}link(V,F,P){return""+P}image(V,F,P){return""+P}br(){return""}}class ut{constructor(){this.seen={}}serialize(V){return V.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(V,F){let P=V,N=0;if(this.seen.hasOwnProperty(P)){N=this.seen[V];do N++,P=V+"-"+N;while(this.seen.hasOwnProperty(P))}return F||(this.seen[V]=N,this.seen[P]=0),P}slug(V,F={}){const P=this.serialize(V);return this.getNextSafeSlug(P,F.dryrun)}}class rt{constructor(V){this.options=V||f,this.options.renderer=this.options.renderer||new Me,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Qe,this.slugger=new ut}static parse(V,F){return new rt(F).parse(V)}static parseInline(V,F){return new rt(F).parseInline(V)}parse(V,F=!0){let P,N,de,Ce,Ze,st,Ct,Ge,Ft,ci,yi,Oi,Ei,Bi,Li,Ui,Ht,we,He,Q="";const R=V.length;for(P=0;P<R;P++)if(ci=V[P],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ci.type]&&(He=this.options.extensions.renderers[ci.type].call({parser:this},ci),He!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ci.type)))Q+=He||"";else switch(ci.type){case"space":continue;case"hr":Q+=this.renderer.hr();continue;case"heading":Q+=this.renderer.heading(this.parseInline(ci.tokens),ci.depth,pe(this.parseInline(ci.tokens,this.textRenderer)),this.slugger);continue;case"code":Q+=this.renderer.code(ci.text,ci.lang,ci.escaped);continue;case"table":for(Ge="",Ct="",Ce=ci.header.length,N=0;N<Ce;N++)Ct+=this.renderer.tablecell(this.parseInline(ci.header[N].tokens),{header:!0,align:ci.align[N]});for(Ge+=this.renderer.tablerow(Ct),Ft="",Ce=ci.rows.length,N=0;N<Ce;N++){for(st=ci.rows[N],Ct="",Ze=st.length,de=0;de<Ze;de++)Ct+=this.renderer.tablecell(this.parseInline(st[de].tokens),{header:!1,align:ci.align[de]});Ft+=this.renderer.tablerow(Ct)}Q+=this.renderer.table(Ge,Ft);continue;case"blockquote":Ft=this.parse(ci.tokens),Q+=this.renderer.blockquote(Ft);continue;case"list":for(yi=ci.ordered,Oi=ci.start,Ei=ci.loose,Ce=ci.items.length,Ft="",N=0;N<Ce;N++)Li=ci.items[N],Ui=Li.checked,Ht=Li.task,Bi="",Li.task&&(we=this.renderer.checkbox(Ui),Ei?Li.tokens.length>0&&Li.tokens[0].type==="paragraph"?(Li.tokens[0].text=we+" "+Li.tokens[0].text,Li.tokens[0].tokens&&Li.tokens[0].tokens.length>0&&Li.tokens[0].tokens[0].type==="text"&&(Li.tokens[0].tokens[0].text=we+" "+Li.tokens[0].tokens[0].text)):Li.tokens.unshift({type:"text",text:we}):Bi+=we),Bi+=this.parse(Li.tokens,Ei),Ft+=this.renderer.listitem(Bi,Ht,Ui);Q+=this.renderer.list(Ft,yi,Oi);continue;case"html":Q+=this.renderer.html(ci.text);continue;case"paragraph":Q+=this.renderer.paragraph(this.parseInline(ci.tokens));continue;case"text":for(Ft=ci.tokens?this.parseInline(ci.tokens):ci.text;P+1<R&&V[P+1].type==="text";)ci=V[++P],Ft+=`
`+(ci.tokens?this.parseInline(ci.tokens):ci.text);Q+=F?this.renderer.paragraph(Ft):Ft;continue;default:{const Y='Token with "'+ci.type+'" type was not found.';if(this.options.silent)return void console.error(Y);throw new Error(Y)}}return Q}parseInline(V,F){F=F||this.renderer;let P,N,de,Ce="";const Ze=V.length;for(P=0;P<Ze;P++)if(N=V[P],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[N.type]&&(de=this.options.extensions.renderers[N.type].call({parser:this},N),de!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(N.type)))Ce+=de||"";else switch(N.type){case"escape":case"text":Ce+=F.text(N.text);break;case"html":Ce+=F.html(N.text);break;case"link":Ce+=F.link(N.href,N.title,this.parseInline(N.tokens,F));break;case"image":Ce+=F.image(N.href,N.title,N.text);break;case"strong":Ce+=F.strong(this.parseInline(N.tokens,F));break;case"em":Ce+=F.em(this.parseInline(N.tokens,F));break;case"codespan":Ce+=F.codespan(N.text);break;case"br":Ce+=F.br();break;case"del":Ce+=F.del(this.parseInline(N.tokens,F));break;default:{const st='Token with "'+N.type+'" type was not found.';if(this.options.silent)return void console.error(st);throw new Error(st)}}return Ce}}function qe(ke,V,F){if(ke==null)throw new Error("marked(): input parameter is undefined or null");if(typeof ke!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ke)+", string expected");if(typeof V=="function"&&(F=V,V=null),x(V=T({},qe.defaults,V||{})),F){const P=V.highlight;let N;try{N=_e.lex(ke,V)}catch(Ze){return F(Ze)}const de=function(Ze){let st;if(!Ze)try{V.walkTokens&&qe.walkTokens(N,V.walkTokens),st=rt.parse(N,V)}catch(Ct){Ze=Ct}return V.highlight=P,Ze?F(Ze):F(null,st)};if(!P||P.length<3||(delete V.highlight,!N.length))return de();let Ce=0;return qe.walkTokens(N,function(Ze){Ze.type==="code"&&(Ce++,setTimeout(()=>{P(Ze.text,Ze.lang,function(st,Ct){if(st)return de(st);Ct!=null&&Ct!==Ze.text&&(Ze.text=Ct,Ze.escaped=!0),Ce--,Ce===0&&de()})},0))}),void(Ce===0&&de())}try{const P=_e.lex(ke,V);return V.walkTokens&&qe.walkTokens(P,V.walkTokens),rt.parse(P,V)}catch(P){if(P.message+=`
Please report this to https://github.com/markedjs/marked.`,V.silent)return"<p>An error occurred:</p><pre>"+C(P.message+"",!0)+"</pre>";throw P}}qe.options=qe.setOptions=function(ke){var V;return T(qe.defaults,ke),V=qe.defaults,f=V,qe},qe.getDefaults=y,qe.defaults=f,qe.use=function(...ke){const V=T({},...ke),F=qe.defaults.extensions||{renderers:{},childTokens:{}};let P;ke.forEach(N=>{if(N.extensions&&(P=!0,N.extensions.forEach(de=>{if(!de.name)throw new Error("extension name required");if(de.renderer){const Ce=F.renderers?F.renderers[de.name]:null;F.renderers[de.name]=Ce?function(...Ze){let st=de.renderer.apply(this,Ze);return st===!1&&(st=Ce.apply(this,Ze)),st}:de.renderer}if(de.tokenizer){if(!de.level||de.level!=="block"&&de.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");F[de.level]?F[de.level].unshift(de.tokenizer):F[de.level]=[de.tokenizer],de.start&&(de.level==="block"?F.startBlock?F.startBlock.push(de.start):F.startBlock=[de.start]:de.level==="inline"&&(F.startInline?F.startInline.push(de.start):F.startInline=[de.start]))}de.childTokens&&(F.childTokens[de.name]=de.childTokens)})),N.renderer){const de=qe.defaults.renderer||new Me;for(const Ce in N.renderer){const Ze=de[Ce];de[Ce]=(...st)=>{let Ct=N.renderer[Ce].apply(de,st);return Ct===!1&&(Ct=Ze.apply(de,st)),Ct}}V.renderer=de}if(N.tokenizer){const de=qe.defaults.tokenizer||new W;for(const Ce in N.tokenizer){const Ze=de[Ce];de[Ce]=(...st)=>{let Ct=N.tokenizer[Ce].apply(de,st);return Ct===!1&&(Ct=Ze.apply(de,st)),Ct}}V.tokenizer=de}if(N.walkTokens){const de=qe.defaults.walkTokens;V.walkTokens=function(Ce){N.walkTokens.call(this,Ce),de&&de.call(this,Ce)}}P&&(V.extensions=F),qe.setOptions(V)})},qe.walkTokens=function(ke,V){for(const F of ke)switch(V.call(qe,F),F.type){case"table":for(const P of F.header)qe.walkTokens(P.tokens,V);for(const P of F.rows)for(const N of P)qe.walkTokens(N.tokens,V);break;case"list":qe.walkTokens(F.items,V);break;default:qe.defaults.extensions&&qe.defaults.extensions.childTokens&&qe.defaults.extensions.childTokens[F.type]?qe.defaults.extensions.childTokens[F.type].forEach(function(P){qe.walkTokens(F[P],V)}):F.tokens&&qe.walkTokens(F.tokens,V)}},qe.parseInline=function(ke,V){if(ke==null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof ke!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(ke)+", string expected");x(V=T({},qe.defaults,V||{}));try{const F=_e.lexInline(ke,V);return V.walkTokens&&qe.walkTokens(F,V.walkTokens),rt.parseInline(F,V)}catch(F){if(F.message+=`
Please report this to https://github.com/markedjs/marked.`,V.silent)return"<p>An error occurred:</p><pre>"+C(F.message+"",!0)+"</pre>";throw F}},qe.Parser=rt,qe.parser=rt.parse,qe.Renderer=Me,qe.TextRenderer=Qe,qe.Lexer=_e,qe.lexer=_e.lex,qe.Tokenizer=W,qe.Slugger=ut,qe.parse=qe,qe.options,qe.setOptions,qe.use,qe.walkTokens,qe.parseInline,rt.parse,_e.lex;function et(ke,V){return Array(V+1).join(ke)}qe.use({tokenizer:{autolink:()=>null,url:()=>null},renderer:{checkbox(...ke){return Object.getPrototypeOf(this).checkbox.call(this,...ke).trimRight()},code(...ke){return Object.getPrototypeOf(this).code.call(this,...ke).replace(`
</code>`,"</code>")}}});var Bt=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"];function Nt(ke){return Bt.indexOf(ke.nodeName.toLowerCase())!==-1}var xt=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function tt(ke){return xt.indexOf(ke.nodeName.toLowerCase())!==-1}var Dt=xt.join(),ye={};function Se(ke){for(var V in this.options=ke,this._keep=[],this._remove=[],this.blankRule={replacement:ke.blankReplacement},this.keepReplacement=ke.keepReplacement,this.defaultRule={replacement:ke.defaultReplacement},this.array=[],ke.rules)this.array.push(ke.rules[V])}function Ke(ke,V,F){for(var P=0;P<ke.length;P++){var N=ke[P];if(kt(N,V,F))return N}}function kt(ke,V,F){var P=ke.filter;if(typeof P=="string"){if(P===V.nodeName.toLowerCase())return!0}else if(Array.isArray(P)){if(P.indexOf(V.nodeName.toLowerCase())>-1)return!0}else{if(typeof P!="function")throw new TypeError("`filter` needs to be a string, array, or function");if(P.call(ke,V,F))return!0}}function Lt(ke){var V=ke.nextSibling||ke.parentNode;return ke.parentNode.removeChild(ke),V}function Gt(ke,V,F){return ke&&ke.parentNode===V||F(V)?V.nextSibling||V.parentNode:V.firstChild||V.nextSibling||V.parentNode}ye.paragraph={filter:"p",replacement:function(ke){return`

`+ke+`

`}},ye.lineBreak={filter:"br",replacement:function(ke,V,F){return F.br+`
`}},ye.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(ke,V,F){var P=Number(V.nodeName.charAt(1));return F.headingStyle==="setext"&&P<3?`

`+ke+`
`+et(P===1?"=":"-",ke.length)+`

`:`

`+et("#",P)+" "+ke+`

`}},ye.blockquote={filter:"blockquote",replacement:function(ke){return`

`+(ke=(ke=ke.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+`

`}},ye.list={filter:["ul","ol"],replacement:function(ke,V){var F=V.parentNode;return F.nodeName==="LI"&&F.lastElementChild===V?`
`+ke:`

`+ke+`

`}},ye.listItem={filter:"li",replacement:function(ke,V,F){ke=ke.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var P=F.bulletListMarker+"   ",N=V.parentNode;if(N.nodeName==="OL"){var de=N.getAttribute("start"),Ce=Array.prototype.indexOf.call(N.children,V);P=(de?Number(de)+Ce:Ce+1)+".  "}return P+ke+(V.nextSibling&&!/\n$/.test(ke)?`
`:"")}},ye.indentedCodeBlock={filter:function(ke,V){return V.codeBlockStyle==="indented"&&ke.nodeName==="PRE"&&ke.firstChild&&ke.firstChild.nodeName==="CODE"},replacement:function(ke,V,F){return`

    `+V.firstChild.textContent.replace(/\n/g,`
    `)+`

`}},ye.fencedCodeBlock={filter:function(ke,V){return V.codeBlockStyle==="fenced"&&ke.nodeName==="PRE"&&ke.firstChild&&ke.firstChild.nodeName==="CODE"},replacement:function(ke,V,F){for(var P,N=((V.firstChild.className||"").match(/language-(\S+)/)||[null,""])[1],de=V.firstChild.textContent,Ce=F.fence.charAt(0),Ze=3,st=new RegExp("^"+Ce+"{3,}","gm");P=st.exec(de);)P[0].length>=Ze&&(Ze=P[0].length+1);var Ct=et(Ce,Ze);return`

`+Ct+N+`
`+de.replace(/\n$/,"")+`
`+Ct+`

`}},ye.horizontalRule={filter:"hr",replacement:function(ke,V,F){return`

`+F.hr+`

`}},ye.inlineLink={filter:function(ke,V){return V.linkStyle==="inlined"&&ke.nodeName==="A"&&ke.getAttribute("href")},replacement:function(ke,V){return"["+ke+"]("+V.getAttribute("href")+(V.title?' "'+V.title+'"':"")+")"}},ye.referenceLink={filter:function(ke,V){return V.linkStyle==="referenced"&&ke.nodeName==="A"&&ke.getAttribute("href")},replacement:function(ke,V,F){var P,N,de=V.getAttribute("href"),Ce=V.title?' "'+V.title+'"':"";switch(F.linkReferenceStyle){case"collapsed":P="["+ke+"][]",N="["+ke+"]: "+de+Ce;break;case"shortcut":P="["+ke+"]",N="["+ke+"]: "+de+Ce;break;default:var Ze=this.references.length+1;P="["+ke+"]["+Ze+"]",N="["+Ze+"]: "+de+Ce}return this.references.push(N),P},references:[],append:function(ke){var V="";return this.references.length&&(V=`

`+this.references.join(`
`)+`

`,this.references=[]),V}},ye.emphasis={filter:["em","i"],replacement:function(ke,V,F){return ke.trim()?F.emDelimiter+ke+F.emDelimiter:""}},ye.strong={filter:["strong","b"],replacement:function(ke,V,F){return ke.trim()?F.strongDelimiter+ke+F.strongDelimiter:""}},ye.code={filter:function(ke){var V=ke.previousSibling||ke.nextSibling,F=ke.parentNode.nodeName==="PRE"&&!V;return ke.nodeName==="CODE"&&!F},replacement:function(ke){if(!ke.trim())return"";var V="`",F="",P="",N=ke.match(/`+/gm);if(N)for(/^`/.test(ke)&&(F=" "),/`$/.test(ke)&&(P=" ");N.indexOf(V)!==-1;)V+="`";return V+F+ke+P+V}},ye.image={filter:"img",replacement:function(ke,V){var F=V.alt||"",P=V.getAttribute("src")||"",N=V.title||"";return P?"!["+F+"]("+P+(N?' "'+N+'"':"")+")":""}},Se.prototype={add:function(ke,V){this.array.unshift(V)},keep:function(ke){this._keep.unshift({filter:ke,replacement:this.keepReplacement})},remove:function(ke){this._remove.unshift({filter:ke,replacement:function(){return""}})},forNode:function(ke){return ke.isBlank?this.blankRule:(V=Ke(this.array,ke,this.options))||(V=Ke(this._keep,ke,this.options))||(V=Ke(this._remove,ke,this.options))?V:this.defaultRule;var V},forEach:function(ke){for(var V=0;V<this.array.length;V++)ke(this.array[V],V)}};var $t=typeof window<"u"?window:{},ft,Yt=function(){var ke=$t.DOMParser,V=!1;try{new ke().parseFromString("","text/html")&&(V=!0)}catch{}return V}()?$t.DOMParser:function(){var ke=function(){},V=re(915).JSDOM;return ke.prototype.parseFromString=function(F){return new V(F).window.document},ke}();function _t(ke){var V;return typeof ke=="string"?V=(ft=ft||new Yt).parseFromString('<x-turndown id="turndown-root">'+ke+"</x-turndown>","text/html").getElementById("turndown-root"):V=ke.cloneNode(!0),function(F){var P=F.element,N=F.isBlock,de=F.isVoid,Ce=F.isPre||function(yi){return yi.nodeName==="PRE"};if(P.firstChild&&!Ce(P)){for(var Ze=null,st=!1,Ct=null,Ge=Gt(Ct,P,Ce);Ge!==P;){if(Ge.nodeType===3||Ge.nodeType===4){var Ft=Ge.data.replace(/[ \r\n\t]+/g," ");if(Ze&&!/ $/.test(Ze.data)||st||Ft[0]!==" "||(Ft=Ft.substr(1)),!Ft){Ge=Lt(Ge);continue}Ge.data=Ft,Ze=Ge}else{if(Ge.nodeType!==1){Ge=Lt(Ge);continue}N(Ge)||Ge.nodeName==="BR"?(Ze&&(Ze.data=Ze.data.replace(/ $/,"")),Ze=null,st=!1):de(Ge)&&(Ze=null,st=!0)}var ci=Gt(Ct,Ge,Ce);Ct=Ge,Ge=ci}Ze&&(Ze.data=Ze.data.replace(/ $/,""),Ze.data||Lt(Ze))}}({element:V,isBlock:Nt,isVoid:tt}),V}function ri(ke){return ke.isBlock=Nt(ke),ke.isCode=ke.nodeName.toLowerCase()==="code"||ke.parentNode.isCode,ke.isBlank=function(V){return["A","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"].indexOf(V.nodeName)===-1&&/^\s*$/i.test(V.textContent)&&!tt(V)&&!function(F){return F.querySelector&&F.querySelector(Dt)}(V)}(ke),ke.flankingWhitespace=function(V){var F="",P="";if(!V.isBlock){var N=/^\s/.test(V.textContent),de=/\s$/.test(V.textContent),Ce=V.isBlank&&N&&de;N&&!ui("left",V)&&(F=" "),Ce||!de||ui("right",V)||(P=" ")}return{leading:F,trailing:P}}(ke),ke}function ui(ke,V){var F,P,N;return ke==="left"?(F=V.previousSibling,P=/ $/):(F=V.nextSibling,P=/^ /),F&&(F.nodeType===3?N=P.test(F.nodeValue):F.nodeType!==1||Nt(F)||(N=P.test(F.textContent))),N}var Ai=Array.prototype.reduce,bt=/^\n*/,be=/\n*$/,Ne=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function $e(ke){if(!(this instanceof $e))return new $e(ke);var V={rules:ye,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",blankReplacement:function(F,P){return P.isBlock?`

`:""},keepReplacement:function(F,P){return P.isBlock?`

`+P.outerHTML+`

`:P.outerHTML},defaultReplacement:function(F,P){return P.isBlock?`

`+F+`

`:F}};this.options=function(F){for(var P=1;P<arguments.length;P++){var N=arguments[P];for(var de in N)N.hasOwnProperty(de)&&(F[de]=N[de])}return F}({},V,ke),this.rules=new Se(this.options)}function gt(ke){var V=this;return Ai.call(ke.childNodes,function(F,P){var N="";return(P=new ri(P)).nodeType===3?N=P.isCode?P.nodeValue:V.escape(P.nodeValue):P.nodeType===1&&(N=Et.call(V,P)),Xt(F,N)},"")}function Tt(ke){var V=this;return this.rules.forEach(function(F){typeof F.append=="function"&&(ke=Xt(ke,F.append(V.options)))}),ke.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function Et(ke){var V=this.rules.forNode(ke),F=gt.call(this,ke),P=ke.flankingWhitespace;return(P.leading||P.trailing)&&(F=F.trim()),P.leading+V.replacement(F,ke,this.options)+P.trailing}function Xt(ke,V){var F,P,N,de=(F=V,P=[ke.match(be)[0],F.match(bt)[0]].sort(),(N=P[P.length-1]).length<2?N:`

`);return(ke=ke.replace(be,""))+de+(V=V.replace(bt,""))}$e.prototype={turndown:function(ke){if(!function(F){return F!=null&&(typeof F=="string"||F.nodeType&&(F.nodeType===1||F.nodeType===9||F.nodeType===11))}(ke))throw new TypeError(ke+" is not a string, or an element/document/fragment node.");if(ke==="")return"";var V=gt.call(this,new _t(ke));return Tt.call(this,V)},use:function(ke){if(Array.isArray(ke))for(var V=0;V<ke.length;V++)this.use(ke[V]);else{if(typeof ke!="function")throw new TypeError("plugin must be a Function or an Array of Functions");ke(this)}return this},addRule:function(ke,V){return this.rules.add(ke,V),this},keep:function(ke){return this.rules.keep(ke),this},remove:function(ke){return this.rules.remove(ke),this},escape:function(ke){return Ne.reduce(function(V,F){return V.replace(F[0],F[1])},ke)}};const Ut=$e;var ni=/highlight-(?:text|source)-([a-z0-9]+)/;function wi(ke){ke.addRule("highlightedCodeBlock",{filter:function(V){var F=V.firstChild;return V.nodeName==="DIV"&&ni.test(V.className)&&F&&F.nodeName==="PRE"},replacement:function(V,F,P){var N=((F.className||"").match(ni)||[null,""])[1];return`

`+P.fence+N+`
`+F.firstChild.textContent+`
`+P.fence+`

`}})}function gi(ke){ke.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(V){return"~"+V+"~"}})}var Ti=Array.prototype.indexOf,Rt=Array.prototype.every,Ii={};function Mi(ke){var V,F,P=ke.parentNode;return P.nodeName==="THEAD"||P.firstChild===ke&&(P.nodeName==="TABLE"||(F=(V=P).previousSibling,V.nodeName==="TBODY"&&(!F||F.nodeName==="THEAD"&&/^\s*$/i.test(F.textContent))))&&Rt.call(ke.childNodes,function(N){return N.nodeName==="TH"})}function Qi(ke,V){var F=" ";return Ti.call(V.parentNode.childNodes,V)===0&&(F="| "),F+ke+" |"}function Fi(ke){for(var V in ke.keep(function(F){return F.nodeName==="TABLE"&&!Mi(F.rows[0])}),Ii)ke.addRule(V,Ii[V])}function Vi(ke){ke.addRule("taskListItems",{filter:function(V){return V.type==="checkbox"&&V.parentNode.nodeName==="LI"},replacement:function(V,F){return(F.checked?"[x]":"[ ]")+" "}})}Ii.tableCell={filter:["th","td"],replacement:function(ke,V){return Qi(ke,V)}},Ii.tableRow={filter:"tr",replacement:function(ke,V){var F="",P={left:":--",right:"--:",center:":-:"};if(Mi(V))for(var N=0;N<V.childNodes.length;N++){var de="---",Ce=(V.childNodes[N].getAttribute("align")||"").toLowerCase();Ce&&(de=P[Ce]||de),F+=Qi(de,V.childNodes[N])}return`
`+ke+(F?`
`+F:"")}},Ii.table={filter:function(ke){return ke.nodeName==="TABLE"&&Mi(ke.rows[0])},replacement:function(ke){return`

`+(ke=ke.replace(`

`,`
`))+`

`}},Ii.tableSection={filter:["thead","tbody","tfoot"],replacement:function(ke){return ke}};const Ji=Ut.prototype.escape;function cn(ke){return ke=(ke=Ji(ke)).replace(/</g,"\\<")}Ut.prototype.escape=function(ke){let V="",F=0;for(const P of function*(N){for(const de of N.matchAll(pn)){const Ce=de[0],Ze=fi(Ce);yield Object.assign([Ce.substring(0,Ze)],{index:de.index})}}(ke)){const N=P.index;N>F&&(V+=cn(ke.substring(F,N)));const de=P[0];V+=de,F=N+de.length}return F<ke.length&&(V+=cn(ke.substring(F,ke.length))),V};const Ri=new Ut({codeBlockStyle:"fenced",hr:"---",headingStyle:"atx"});Ri.use([function(ke){ke.use([wi,gi,Fi,Vi])},function(ke){ke.addRule("taskListItems",{filter:V=>V.type==="checkbox"&&(V.parentNode.nodeName==="LI"||V.parentNode.parentNode.nodeName==="LI"),replacement:(V,F)=>(F.checked?"[x]":"[ ]")+" "})}]);const pn=new RegExp(/\b(?:(?:https?|ftp):\/\/|www\.)/.source+/(?![-_])(?:[-_a-z0-9\u00a1-\uffff]{1,63}\.)+(?:[a-z\u00a1-\uffff]{2,63})/.source+/(?:[^\s<>]*)/.source,"gi");function fi(ke){let V=ke.length;for(;V>0;){const F=ke[V-1];if(`?!.,:*_~'"`.includes(F))V--;else{if(F!=")")break;{let P=0;for(let N=0;N<V;N++)ke[N]=="("?P++:ke[N]==")"&&P--;if(!(P<0))break;V--}}}return V}class pi{constructor(V){this._htmlDP=new E.HtmlDataProcessor(V)}keepHtml(V){Ri.keep([V])}toView(V){const F=(P=V,qe.parse(P,{gfm:!0,breaks:!0,tables:!0,xhtml:!0,headerIds:!1}));var P;return this._htmlDP.toView(F)}toData(V){return function(F){return Ri.turndown(F)}(this._htmlDP.toData(V))}registerRawContentMatcher(V){this._htmlDP.registerRawContentMatcher(V)}useFillerType(){}}class qi extends m.Plugin{constructor(V){super(V),V.data.processor=new pi(V.data.viewDocument)}static get pluginName(){return"Markdown"}}})(),(window.CKEditor5=window.CKEditor5||{}).markdownGfm=ii})()},56961:()=>{(function(ti){const Kt=ti.en=ti.en||{};Kt.dictionary=Object.assign(Kt.dictionary||{},{"Insert media":"Insert media","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget","Open media in new tab":"Open media in new tab","Paste the media URL in the input.":"Paste the media URL in the input.","The URL must not be empty.":"The URL must not be empty.","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster."})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var ti={461:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}",""]);const a=_},721:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',""]);const a=_},961:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}",""]);const a=_},764:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const a=_},609:m=>{"use strict";m.exports=function(E){var y=[];return y.toString=function(){return this.map(function(f){var _=E(f);return f[2]?"@media ".concat(f[2]," {").concat(_,"}"):_}).join("")},y.i=function(f,_,a){typeof f=="string"&&(f=[[null,f,""]]);var d={};if(a)for(var S=0;S<this.length;S++){var U=this[S][0];U!=null&&(d[U]=!0)}for(var I=0;I<f.length;I++){var C=[].concat(f[I]);a&&d[C[0]]||(_&&(C[2]?C[2]="".concat(_," and ").concat(C[2]):C[2]=_),y.push(C))}},y}},62:(m,E,y)=>{"use strict";var f,_=function(){return f===void 0&&(f=Boolean(window&&document&&document.all&&!window.atob)),f},a=function(){var h={};return function(g){if(h[g]===void 0){var r=document.querySelector(g);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch{r=null}h[g]=r}return h[g]}}(),d=[];function S(h){for(var g=-1,r=0;r<d.length;r++)if(d[r].identifier===h){g=r;break}return g}function U(h,g){for(var r={},u=[],w=0;w<h.length;w++){var v=h[w],T=g.base?v[0]+g.base:v[0],z=r[T]||0,L="".concat(T," ").concat(z);r[T]=z+1;var x=S(L),c={css:v[1],media:v[2],sourceMap:v[3]};x!==-1?(d[x].references++,d[x].updater(c)):d.push({identifier:L,updater:Z(c,g),references:1}),u.push(L)}return u}function I(h){var g=document.createElement("style"),r=h.attributes||{};if(r.nonce===void 0){var u=y.nc;u&&(r.nonce=u)}if(Object.keys(r).forEach(function(v){g.setAttribute(v,r[v])}),typeof h.insert=="function")h.insert(g);else{var w=a(h.insert||"head");if(!w)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");w.appendChild(g)}return g}var C,ge=(C=[],function(h,g){return C[h]=g,C.filter(Boolean).join(`
`)});function pe(h,g,r,u){var w=r?"":u.media?"@media ".concat(u.media," {").concat(u.css,"}"):u.css;if(h.styleSheet)h.styleSheet.cssText=ge(g,w);else{var v=document.createTextNode(w),T=h.childNodes;T[g]&&h.removeChild(T[g]),T.length?h.insertBefore(v,T[g]):h.appendChild(v)}}function me(h,g,r){var u=r.css,w=r.media,v=r.sourceMap;if(w?h.setAttribute("media",w):h.removeAttribute("media"),v&&typeof btoa<"u"&&(u+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(v))))," */")),h.styleSheet)h.styleSheet.cssText=u;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(u))}}var J=null,ee=0;function Z(h,g){var r,u,w;if(g.singleton){var v=ee++;r=J||(J=I(g)),u=pe.bind(null,r,v,!1),w=pe.bind(null,r,v,!0)}else r=I(g),u=me.bind(null,r,g),w=function(){(function(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T)})(r)};return u(h),function(T){if(T){if(T.css===h.css&&T.media===h.media&&T.sourceMap===h.sourceMap)return;u(h=T)}else w()}}m.exports=function(h,g){(g=g||{}).singleton||typeof g.singleton=="boolean"||(g.singleton=_());var r=U(h=h||[],g);return function(u){if(u=u||[],Object.prototype.toString.call(u)==="[object Array]"){for(var w=0;w<r.length;w++){var v=S(r[w]);d[v].references--}for(var T=U(u,g),z=0;z<r.length;z++){var L=S(r[z]);d[L].references===0&&(d[L].updater(),d.splice(L,1))}r=T}}}},945:(m,E,y)=>{m.exports=y(79)("./src/clipboard.js")},704:(m,E,y)=>{m.exports=y(79)("./src/core.js")},492:(m,E,y)=>{m.exports=y(79)("./src/engine.js")},181:(m,E,y)=>{m.exports=y(79)("./src/typing.js")},273:(m,E,y)=>{m.exports=y(79)("./src/ui.js")},254:(m,E,y)=>{m.exports=y(79)("./src/undo.js")},209:(m,E,y)=>{m.exports=y(79)("./src/utils.js")},995:(m,E,y)=>{m.exports=y(79)("./src/widget.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},Kt={};function re(m){var E=Kt[m];if(E!==void 0)return E.exports;var y=Kt[m]={id:m,exports:{}};return ti[m](y,y.exports,re),y.exports}re.n=m=>{var E=m&&m.__esModule?()=>m.default:()=>m;return re.d(E,{a:E}),E},re.d=(m,E)=>{for(var y in E)re.o(E,y)&&!re.o(m,y)&&Object.defineProperty(m,y,{enumerable:!0,get:E[y]})},re.o=(m,E)=>Object.prototype.hasOwnProperty.call(m,E),re.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},re.nc=void 0;var ii={};(()=>{"use strict";re.r(ii),re.d(ii,{AutoMediaEmbed:()=>v,MediaEmbed:()=>ae,MediaEmbedEditing:()=>Z,MediaEmbedToolbar:()=>Ie,MediaEmbedUI:()=>D});var m=re(704),E=re(995),y=re(209);function f(Ve,_e){return Qe=>{Qe.on("attribute:url:media",Me)};function Me(Qe,ut,rt){if(!rt.consumable.consume(ut.item,Qe.name))return;const qe=ut.attributeNewValue,et=rt.writer,Bt=rt.mapper.toViewElement(ut.item),Nt=[...Bt.getChildren()].find(tt=>tt.getCustomProperty("media-content"));et.remove(Nt);const xt=Ve.getMediaViewElement(et,qe,_e);et.insert(et.createPositionAt(Bt,0),xt)}}function _(Ve){const _e=Ve.getSelectedElement();return _e&&function(Me){return!!Me.getCustomProperty("media")&&(0,E.isWidget)(Me)}(_e)?_e:null}function a(Ve,_e,Me,Qe){return Ve.createContainerElement("figure",{class:"media"},[_e.getMediaViewElement(Ve,Me,Qe),Ve.createSlot()])}function d(Ve){const _e=Ve.getSelectedElement();return _e&&_e.is("element","media")?_e:null}function S(Ve,_e,Me,Qe){Ve.change(ut=>{const rt=ut.createElement("media",{url:_e});Ve.insertObject(rt,Me,null,{setSelection:"on",findOptimalPosition:Qe})})}class U extends m.Command{refresh(){const _e=this.editor.model,Me=_e.document.selection,Qe=d(Me);this.value=Qe?Qe.getAttribute("url"):null,this.isEnabled=function(ut){const rt=ut.getSelectedElement();return!!rt&&rt.name==="media"}(Me)||function(ut,rt){let et=(0,E.findOptimalInsertionRange)(ut,rt).start.parent;return et.isEmpty&&!rt.schema.isLimit(et)&&(et=et.parent),rt.schema.checkChild(et,"media")}(Me,_e)}execute(_e){const Me=this.editor.model,Qe=Me.document.selection,ut=d(Qe);ut?Me.change(rt=>{rt.setAttribute("url",_e,ut)}):S(Me,_e,Qe,!0)}}var I=re(273);class C{constructor(_e,Me){const Qe=Me.providers,ut=Me.extraProviders||[],rt=new Set(Me.removeProviders),qe=Qe.concat(ut).filter(et=>{const Bt=et.name;return Bt?!rt.has(Bt):((0,y.logWarning)("media-embed-no-provider-name",{provider:et}),!1)});this.locale=_e,this.providerDefinitions=qe}hasMedia(_e){return!!this._getMedia(_e)}getMediaViewElement(_e,Me,Qe){return this._getMedia(Me).getViewElement(_e,Qe)}_getMedia(_e){if(!_e)return new ge(this.locale);_e=_e.trim();for(const Me of this.providerDefinitions){const Qe=Me.html,ut=(0,y.toArray)(Me.url);for(const rt of ut){const qe=this._getUrlMatches(_e,rt);if(qe)return new ge(this.locale,_e,qe,Qe)}}return null}_getUrlMatches(_e,Me){let Qe=_e.match(Me);if(Qe)return Qe;let ut=_e.replace(/^https?:\/\//,"");return Qe=ut.match(Me),Qe||(ut=ut.replace(/^www\./,""),Qe=ut.match(Me),Qe||null)}}class ge{constructor(_e,Me,Qe,ut){this.url=this._getValidUrl(Me),this._locale=_e,this._match=Qe,this._previewRenderer=ut}getViewElement(_e,Me){const Qe={};let ut;if(Me.renderForEditingView||Me.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(Qe["data-oembed-url"]=this.url),Me.renderForEditingView&&(Qe.class="ck-media__wrapper");const rt=this._getPreviewHtml(Me);ut=_e.createRawElement("div",Qe,(qe,et)=>{et.setContentOf(qe,rt)})}else this.url&&(Qe.url=this.url),ut=_e.createEmptyElement(Me.elementName,Qe);return _e.setCustomProperty("media-content",!0,ut),ut}_getPreviewHtml(_e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&_e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const _e=new I.IconView,Me=this._locale.t;return _e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',_e.viewBox="0 0 64 42",new I.Template({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[_e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":Me("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(_e){return _e?_e.match(/^https?/)?_e:"https://"+_e:null}}var pe=re(62),me=re.n(pe),J=re(721),ee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(J.Z,ee),J.Z.locals;class Z extends m.Plugin{static get pluginName(){return"MediaEmbedEditing"}constructor(_e){super(_e),_e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:Me=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${Me[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:Me=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${Me[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:Me=>{const Qe=Me[1],ut=Me[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${Qe}${ut?`?start=${ut}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:Me=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${Me[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new C(_e.locale,_e.config.get("mediaEmbed"))}init(){const _e=this.editor,Me=_e.model.schema,Qe=_e.t,ut=_e.conversion,rt=_e.config.get("mediaEmbed.previewsInData"),qe=_e.config.get("mediaEmbed.elementName"),et=this.registry;_e.commands.add("mediaEmbed",new U(_e)),Me.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),ut.for("dataDowncast").elementToStructure({model:"media",view:(Bt,{writer:Nt})=>{const xt=Bt.getAttribute("url");return a(Nt,et,xt,{elementName:qe,renderMediaPreview:xt&&rt})}}),ut.for("dataDowncast").add(f(et,{elementName:qe,renderMediaPreview:rt})),ut.for("editingDowncast").elementToStructure({model:"media",view:(Bt,{writer:Nt})=>{const xt=Bt.getAttribute("url");return function(tt,Dt,ye){return Dt.setCustomProperty("media",!0,tt),(0,E.toWidget)(tt,Dt,{label:ye})}(a(Nt,et,xt,{elementName:qe,renderForEditingView:!0}),Nt,Qe("media widget"))}}),ut.for("editingDowncast").add(f(et,{elementName:qe,renderForEditingView:!0})),ut.for("upcast").elementToElement({view:Bt=>["oembed",qe].includes(Bt.name)&&Bt.getAttribute("url")?{name:!0}:null,model:(Bt,{writer:Nt})=>{const xt=Bt.getAttribute("url");if(et.hasMedia(xt))return Nt.createElement("media",{url:xt})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(Bt,{writer:Nt})=>{const xt=Bt.getAttribute("data-oembed-url");if(et.hasMedia(xt))return Nt.createElement("media",{url:xt})}}).add(Bt=>{Bt.on("element:figure",function(Nt,xt,tt){if(!tt.consumable.consume(xt.viewItem,{name:!0,classes:"media"}))return;const{modelRange:Dt,modelCursor:ye}=tt.convertChildren(xt.viewItem,xt.modelCursor);xt.modelRange=Dt,xt.modelCursor=ye,(0,y.first)(Dt.getItems())||tt.consumable.revert(xt.viewItem,{name:!0,classes:"media"})})})}}var h=re(492),g=re(945),r=re(181),u=re(254);const w=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class v extends m.Plugin{static get requires(){return[g.Clipboard,r.Delete,u.Undo]}static get pluginName(){return"AutoMediaEmbed"}constructor(_e){super(_e),this._timeoutId=null,this._positionToInsert=null}init(){const _e=this.editor,Me=_e.model.document;this.listenTo(_e.plugins.get("ClipboardPipeline"),"inputTransformation",()=>{const Qe=Me.selection.getFirstRange(),ut=h.LivePosition.fromPosition(Qe.start);ut.stickiness="toPrevious";const rt=h.LivePosition.fromPosition(Qe.end);rt.stickiness="toNext",Me.once("change:data",()=>{this._embedMediaBetweenPositions(ut,rt),ut.detach(),rt.detach()},{priority:"high"})}),_e.commands.get("undo").on("execute",()=>{this._timeoutId&&(y.global.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(_e,Me){const Qe=this.editor,ut=Qe.plugins.get(Z).registry,rt=new h.LiveRange(_e,Me),qe=rt.getWalker({ignoreElementEnd:!0});let et="";for(const Bt of qe)Bt.item.is("$textProxy")&&(et+=Bt.item.data);if(et=et.trim(),!et.match(w)||!ut.hasMedia(et))return void rt.detach();Qe.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=h.LivePosition.fromPosition(_e),this._timeoutId=y.global.window.setTimeout(()=>{Qe.model.change(Bt=>{let Nt;this._timeoutId=null,Bt.remove(rt),rt.detach(),this._positionToInsert.root.rootName!=="$graveyard"&&(Nt=this._positionToInsert),S(Qe.model,et,Nt,!1),this._positionToInsert.detach(),this._positionToInsert=null}),Qe.plugins.get("Delete").requestUndoOnBackspace()},100)):rt.detach()}}var T=re(764),z={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(T.Z,z),T.Z.locals;var L=re(961),x={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(L.Z,x),L.Z.locals;class c extends I.View{constructor(_e,Me){super(Me);const Qe=Me.t;this.focusTracker=new y.FocusTracker,this.keystrokes=new y.KeystrokeHandler,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(Qe("Save"),m.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",ut=>!!ut),this.cancelButtonView=this._createButton(Qe("Cancel"),m.icons.cancel,"ck-button-cancel","cancel"),this._focusables=new I.ViewCollection,this._focusCycler=new I.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=_e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]}),(0,I.injectCssTransitionDisabler)(this)}render(){super.render(),(0,I.submitHandler)({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(Me=>{this._focusables.add(Me),this.focusTracker.add(Me.element)}),this.keystrokes.listenTo(this.element);const _e=Me=>Me.stopPropagation();this.keystrokes.set("arrowright",_e),this.keystrokes.set("arrowleft",_e),this.keystrokes.set("arrowup",_e),this.keystrokes.set("arrowdown",_e),this.listenTo(this.urlInputView.element,"selectstart",(Me,Qe)=>{Qe.stopPropagation()},{priority:"high"})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(_e){this.urlInputView.fieldView.element.value=_e.trim()}isValid(){this.resetFormStatus();for(const _e of this._validators){const Me=_e(this);if(Me)return this.urlInputView.errorText=Me,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const _e=this.locale.t,Me=new I.LabeledFieldView(this.locale,I.createLabeledInputText),Qe=Me.fieldView;return this._urlInputViewInfoDefault=_e("Paste the media URL in the input."),this._urlInputViewInfoTip=_e("Tip: Paste the URL into the content to embed faster."),Me.label=_e("Media URL"),Me.infoText=this._urlInputViewInfoDefault,Qe.on("input",()=>{Me.infoText=Qe.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=Qe.element.value.trim()}),Me}_createButton(_e,Me,Qe,ut){const rt=new I.ButtonView(this.locale);return rt.set({label:_e,icon:Me,tooltip:!0}),rt.extendTemplate({attributes:{class:Qe}}),ut&&rt.delegate("execute").to(this,ut),rt}}class D extends m.Plugin{static get requires(){return[Z]}static get pluginName(){return"MediaEmbedUI"}init(){const _e=this.editor,Me=_e.commands.get("mediaEmbed");_e.ui.componentFactory.add("mediaEmbed",Qe=>{const ut=(0,I.createDropdown)(Qe);return this._setUpDropdown(ut,Me),ut})}_setUpDropdown(_e,Me){const Qe=this.editor,ut=Qe.t,rt=_e.buttonView,qe=Qe.plugins.get(Z).registry;_e.once("change:isOpen",()=>{const et=new c(function(Bt,Nt){return[xt=>{if(!xt.url.length)return Bt("The URL must not be empty.")},xt=>{if(!Nt.hasMedia(xt.url))return Bt("This media URL is not supported.")}]}(Qe.t,qe),Qe.locale);_e.panelView.children.add(et),rt.on("open",()=>{et.disableCssTransitions(),et.url=Me.value||"",et.urlInputView.fieldView.select(),et.enableCssTransitions()},{priority:"low"}),_e.on("submit",()=>{et.isValid()&&(Qe.execute("mediaEmbed",et.url),Qe.editing.view.focus())}),_e.on("change:isOpen",()=>et.resetFormStatus()),_e.on("cancel",()=>{Qe.editing.view.focus()}),et.delegate("submit","cancel").to(_e),et.urlInputView.bind("value").to(Me,"value"),et.urlInputView.bind("isReadOnly").to(Me,"isEnabled",Bt=>!Bt)}),_e.bind("isEnabled").to(Me),rt.set({label:ut("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var W=re(461),q={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(W.Z,q),W.Z.locals;class ae extends m.Plugin{static get requires(){return[Z,D,v,E.Widget]}static get pluginName(){return"MediaEmbed"}}class Ie extends m.Plugin{static get requires(){return[E.WidgetToolbarRepository]}static get pluginName(){return"MediaEmbedToolbar"}afterInit(){const _e=this.editor,Me=_e.t;_e.plugins.get(E.WidgetToolbarRepository).register("mediaEmbed",{ariaLabel:Me("Media toolbar"),items:_e.config.get("mediaEmbed.toolbar")||[],getRelatedElement:_})}}})(),(window.CKEditor5=window.CKEditor5||{}).mediaEmbed=ii})()},96461:()=>{/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var ti={945:(m,E,y)=>{m.exports=y(79)("./src/clipboard.js")},704:(m,E,y)=>{m.exports=y(79)("./src/core.js")},492:(m,E,y)=>{m.exports=y(79)("./src/engine.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},Kt={};function re(m){var E=Kt[m];if(E!==void 0)return E.exports;var y=Kt[m]={exports:{}};return ti[m](y,y.exports,re),y.exports}re.d=(m,E)=>{for(var y in E)re.o(E,y)&&!re.o(m,y)&&Object.defineProperty(m,y,{enumerable:!0,get:E[y]})},re.o=(m,E)=>Object.prototype.hasOwnProperty.call(m,E),re.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})};var ii={};(()=>{"use strict";re.r(ii),re.d(ii,{PasteFromOffice:()=>g});var m=re(704),E=re(945),y=re(492);function f(r,u,w,{blockElements:v,inlineObjectElements:T}){let z=w.createPositionAt(r,u=="forward"?"after":"before");return z=z.getLastMatchingPosition(({item:L})=>L.is("element")&&!v.includes(L.name)&&!T.includes(L.name),{direction:u}),u=="forward"?z.nodeAfter:z.nodeBefore}function _(r,u){return!!r&&r.is("element")&&u.includes(r.name)}function a(r,u){if(!r.childCount)return;const w=new y.UpcastWriter(r.document),v=function(L,x){const c=x.createRangeIn(L),D=new y.Matcher({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),W=[];for(const q of c)if(q.type==="elementStart"&&D.match(q.item)){const ae=U(q.item);W.push({element:q.item,id:ae.id,order:ae.order,indent:ae.indent})}return W}(r,w);if(!v.length)return;let T=null,z=1;v.forEach((L,x)=>{const c=function(Ve,_e){if(!Ve)return!0;if(Ve.id!==_e.id)return _e.indent-Ve.indent!=1;const Me=_e.element.previousSibling;if(!Me)return!0;return Qe=Me,!(Qe.is("element","ol")||Qe.is("element","ul"));var Qe}(v[x-1],L),D=c?null:v[x-1],W=(ae=L,(q=D)?ae.indent-q.indent:ae.indent-1);var q,ae;if(c&&(T=null,z=1),!T||W!==0){const Ve=function(_e,Me){const Qe=new RegExp(`@list l${_e.id}:level${_e.indent}\\s*({[^}]*)`,"gi"),ut=/mso-level-number-format:([^;]{0,100});/gi,rt=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,qe=Qe.exec(Me);let et="decimal",Bt="ol",Nt=null;if(qe&&qe[1]){const xt=ut.exec(qe[1]);if(xt&&xt[1]&&(et=xt[1].trim(),Bt=et!=="bullet"&&et!=="image"?"ol":"ul"),et==="bullet"){const tt=function(Dt){const ye=function(Ke){if(Ke.getChild(0).is("$text"))return null;for(const kt of Ke.getChildren()){if(!kt.is("element","span"))continue;const Lt=kt.getChild(0);return Lt.is("$text")?Lt:Lt.getChild(0)}return null}(Dt);if(!ye)return null;const Se=ye._data;return Se==="o"?"circle":Se==="\xB7"?"disc":Se==="\xA7"?"square":null}(_e.element);tt&&(et=tt)}else{const tt=rt.exec(qe[1]);tt&&tt[1]&&(Nt=parseInt(tt[1]))}}return{type:Bt,startIndex:Nt,style:d(et)}}(L,u);if(T){if(L.indent>z){const _e=T.getChild(T.childCount-1),Me=_e.getChild(_e.childCount-1);T=S(Ve,Me,w),z+=1}else if(L.indent<z){const _e=z-L.indent;T=function(Me,Qe){const ut=Me.getAncestors({parentFirst:!0});let rt=null,qe=0;for(const et of ut)if((et.is("element","ul")||et.is("element","ol"))&&qe++,qe===Qe){rt=et;break}return rt}(T,_e),z=L.indent}}else T=S(Ve,L.element,w);L.indent<=z&&(T.is("element",Ve.type)||(T=w.rename(Ve.type,T)))}const Ie=function(Ve,_e){return function(Me,Qe){const ut=new y.Matcher({name:"span",styles:{"mso-list":"Ignore"}}),rt=Qe.createRangeIn(Me);for(const qe of rt)qe.type==="elementStart"&&ut.match(qe.item)&&Qe.remove(qe.item)}(Ve,_e),_e.rename("li",Ve)}(L.element,w);w.appendChild(Ie,T)})}function d(r){if(r.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(r){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return r;default:return null}}function S(r,u,w){const v=u.parent,T=w.createElement(r.type),z=v.getChildIndex(u)+1;return w.insertChild(z,T,v),r.style&&w.setStyle("list-style-type",r.style,T),r.startIndex&&r.startIndex>1&&w.setAttribute("start",r.startIndex,T),T}function U(r){const u={},w=r.getStyle("mso-list");if(w){const v=w.match(/(^|\s{1,100})l(\d+)/i),T=w.match(/\s{0,100}lfo(\d+)/i),z=w.match(/\s{0,100}level(\d+)/i);v&&T&&z&&(u.id=v[2],u.order=T[1],u.indent=parseInt(z[1]))}return u}const I=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class C{constructor(u){this.document=u}isActive(u){return I.test(u)}execute(u){const w=new y.UpcastWriter(this.document),{body:v}=u._parsedData;(function(T,z){for(const L of T.getChildren())if(L.is("element","b")&&L.getStyle("font-weight")==="normal"){const x=T.getChildIndex(L);z.remove(L),z.insertChild(x,L.getChildren(),T)}})(v,w),function(T,z){for(const L of z.createRangeIn(T)){const x=L.item;if(x.is("element","li")){const c=x.getChild(0);c&&c.is("element","p")&&z.unwrapElement(c)}}}(v,w),function(T,z){const L=new y.ViewDocument(z.document.stylesProcessor),x=new y.DomConverter(L,{renderingMode:"data"}),c=x.blockElements,D=x.inlineObjectElements,W=[];for(const q of z.createRangeIn(T)){const ae=q.item;if(ae.is("element","br")){const Ie=f(ae,"forward",z,{blockElements:c,inlineObjectElements:D}),Ve=f(ae,"backward",z,{blockElements:c,inlineObjectElements:D}),_e=_(Ie,c);(_(Ve,c)||_e)&&W.push(ae)}}for(const q of W)q.hasClass("Apple-interchange-newline")?z.remove(q):z.replace(q,z.createElement("p"))}(v,w),u.content=v}}function ge(r,u){if(!r.childCount)return;const w=new y.UpcastWriter(r.document),v=function(z,L){const x=L.createRangeIn(z),c=new y.Matcher({name:/v:(.+)/}),D=[];for(const W of x){if(W.type!="elementStart")continue;const q=W.item,ae=q.previousSibling,Ie=ae&&ae.is("element")?ae.name:null;c.match(q)&&q.getAttribute("o:gfxdata")&&Ie!=="v:shapetype"&&D.push(W.item.getAttribute("id"))}return D}(r,w);(function(z,L,x){const c=x.createRangeIn(L),D=new y.Matcher({name:"img"}),W=[];for(const q of c)if(q.item.is("element")&&D.match(q.item)){const ae=q.item,Ie=ae.getAttribute("v:shapes")?ae.getAttribute("v:shapes").split(" "):[];Ie.length&&Ie.every(Ve=>z.indexOf(Ve)>-1)?W.push(ae):ae.getAttribute("src")||W.push(ae)}for(const q of W)x.remove(q)})(v,r,w),function(z,L,x){const c=x.createRangeIn(L),D=[];for(const ae of c)if(ae.type=="elementStart"&&ae.item.is("element","v:shape")){const Ie=ae.item.getAttribute("id");if(z.includes(Ie))continue;W(ae.item.parent.getChildren(),Ie)||D.push(ae.item)}for(const ae of D){const Ie={src:q(ae)};ae.hasAttribute("alt")&&(Ie.alt=ae.getAttribute("alt"));const Ve=x.createElement("img",Ie);x.insertChild(ae.index+1,Ve,ae.parent)}function W(ae,Ie){for(const Ve of ae)if(Ve.is("element")&&(Ve.name=="img"&&Ve.getAttribute("v:shapes")==Ie||W(Ve.getChildren(),Ie)))return!0;return!1}function q(ae){for(const Ie of ae.getChildren())if(Ie.is("element")&&Ie.getAttribute("src"))return Ie.getAttribute("src")}}(v,r,w),function(z,L){const x=L.createRangeIn(z),c=new y.Matcher({name:/v:(.+)/}),D=[];for(const W of x)W.type=="elementStart"&&c.match(W.item)&&D.push(W.item);for(const W of D)L.remove(W)}(r,w);const T=function(z,L){const x=L.createRangeIn(z),c=new y.Matcher({name:"img"}),D=[];for(const W of x)W.item.is("element")&&c.match(W.item)&&W.item.getAttribute("src").startsWith("file://")&&D.push(W.item);return D}(r,w);T.length&&function(z,L,x){if(z.length===L.length)for(let c=0;c<z.length;c++){const D=`data:${L[c].type};base64,${pe(L[c].hex)}`;x.setAttribute("src",D,z[c])}}(T,function(z){if(!z)return[];const L=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,x=new RegExp("(?:("+L.source+"))([\\da-fA-F\\s]+)\\}","g"),c=z.match(x),D=[];if(c)for(const W of c){let q=!1;W.includes("\\pngblip")?q="image/png":W.includes("\\jpegblip")&&(q="image/jpeg"),q&&D.push({hex:W.replace(L,"").replace(/[^\da-fA-F]/g,""),type:q})}return D}(u),w)}function pe(r){return btoa(r.match(/\w{2}/g).map(u=>String.fromCharCode(parseInt(u,16))).join(""))}const me=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,J=/xmlns:o="urn:schemas-microsoft-com/i;class ee{constructor(u){this.document=u}isActive(u){return me.test(u)||J.test(u)}execute(u){const{body:w,stylesString:v}=u._parsedData;a(w,v),ge(w,u.dataTransfer.getData("text/rtf")),u.content=w}}function Z(r){return r.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(u,w)=>w.length===1?" ":Array(w.length+1).join("\xA0 ").substr(0,w.length))}function h(r,u){const w=new DOMParser,v=function(c){return Z(Z(c)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"\xA0</").replace(/ <o:p><\/o:p>/g,"\xA0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(c){const D="</body>",W="</html>",q=c.indexOf(D);if(q<0)return c;const ae=c.indexOf(W,q+D.length);return c.substring(0,q+D.length)+(ae>=0?c.substring(ae):"")}(r=r.replace(/<!--\[if gte vml 1]>/g,""))),T=w.parseFromString(v,"text/html");(function(c){c.querySelectorAll("span[style*=spacerun]").forEach(D=>{const W=D,q=W.innerText.length||0;W.innerText=Array(q+1).join("\xA0 ").substr(0,q)})})(T);const z=T.body.innerHTML,L=function(c,D){const W=new y.ViewDocument(D),q=new y.DomConverter(W,{renderingMode:"data"}),ae=c.createDocumentFragment(),Ie=c.body.childNodes;for(;Ie.length>0;)ae.appendChild(Ie[0]);return q.domToView(ae,{skipComments:!0})}(T,u),x=function(c){const D=[],W=[],q=Array.from(c.getElementsByTagName("style"));for(const ae of q)ae.sheet&&ae.sheet.cssRules&&ae.sheet.cssRules.length&&(D.push(ae.sheet),W.push(ae.innerHTML));return{styles:D,stylesString:W.join(" ")}}(T);return{body:L,bodyString:z,styles:x.styles,stylesString:x.stylesString}}class g extends m.Plugin{static get pluginName(){return"PasteFromOffice"}static get requires(){return[E.ClipboardPipeline]}init(){const u=this.editor,w=u.editing.view.document,v=[];v.push(new ee(w)),v.push(new C(w)),u.plugins.get("ClipboardPipeline").on("inputTransformation",(T,z)=>{if(z._isTransformedWithPasteFromOffice||u.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const L=z.dataTransfer.getData("text/html"),x=v.find(c=>c.isActive(L));x&&(z._parsedData=h(L,w.stylesProcessor),x.execute(z),z._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}}})(),(window.CKEditor5=window.CKEditor5||{}).pasteFromOffice=ii})()},72757:(ti,Kt,re)=>{ti=re.nmd(ti);/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(ii,m){ti.exports=m(re(67294))})(self,ii=>(()=>{var m={703:(_,a,d)=>{"use strict";var S=d(414);function U(){}function I(){}I.resetWarningCache=U,_.exports=function(){function C(me,J,ee,Z,h,g){if(g!==S){var r=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw r.name="Invariant Violation",r}}function ge(){return C}C.isRequired=C;var pe={array:C,bigint:C,bool:C,func:C,number:C,object:C,string:C,symbol:C,any:C,arrayOf:ge,element:C,elementType:C,instanceOf:ge,node:C,objectOf:ge,oneOf:ge,oneOfType:ge,shape:ge,exact:ge,checkPropTypes:I,resetWarningCache:U};return pe.PropTypes=pe,pe}},697:(_,a,d)=>{_.exports=d(703)()},414:_=>{"use strict";_.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:_=>{"use strict";_.exports=ii}},E={};function y(_){var a=E[_];if(a!==void 0)return a.exports;var d=E[_]={exports:{}};return m[_](d,d.exports,y),d.exports}y.n=_=>{var a=_&&_.__esModule?()=>_.default:()=>_;return y.d(a,{a}),a},y.d=(_,a)=>{for(var d in a)y.o(a,d)&&!y.o(_,d)&&Object.defineProperty(_,d,{enumerable:!0,get:a[d]})},y.o=(_,a)=>Object.prototype.hasOwnProperty.call(_,a),y.r=_=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})};var f={};return(()=>{"use strict";y.r(f),y.d(f,{CKEditor:()=>Xi,CKEditorContext:()=>un});var _=y(787),a=y.n(_),d=y(697),S=y.n(d);const U=function(ne){var ce=typeof ne;return ne!=null&&(ce=="object"||ce=="function")},I=typeof re.g=="object"&&re.g&&re.g.Object===Object&&re.g;var C=typeof self=="object"&&self&&self.Object===Object&&self;const ge=I||C||Function("return this")(),pe=function(){return ge.Date.now()};var me=/\s/;const J=function(ne){for(var ce=ne.length;ce--&&me.test(ne.charAt(ce)););return ce};var ee=/^\s+/;const Z=function(ne){return ne&&ne.slice(0,J(ne)+1).replace(ee,"")},h=ge.Symbol;var g=Object.prototype,r=g.hasOwnProperty,u=g.toString,w=h?h.toStringTag:void 0;const v=function(ne){var ce=r.call(ne,w),Ue=ne[w];try{ne[w]=void 0;var St=!0}catch{}var Si=u.call(ne);return St&&(ce?ne[w]=Ue:delete ne[w]),Si};var T=Object.prototype.toString;const z=function(ne){return T.call(ne)};var L="[object Null]",x="[object Undefined]",c=h?h.toStringTag:void 0;const D=function(ne){return ne==null?ne===void 0?x:L:c&&c in Object(ne)?v(ne):z(ne)},W=function(ne){return ne!=null&&typeof ne=="object"};var q="[object Symbol]";const ae=function(ne){return typeof ne=="symbol"||W(ne)&&D(ne)==q};var Ie=NaN,Ve=/^[-+]0x[0-9a-f]+$/i,_e=/^0b[01]+$/i,Me=/^0o[0-7]+$/i,Qe=parseInt;const ut=function(ne){if(typeof ne=="number")return ne;if(ae(ne))return Ie;if(U(ne)){var ce=typeof ne.valueOf=="function"?ne.valueOf():ne;ne=U(ce)?ce+"":ce}if(typeof ne!="string")return ne===0?ne:+ne;ne=Z(ne);var Ue=_e.test(ne);return Ue||Me.test(ne)?Qe(ne.slice(2),Ue?2:8):Ve.test(ne)?Ie:+ne};var rt="Expected a function",qe=Math.max,et=Math.min;const Bt=function(ne,ce,Ue){var St,Si,zi,Zi,$i,mn,wn=0,Lo=!1,io=!1,Bn=!0;if(typeof ne!="function")throw new TypeError(rt);function vo(_n){var Jn=St,lo=Si;return St=Si=void 0,wn=_n,Zi=ne.apply(lo,Jn)}function Qn(_n){var Jn=_n-mn;return mn===void 0||Jn>=ce||Jn<0||io&&_n-wn>=zi}function Wn(){var _n=pe();if(Qn(_n))return zn(_n);$i=setTimeout(Wn,function(Jn){var lo=ce-(Jn-mn);return io?et(lo,zi-(Jn-wn)):lo}(_n))}function zn(_n){return $i=void 0,Bn&&St?vo(_n):(St=Si=void 0,Zi)}function Zn(){var _n=pe(),Jn=Qn(_n);if(St=arguments,Si=this,mn=_n,Jn){if($i===void 0)return function(lo){return wn=lo,$i=setTimeout(Wn,ce),Lo?vo(lo):Zi}(mn);if(io)return clearTimeout($i),$i=setTimeout(Wn,ce),vo(mn)}return $i===void 0&&($i=setTimeout(Wn,ce)),Zi}return ce=ut(ce)||0,U(Ue)&&(Lo=!!Ue.leading,zi=(io="maxWait"in Ue)?qe(ut(Ue.maxWait)||0,ce):zi,Bn="trailing"in Ue?!!Ue.trailing:Bn),Zn.cancel=function(){$i!==void 0&&clearTimeout($i),wn=0,St=mn=Si=$i=void 0},Zn.flush=function(){return $i===void 0?Zi:zn(pe())},Zn};var Nt="Expected a function";const xt=function(ne,ce,Ue){var St=!0,Si=!0;if(typeof ne!="function")throw new TypeError(Nt);return U(Ue)&&(St="leading"in Ue?!!Ue.leading:St,Si="trailing"in Ue?!!Ue.trailing:Si),Bt(ne,ce,{leading:St,maxWait:ce,trailing:Si})},tt=function(){this.__data__=[],this.size=0},Dt=function(ne,ce){return ne===ce||ne!=ne&&ce!=ce},ye=function(ne,ce){for(var Ue=ne.length;Ue--;)if(Dt(ne[Ue][0],ce))return Ue;return-1};var Se=Array.prototype.splice;const Ke=function(ne){var ce=this.__data__,Ue=ye(ce,ne);return!(Ue<0)&&(Ue==ce.length-1?ce.pop():Se.call(ce,Ue,1),--this.size,!0)},kt=function(ne){var ce=this.__data__,Ue=ye(ce,ne);return Ue<0?void 0:ce[Ue][1]},Lt=function(ne){return ye(this.__data__,ne)>-1},Gt=function(ne,ce){var Ue=this.__data__,St=ye(Ue,ne);return St<0?(++this.size,Ue.push([ne,ce])):Ue[St][1]=ce,this};function $t(ne){var ce=-1,Ue=ne==null?0:ne.length;for(this.clear();++ce<Ue;){var St=ne[ce];this.set(St[0],St[1])}}$t.prototype.clear=tt,$t.prototype.delete=Ke,$t.prototype.get=kt,$t.prototype.has=Lt,$t.prototype.set=Gt;const ft=$t,Yt=function(){this.__data__=new ft,this.size=0},_t=function(ne){var ce=this.__data__,Ue=ce.delete(ne);return this.size=ce.size,Ue},ri=function(ne){return this.__data__.get(ne)},ui=function(ne){return this.__data__.has(ne)};var Ai="[object AsyncFunction]",bt="[object Function]",be="[object GeneratorFunction]",Ne="[object Proxy]";const $e=function(ne){if(!U(ne))return!1;var ce=D(ne);return ce==bt||ce==be||ce==Ai||ce==Ne},gt=ge["__core-js_shared__"];var Tt=function(){var ne=/[^.]+$/.exec(gt&&gt.keys&&gt.keys.IE_PROTO||"");return ne?"Symbol(src)_1."+ne:""}();const Et=function(ne){return!!Tt&&Tt in ne};var Xt=Function.prototype.toString;const Ut=function(ne){if(ne!=null){try{return Xt.call(ne)}catch{}try{return ne+""}catch{}}return""};var ni=/^\[object .+?Constructor\]$/,wi=Function.prototype,gi=Object.prototype,Ti=wi.toString,Rt=gi.hasOwnProperty,Ii=RegExp("^"+Ti.call(Rt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Mi=function(ne){return!(!U(ne)||Et(ne))&&($e(ne)?Ii:ni).test(Ut(ne))},Qi=function(ne,ce){return ne?.[ce]},Fi=function(ne,ce){var Ue=Qi(ne,ce);return Mi(Ue)?Ue:void 0},Vi=Fi(ge,"Map"),Ji=Fi(Object,"create"),cn=function(){this.__data__=Ji?Ji(null):{},this.size=0},Ri=function(ne){var ce=this.has(ne)&&delete this.__data__[ne];return this.size-=ce?1:0,ce};var pn="__lodash_hash_undefined__",fi=Object.prototype.hasOwnProperty;const pi=function(ne){var ce=this.__data__;if(Ji){var Ue=ce[ne];return Ue===pn?void 0:Ue}return fi.call(ce,ne)?ce[ne]:void 0};var qi=Object.prototype.hasOwnProperty;const ke=function(ne){var ce=this.__data__;return Ji?ce[ne]!==void 0:qi.call(ce,ne)};var V="__lodash_hash_undefined__";const F=function(ne,ce){var Ue=this.__data__;return this.size+=this.has(ne)?0:1,Ue[ne]=Ji&&ce===void 0?V:ce,this};function P(ne){var ce=-1,Ue=ne==null?0:ne.length;for(this.clear();++ce<Ue;){var St=ne[ce];this.set(St[0],St[1])}}P.prototype.clear=cn,P.prototype.delete=Ri,P.prototype.get=pi,P.prototype.has=ke,P.prototype.set=F;const N=P,de=function(){this.size=0,this.__data__={hash:new N,map:new(Vi||ft),string:new N}},Ce=function(ne){var ce=typeof ne;return ce=="string"||ce=="number"||ce=="symbol"||ce=="boolean"?ne!=="__proto__":ne===null},Ze=function(ne,ce){var Ue=ne.__data__;return Ce(ce)?Ue[typeof ce=="string"?"string":"hash"]:Ue.map},st=function(ne){var ce=Ze(this,ne).delete(ne);return this.size-=ce?1:0,ce},Ct=function(ne){return Ze(this,ne).get(ne)},Ge=function(ne){return Ze(this,ne).has(ne)},Ft=function(ne,ce){var Ue=Ze(this,ne),St=Ue.size;return Ue.set(ne,ce),this.size+=Ue.size==St?0:1,this};function ci(ne){var ce=-1,Ue=ne==null?0:ne.length;for(this.clear();++ce<Ue;){var St=ne[ce];this.set(St[0],St[1])}}ci.prototype.clear=de,ci.prototype.delete=st,ci.prototype.get=Ct,ci.prototype.has=Ge,ci.prototype.set=Ft;const yi=ci;var Oi=200;const Ei=function(ne,ce){var Ue=this.__data__;if(Ue instanceof ft){var St=Ue.__data__;if(!Vi||St.length<Oi-1)return St.push([ne,ce]),this.size=++Ue.size,this;Ue=this.__data__=new yi(St)}return Ue.set(ne,ce),this.size=Ue.size,this};function Bi(ne){var ce=this.__data__=new ft(ne);this.size=ce.size}Bi.prototype.clear=Yt,Bi.prototype.delete=_t,Bi.prototype.get=ri,Bi.prototype.has=ui,Bi.prototype.set=Ei;const Li=Bi,Ui=function(ne,ce){for(var Ue=-1,St=ne==null?0:ne.length;++Ue<St&&ce(ne[Ue],Ue,ne)!==!1;);return ne},Ht=function(){try{var ne=Fi(Object,"defineProperty");return ne({},"",{}),ne}catch{}}(),we=function(ne,ce,Ue){ce=="__proto__"&&Ht?Ht(ne,ce,{configurable:!0,enumerable:!0,value:Ue,writable:!0}):ne[ce]=Ue};var He=Object.prototype.hasOwnProperty;const Q=function(ne,ce,Ue){var St=ne[ce];He.call(ne,ce)&&Dt(St,Ue)&&(Ue!==void 0||ce in ne)||we(ne,ce,Ue)},R=function(ne,ce,Ue,St){var Si=!Ue;Ue||(Ue={});for(var zi=-1,Zi=ce.length;++zi<Zi;){var $i=ce[zi],mn=St?St(Ue[$i],ne[$i],$i,Ue,ne):void 0;mn===void 0&&(mn=ne[$i]),Si?we(Ue,$i,mn):Q(Ue,$i,mn)}return Ue},Y=function(ne,ce){for(var Ue=-1,St=Array(ne);++Ue<ne;)St[Ue]=ce(Ue);return St};var ve="[object Arguments]";const De=function(ne){return W(ne)&&D(ne)==ve};var nt=Object.prototype,It=nt.hasOwnProperty,ai=nt.propertyIsEnumerable;const bi=De(function(){return arguments}())?De:function(ne){return W(ne)&&It.call(ne,"callee")&&!ai.call(ne,"callee")},ht=Array.isArray,H=function(){return!1};var se=Kt&&!Kt.nodeType&&Kt,Te=se&&!0&&ti&&!ti.nodeType&&ti,Le=Te&&Te.exports===se?ge.Buffer:void 0;const Ye=(Le?Le.isBuffer:void 0)||H;var Je=9007199254740991,At=/^(?:0|[1-9]\d*)$/;const vt=function(ne,ce){var Ue=typeof ne;return!!(ce=ce??Je)&&(Ue=="number"||Ue!="symbol"&&At.test(ne))&&ne>-1&&ne%1==0&&ne<ce};var Mt=9007199254740991;const jt=function(ne){return typeof ne=="number"&&ne>-1&&ne%1==0&&ne<=Mt};var Wt={};Wt["[object Float32Array]"]=Wt["[object Float64Array]"]=Wt["[object Int8Array]"]=Wt["[object Int16Array]"]=Wt["[object Int32Array]"]=Wt["[object Uint8Array]"]=Wt["[object Uint8ClampedArray]"]=Wt["[object Uint16Array]"]=Wt["[object Uint32Array]"]=!0,Wt["[object Arguments]"]=Wt["[object Array]"]=Wt["[object ArrayBuffer]"]=Wt["[object Boolean]"]=Wt["[object DataView]"]=Wt["[object Date]"]=Wt["[object Error]"]=Wt["[object Function]"]=Wt["[object Map]"]=Wt["[object Number]"]=Wt["[object Object]"]=Wt["[object RegExp]"]=Wt["[object Set]"]=Wt["[object String]"]=Wt["[object WeakMap]"]=!1;const li=function(ne){return W(ne)&&jt(ne.length)&&!!Wt[D(ne)]},xi=function(ne){return function(ce){return ne(ce)}};var hi=Kt&&!Kt.nodeType&&Kt,Di=hi&&!0&&ti&&!ti.nodeType&&ti,dn=Di&&Di.exports===hi&&I.process;const sn=function(){try{var ne=Di&&Di.require&&Di.require("util").types;return ne||dn&&dn.binding&&dn.binding("util")}catch{}}();var Cn=sn&&sn.isTypedArray;const fn=Cn?xi(Cn):li;var Tn=Object.prototype.hasOwnProperty;const In=function(ne,ce){var Ue=ht(ne),St=!Ue&&bi(ne),Si=!Ue&&!St&&Ye(ne),zi=!Ue&&!St&&!Si&&fn(ne),Zi=Ue||St||Si||zi,$i=Zi?Y(ne.length,String):[],mn=$i.length;for(var wn in ne)!ce&&!Tn.call(ne,wn)||Zi&&(wn=="length"||Si&&(wn=="offset"||wn=="parent")||zi&&(wn=="buffer"||wn=="byteLength"||wn=="byteOffset")||vt(wn,mn))||$i.push(wn);return $i};var Dn=Object.prototype;const Fn=function(ne){var ce=ne&&ne.constructor;return ne===(typeof ce=="function"&&ce.prototype||Dn)},Be=function(ne,ce){return function(Ue){return ne(ce(Ue))}},j=Be(Object.keys,Object);var te=Object.prototype.hasOwnProperty;const ue=function(ne){if(!Fn(ne))return j(ne);var ce=[];for(var Ue in Object(ne))te.call(ne,Ue)&&Ue!="constructor"&&ce.push(Ue);return ce},Ee=function(ne){return ne!=null&&jt(ne.length)&&!$e(ne)},Re=function(ne){return Ee(ne)?In(ne):ue(ne)},ze=function(ne,ce){return ne&&R(ce,Re(ce),ne)},je=function(ne){var ce=[];if(ne!=null)for(var Ue in Object(ne))ce.push(Ue);return ce};var Fe=Object.prototype.hasOwnProperty;const at=function(ne){if(!U(ne))return je(ne);var ce=Fn(ne),Ue=[];for(var St in ne)(St!="constructor"||!ce&&Fe.call(ne,St))&&Ue.push(St);return Ue},mt=function(ne){return Ee(ne)?In(ne,!0):at(ne)},ct=function(ne,ce){return ne&&R(ce,mt(ce),ne)};var wt=Kt&&!Kt.nodeType&&Kt,Ot=wt&&!0&&ti&&!ti.nodeType&&ti,Jt=Ot&&Ot.exports===wt?ge.Buffer:void 0,yt=Jt?Jt.allocUnsafe:void 0;const oi=function(ne,ce){if(ce)return ne.slice();var Ue=ne.length,St=yt?yt(Ue):new ne.constructor(Ue);return ne.copy(St),St},vi=function(ne,ce){var Ue=-1,St=ne.length;for(ce||(ce=Array(St));++Ue<St;)ce[Ue]=ne[Ue];return ce},ji=function(ne,ce){for(var Ue=-1,St=ne==null?0:ne.length,Si=0,zi=[];++Ue<St;){var Zi=ne[Ue];ce(Zi,Ue,ne)&&(zi[Si++]=Zi)}return zi},Wi=function(){return[]};var tn=Object.prototype.propertyIsEnumerable,bn=Object.getOwnPropertySymbols;const Pe=bn?function(ne){return ne==null?[]:(ne=Object(ne),ji(bn(ne),function(ce){return tn.call(ne,ce)}))}:Wi,k=function(ne,ce){return R(ne,Pe(ne),ce)},O=function(ne,ce){for(var Ue=-1,St=ce.length,Si=ne.length;++Ue<St;)ne[Si+Ue]=ce[Ue];return ne},he=Be(Object.getPrototypeOf,Object),Ae=Object.getOwnPropertySymbols?function(ne){for(var ce=[];ne;)O(ce,Pe(ne)),ne=he(ne);return ce}:Wi,dt=function(ne,ce){return R(ne,Ae(ne),ce)},lt=function(ne,ce,Ue){var St=ce(ne);return ht(ne)?St:O(St,Ue(ne))},ot=function(ne){return lt(ne,Re,Pe)},Zt=function(ne){return lt(ne,mt,Ae)},Pi=Fi(ge,"DataView"),Ki=Fi(ge,"Promise"),hn=Fi(ge,"Set"),eo=Fi(ge,"WeakMap");var to="[object Map]",uo="[object Promise]",Ro="[object Set]",Oo="[object WeakMap]",jo="[object DataView]",ir=Ut(Pi),nr=Ut(Vi),or=Ut(Ki),rr=Ut(hn),No=Ut(eo),Hn=D;(Pi&&Hn(new Pi(new ArrayBuffer(1)))!=jo||Vi&&Hn(new Vi)!=to||Ki&&Hn(Ki.resolve())!=uo||hn&&Hn(new hn)!=Ro||eo&&Hn(new eo)!=Oo)&&(Hn=function(ne){var ce=D(ne),Ue=ce=="[object Object]"?ne.constructor:void 0,St=Ue?Ut(Ue):"";if(St)switch(St){case ir:return jo;case nr:return to;case or:return uo;case rr:return Ro;case No:return Oo}return ce});const ho=Hn;var sr=Object.prototype.hasOwnProperty;const Nn=function(ne){var ce=ne.length,Ue=new ne.constructor(ce);return ce&&typeof ne[0]=="string"&&sr.call(ne,"index")&&(Ue.index=ne.index,Ue.input=ne.input),Ue},Vo=ge.Uint8Array,mo=function(ne){var ce=new ne.constructor(ne.byteLength);return new Vo(ce).set(new Vo(ne)),ce},yo=function(ne,ce){var Ue=ce?mo(ne.buffer):ne.buffer;return new ne.constructor(Ue,ne.byteOffset,ne.byteLength)};var ar=/\w*$/;const Bo=function(ne){var ce=new ne.constructor(ne.source,ar.exec(ne));return ce.lastIndex=ne.lastIndex,ce};var zo=h?h.prototype:void 0,Do=zo?zo.valueOf:void 0;const lr=function(ne){return Do?Object(Do.call(ne)):{}},Fo=function(ne,ce){var Ue=ce?mo(ne.buffer):ne.buffer;return new ne.constructor(Ue,ne.byteOffset,ne.length)};var Ho="[object Boolean]",xo="[object Date]",Co="[object Map]",go="[object Number]",Uo="[object RegExp]",cr="[object Set]",oo="[object String]",Wo="[object Symbol]",To="[object ArrayBuffer]",dr="[object DataView]",Ao="[object Float32Array]",Zo="[object Float64Array]",So="[object Int8Array]",$o="[object Int16Array]",ro="[object Int32Array]",ur="[object Uint8Array]",qo="[object Uint8ClampedArray]",Eo="[object Uint16Array]",Io="[object Uint32Array]";const Un=function(ne,ce,Ue){var St=ne.constructor;switch(ce){case To:return mo(ne);case Ho:case xo:return new St(+ne);case dr:return yo(ne,Ue);case Ao:case Zo:case So:case $o:case ro:case ur:case qo:case Eo:case Io:return Fo(ne,Ue);case Co:return new St;case go:case oo:return new St(ne);case Uo:return Bo(ne);case cr:return new St;case Wo:return lr(ne)}};var Gn=Object.create;const so=function(){function ne(){}return function(ce){if(!U(ce))return{};if(Gn)return Gn(ce);ne.prototype=ce;var Ue=new ne;return ne.prototype=void 0,Ue}}(),nn=function(ne){return typeof ne.constructor!="function"||Fn(ne)?{}:so(he(ne))};var Pn="[object Map]";const on=function(ne){return W(ne)&&ho(ne)==Pn};var Rn=sn&&sn.isMap;const Vn=Rn?xi(Rn):on;var si="[object Set]";const ao=function(ne){return W(ne)&&ho(ne)==si};var po=sn&&sn.isSet;const Po=po?xi(po):ao;var fo=1,An=2,zt=4,bo="[object Arguments]",Ko="[object Function]",wo="[object GeneratorFunction]",ko="[object Object]",ln={};ln[bo]=ln["[object Array]"]=ln["[object ArrayBuffer]"]=ln["[object DataView]"]=ln["[object Boolean]"]=ln["[object Date]"]=ln["[object Float32Array]"]=ln["[object Float64Array]"]=ln["[object Int8Array]"]=ln["[object Int16Array]"]=ln["[object Int32Array]"]=ln["[object Map]"]=ln["[object Number]"]=ln[ko]=ln["[object RegExp]"]=ln["[object Set]"]=ln["[object String]"]=ln["[object Symbol]"]=ln["[object Uint8Array]"]=ln["[object Uint8ClampedArray]"]=ln["[object Uint16Array]"]=ln["[object Uint32Array]"]=!0,ln["[object Error]"]=ln[Ko]=ln["[object WeakMap]"]=!1;const Go=function ne(ce,Ue,St,Si,zi,Zi){var $i,mn=Ue&fo,wn=Ue&An,Lo=Ue&zt;if(St&&($i=zi?St(ce,Si,zi,Zi):St(ce)),$i!==void 0)return $i;if(!U(ce))return ce;var io=ht(ce);if(io){if($i=Nn(ce),!mn)return vi(ce,$i)}else{var Bn=ho(ce),vo=Bn==Ko||Bn==wo;if(Ye(ce))return oi(ce,mn);if(Bn==ko||Bn==bo||vo&&!zi){if($i=wn||vo?{}:nn(ce),!mn)return wn?dt(ce,ct($i,ce)):k(ce,ze($i,ce))}else{if(!ln[Bn])return zi?ce:{};$i=Un(ce,Bn,mn)}}Zi||(Zi=new Li);var Qn=Zi.get(ce);if(Qn)return Qn;Zi.set(ce,$i),Po(ce)?ce.forEach(function(zn){$i.add(ne(zn,Ue,St,zn,ce,Zi))}):Vn(ce)&&ce.forEach(function(zn,Zn){$i.set(Zn,ne(zn,Ue,St,Zn,ce,Zi))});var Wn=io?void 0:(Lo?wn?Zt:ot:wn?mt:Re)(ce);return Ui(Wn||ce,function(zn,Zn){Wn&&(zn=ce[Zn=zn]),Q($i,Zn,ne(zn,Ue,St,Zn,ce,Zi))}),$i};var On=1,X=4;const l=function(ne,ce){return Go(ne,On|X,ce=typeof ce=="function"?ce:void 0)};var b="[object Object]",M=Function.prototype,A=Object.prototype,$=M.toString,K=A.hasOwnProperty,ie=$.call(Object);const oe=function(ne){if(!W(ne)||D(ne)!=b)return!1;var ce=he(ne);if(ce===null)return!0;var Ue=K.call(ce,"constructor")&&ce.constructor;return typeof Ue=="function"&&Ue instanceof Ue&&$.call(Ue)==ie},xe=function(ne){return W(ne)&&ne.nodeType===1&&!oe(ne)};function Oe(ne,ce=new Set){const Ue=[ne],St=new Set;let Si=0;for(;Ue.length>Si;){const zi=Ue[Si++];if(!(St.has(zi)||Xe(zi)||ce.has(zi)))if(St.add(zi),zi[Symbol.iterator])try{for(const Zi of zi)Ue.push(Zi)}catch{}else for(const Zi in zi)Zi!=="defaultValue"&&Ue.push(zi[Zi])}return St}function Xe(ne){const ce=Object.prototype.toString.call(ne),Ue=typeof ne;return Ue==="number"||Ue==="boolean"||Ue==="string"||Ue==="symbol"||Ue==="function"||ce==="[object Date]"||ce==="[object RegExp]"||ce==="[object Module]"||ne==null||ne._watchdogExcluded===!0||ne instanceof EventTarget||ne instanceof Event}function pt(ne,ce,Ue=new Set){if(ne===ce&&typeof(St=ne)=="object"&&St!==null)return!0;var St;const Si=Oe(ne,Ue),zi=Oe(ce,Ue);for(const Zi of Si)if(zi.has(Zi))return!0;return!1}class Vt{constructor(ce){if(this.crashes=[],this.state="initializing",this._crashNumberLimit=typeof ce.crashNumberLimit=="number"?ce.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod=typeof ce.minimumNonErrorTimePeriod=="number"?ce.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=Ue=>{const St=Ue.error||Ue.reason;St instanceof Error&&this._handleError(St,Ue)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(ce){this._creator=ce}setDestructor(ce){this._destructor=ce}destroy(){this._stopErrorHandling(),this._listeners={}}on(ce,Ue){this._listeners[ce]||(this._listeners[ce]=[]),this._listeners[ce].push(Ue)}off(ce,Ue){this._listeners[ce]=this._listeners[ce].filter(St=>St!==Ue)}_fire(ce,...Ue){const St=this._listeners[ce]||[];for(const Si of St)Si.apply(this,[null,...Ue])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(ce,Ue){if(this._shouldReactToError(ce)){this.crashes.push({message:ce.message,stack:ce.stack,filename:Ue.filename,lineno:Ue.lineno,colno:Ue.colno,date:this._now()});const St=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:ce,causesRestart:St}),St?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(ce){return ce.is&&ce.is("CKEditorError")&&ce.context!==void 0&&ce.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(ce)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}class ei extends Vt{constructor(ce,Ue={}){super(Ue),this._editor=null,this._throttledSave=xt(this._save.bind(this),typeof Ue.saveInterval=="number"?Ue.saveInterval:5e3),this._creator=(St,Si)=>ce.create(St,Si),this._destructor=St=>St.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(ce=>{console.error("An error happened during the editor destroying.",ce)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const ce=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,ce,ce.context)}}).then(()=>{this._fire("restart")})}create(ce=this._elementOrData,Ue=this._config,St){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=ce,this._config=this._cloneEditorConfiguration(Ue)||{},this._config.context=St,this._creator(ce,this._config))).then(Si=>{this._editor=Si,Si.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=Si.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const ce=this._editor;return this._editor=null,ce.model.document.off("change:data",this._throttledSave),this._destructor(ce)})}_save(){const ce=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=ce}catch(Ue){console.error(Ue,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(ce){this._excludedProps=ce}_getData(){const ce={};for(const Ue of this._editor.model.document.getRootNames())ce[Ue]=this._editor.data.get({rootName:Ue});return ce}_isErrorComingFromThisItem(ce){return pt(this._editor,ce.context,this._excludedProps)}_cloneEditorConfiguration(ce){return l(ce,(Ue,St)=>xe(Ue)||St==="context"?Ue:void 0)}}const qt=new Array(256).fill("").map((ne,ce)=>("0"+ce.toString(16)).slice(-2)),di=Symbol("MainQueueId");class ki extends Vt{constructor(ce,Ue={}){super(Ue),this._watchdogs=new Map,this._watchdogConfig=Ue,this._context=null,this._contextProps=new Set,this._actionQueues=new Ci,this._creator=St=>ce.create(St),this._destructor=St=>St.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}get context(){return this._context}create(ce={}){return this._actionQueues.enqueue(di,()=>(this._contextConfig=ce,this._create()))}getItem(ce){return this._getWatchdog(ce)._item}getItemState(ce){return this._getWatchdog(ce).state}add(ce){const Ue=Hi(ce);return Promise.all(Ue.map(St=>this._actionQueues.enqueue(St.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let Si;if(this._watchdogs.has(St.id))throw new Error(`Item with the given id is already added: '${St.id}'.`);if(St.type==="editor")return Si=new ei(this._watchdogConfig),Si.setCreator(St.creator),Si._setExcludedProperties(this._contextProps),St.destructor&&Si.setDestructor(St.destructor),this._watchdogs.set(St.id,Si),Si.on("error",(zi,{error:Zi,causesRestart:$i})=>{this._fire("itemError",{itemId:St.id,error:Zi}),$i&&this._actionQueues.enqueue(St.id,()=>new Promise(mn=>{Si.on("restart",function wn(){Si.off("restart",wn),this._fire("itemRestart",{itemId:St.id}),mn()}.bind(this))}))}),Si.create(St.sourceElementOrData,St.config,this._context);throw new Error(`Not supported item type: '${St.type}'.`)})))}remove(ce){const Ue=Hi(ce);return Promise.all(Ue.map(St=>this._actionQueues.enqueue(St,()=>{const Si=this._getWatchdog(St);return this._watchdogs.delete(St),Si.destroy()})))}destroy(){return this._actionQueues.enqueue(di,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(di,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(ce=>{console.error("An error happened during destroying the context or items.",ce)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(ce=>(this._context=ce,this._contextProps=Oe(this._context),Promise.all(Array.from(this._watchdogs.values()).map(Ue=>(Ue._setExcludedProperties(this._contextProps),Ue.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const ce=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(Ue=>Ue.destroy())).then(()=>this._destructor(ce))})}_getWatchdog(ce){const Ue=this._watchdogs.get(ce);if(!Ue)throw new Error(`Item with the given id was not registered: ${ce}.`);return Ue}_isErrorComingFromThisItem(ce){for(const Ue of this._watchdogs.values())if(Ue._isErrorComingFromThisItem(ce))return!1;return pt(this._context,ce.context)}}class Ci{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._actions=new WeakMap,this._lastActionId=0,this._activeActions=0}onEmpty(ce){this._onEmptyCallbacks.push(ce)}enqueue(ce,Ue){const St=ce===di;this._activeActions++,this._queues.get(ce)||this._queues.set(ce,Promise.resolve());const Si=(St?Promise.all(this._queues.values()):Promise.all([this._queues.get(di),this._queues.get(ce)])).then(Ue),zi=Si.catch(()=>{});return this._queues.set(ce,zi),Si.finally(()=>{this._activeActions--,this._queues.get(ce)===zi&&this._activeActions===0&&this._onEmptyCallbacks.forEach(Zi=>Zi())})}}function Hi(ne){return Array.isArray(ne)?ne:[ne]}const Gi=a().createContext("contextWatchdog");class un extends a().Component{constructor(ce,Ue){super(ce,Ue),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}async shouldComponentUpdate(ce){return ce.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(ce.config)),ce.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(ce.config),!0):this.props.children!==ce.children}render(){return a().createElement(Gi.Provider,{value:this.contextWatchdog},this.props.children)}async componentWillUnmount(){await this._destroyContext()}async _initializeContextWatchdog(ce){this.contextWatchdog=new ki(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(Ue,St)=>{this.props.onError(St.error,{phase:"runtime",willContextRestart:St.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(ce).catch(Ue=>{this.props.onError(Ue,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}un.defaultProps={isLayoutReady:!0,onError:(ne,ce)=>console.error(ne,ce)},un.propTypes={id:S().string,isLayoutReady:S().bool,context:S().func,watchdogConfig:S().object,config:S().object,onReady:S().func,onError:S().func};const kn="Lock from React integration (@ckeditor/ckeditor5-react)";class Xi extends a().Component{constructor(ce){super(ce),this.editorDestructionInProgress=null,this.domContainer=a().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:Ue}=window;if(Ue){const[St]=Ue.split(".").map(Number);St<34&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 34 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(ce){return!!this.editor&&(ce.id!==this.props.id||(this._shouldUpdateEditor(ce)&&this.editor.setData(ce.data),"disabled"in ce&&(ce.disabled?this.editor.enableReadOnlyMode(kn):this.editor.disableReadOnlyMode(kn)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return a().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.watchdog||(this.context instanceof ki?this.watchdog=new Yn(this.context):this.watchdog=new Xi._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((ce,Ue)=>this._createEditor(ce,Ue)),this.watchdog.on("error",(ce,{error:Ue,causesRestart:St})=>{this.props.onError(Ue,{phase:"runtime",willEditorRestart:St})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(ce=>this.props.onError(ce,{phase:"initialization",willEditorRestart:!1})))}_createEditor(ce,Ue){return this.props.editor.create(ce,Ue).then(St=>{"disabled"in this.props&&this.props.disabled&&St.enableReadOnlyMode(kn);const Si=St.model.document,zi=St.editing.view.document;return Si.on("change:data",Zi=>{this.props.onChange&&this.props.onChange(Zi,St)}),zi.on("focus",Zi=>{this.props.onFocus&&this.props.onFocus(Zi,St)}),zi.on("blur",Zi=>{this.props.onBlur&&this.props.onBlur(Zi,St)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(St)}),St})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(ce=>{setTimeout(()=>{this.watchdog?this.watchdog.destroy().then(()=>{this.watchdog=null,ce()}):ce()})})}_shouldUpdateEditor(ce){return this.props.data!==ce.data&&this.editor.getData()!==ce.data}_getConfig(){return this.props.data&&this.props.config.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."),{...this.props.config,initialData:this.props.config.initialData||this.props.data||""}}}class Yn{constructor(ce){this._contextWatchdog=ce,this._id=function(){const Ue=4294967296*Math.random()>>>0,St=4294967296*Math.random()>>>0,Si=4294967296*Math.random()>>>0,zi=4294967296*Math.random()>>>0;return"e"+qt[Ue>>0&255]+qt[Ue>>8&255]+qt[Ue>>16&255]+qt[Ue>>24&255]+qt[St>>0&255]+qt[St>>8&255]+qt[St>>16&255]+qt[St>>24&255]+qt[Si>>0&255]+qt[Si>>8&255]+qt[Si>>16&255]+qt[Si>>24&255]+qt[zi>>0&255]+qt[zi>>8&255]+qt[zi>>16&255]+qt[zi>>24&255]}()}setCreator(ce){this._creator=ce}create(ce,Ue){return this._contextWatchdog.add({sourceElementOrData:ce,config:Ue,creator:this._creator,id:this._id,type:"editor"})}on(ce,Ue){this._contextWatchdog.on("itemError",(St,{itemId:Si,causesRestart:zi,error:Zi})=>{Si===this._id&&Ue(null,{error:Zi,causesRestart:zi})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}Xi.contextType=Gi,Xi.propTypes={editor:S().func.isRequired,data:S().string,config:S().object,watchdogConfig:S().object,onChange:S().func,onReady:S().func,onFocus:S().func,onBlur:S().func,onError:S().func,disabled:S().bool,onInit:(ne,ce)=>{if(ne[ce])return new Error('The "onInit" property is not supported anymore by the CKEditor component. Use the "onReady" property instead.')}},Xi.defaultProps={config:{},onError:(ne,ce)=>console.error(ne,ce)},Xi._EditorWatchdog=ei})(),f})())},54132:()=>{(function(ti){const Kt=ti.en=ti.en||{};Kt.dictionary=Object.assign(Kt.dictionary||{},{"Remove Format":"Remove Format"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var ti={704:(m,E,y)=>{m.exports=y(79)("./src/core.js")},273:(m,E,y)=>{m.exports=y(79)("./src/ui.js")},209:(m,E,y)=>{m.exports=y(79)("./src/utils.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},Kt={};function re(m){var E=Kt[m];if(E!==void 0)return E.exports;var y=Kt[m]={exports:{}};return ti[m](y,y.exports,re),y.exports}re.d=(m,E)=>{for(var y in E)re.o(E,y)&&!re.o(m,y)&&Object.defineProperty(m,y,{enumerable:!0,get:E[y]})},re.o=(m,E)=>Object.prototype.hasOwnProperty.call(m,E),re.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})};var ii={};(()=>{"use strict";re.r(ii),re.d(ii,{RemoveFormat:()=>S,RemoveFormatEditing:()=>d,RemoveFormatUI:()=>f});var m=re(704),E=re(273);const y="removeFormat";class f extends m.Plugin{static get pluginName(){return"RemoveFormatUI"}init(){const I=this.editor,C=I.t;I.ui.componentFactory.add(y,ge=>{const pe=I.commands.get(y),me=new E.ButtonView(ge);return me.set({label:C("Remove Format"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z"/></svg>',tooltip:!0}),me.bind("isOn","isEnabled").to(pe,"value","isEnabled"),this.listenTo(me,"execute",()=>{I.execute(y),I.editing.view.focus()}),me})}}var _=re(209);class a extends m.Command{refresh(){const I=this.editor.model;this.isEnabled=!!(0,_.first)(this._getFormattingItems(I.document.selection,I.schema))}execute(){const I=this.editor.model,C=I.schema;I.change(ge=>{for(const pe of this._getFormattingItems(I.document.selection,C))if(pe.is("selection"))for(const me of this._getFormattingAttributes(pe,C))ge.removeSelectionAttribute(me);else{const me=ge.createRangeOn(pe);for(const J of this._getFormattingAttributes(pe,C))ge.removeAttribute(J,me)}})}*_getFormattingItems(I,C){const ge=pe=>!!(0,_.first)(this._getFormattingAttributes(pe,C));for(const pe of I.getRanges())for(const me of pe.getItems())!C.isBlock(me)&&ge(me)&&(yield me);for(const pe of I.getSelectedBlocks())ge(pe)&&(yield pe);ge(I)&&(yield I)}*_getFormattingAttributes(I,C){for(const[ge]of I.getAttributes()){const pe=C.getAttributeProperties(ge);pe&&pe.isFormatting&&(yield ge)}}}class d extends m.Plugin{static get pluginName(){return"RemoveFormatEditing"}init(){const I=this.editor;I.commands.add("removeFormat",new a(I))}}class S extends m.Plugin{static get requires(){return[d,f]}static get pluginName(){return"RemoveFormat"}}})(),(window.CKEditor5=window.CKEditor5||{}).removeFormat=ii})()},51207:()=>{(function(ti){const Kt=ti.en=ti.en||{};Kt.dictionary=Object.assign(Kt.dictionary||{},{All:"All","Almost equal to":"Almost equal to",Angle:"Angle","Approximately equal to":"Approximately equal to",Arrows:"Arrows","Asterisk operator":"Asterisk operator","Austral sign":"Austral sign","back with leftwards arrow above":"back with leftwards arrow above","Bitcoin sign":"Bitcoin sign","Cedi sign":"Cedi sign","Cent sign":"Cent sign","Character categories":"Character categories","Colon sign":"Colon sign","Contains as member":"Contains as member","Copyright sign":"Copyright sign","Cruzeiro sign":"Cruzeiro sign",Currency:"Currency","Currency sign":"Currency sign","Degree sign":"Degree sign","Division sign":"Division sign","Dollar sign":"Dollar sign","Dong sign":"Dong sign","Double dagger":"Double dagger","Double exclamation mark":"Double exclamation mark","Double low-9 quotation mark":"Double low-9 quotation mark","Double question mark":"Double question mark","downwards arrow to bar":"downwards arrow to bar","downwards dashed arrow":"downwards dashed arrow","downwards double arrow":"downwards double arrow","downwards simple arrow":"downwards simple arrow","Drachma sign":"Drachma sign","Element of":"Element of","Em dash":"Em dash","Empty set":"Empty set","En dash":"En dash","end with leftwards arrow above":"end with leftwards arrow above","Euro sign":"Euro sign","Euro-currency sign":"Euro-currency sign","Exclamation question mark":"Exclamation question mark","For all":"For all","Fraction slash":"Fraction slash","French franc sign":"French franc sign","German penny sign":"German penny sign","Greater-than or equal to":"Greater-than or equal to","Greater-than sign":"Greater-than sign","Guarani sign":"Guarani sign","Horizontal ellipsis":"Horizontal ellipsis","Hryvnia sign":"Hryvnia sign","Identical to":"Identical to","Indian rupee sign":"Indian rupee sign",Infinity:"Infinity",Integral:"Integral",Intersection:"Intersection","Inverted exclamation mark":"Inverted exclamation mark","Inverted question mark":"Inverted question mark","Kip sign":"Kip sign",Latin:"Latin","Latin capital letter a with breve":"Latin capital letter a with breve","Latin capital letter a with macron":"Latin capital letter a with macron","Latin capital letter a with ogonek":"Latin capital letter a with ogonek","Latin capital letter c with acute":"Latin capital letter c with acute","Latin capital letter c with caron":"Latin capital letter c with caron","Latin capital letter c with circumflex":"Latin capital letter c with circumflex","Latin capital letter c with dot above":"Latin capital letter c with dot above","Latin capital letter d with caron":"Latin capital letter d with caron","Latin capital letter d with stroke":"Latin capital letter d with stroke","Latin capital letter e with breve":"Latin capital letter e with breve","Latin capital letter e with caron":"Latin capital letter e with caron","Latin capital letter e with dot above":"Latin capital letter e with dot above","Latin capital letter e with macron":"Latin capital letter e with macron","Latin capital letter e with ogonek":"Latin capital letter e with ogonek","Latin capital letter eng":"Latin capital letter eng","Latin capital letter g with breve":"Latin capital letter g with breve","Latin capital letter g with cedilla":"Latin capital letter g with cedilla","Latin capital letter g with circumflex":"Latin capital letter g with circumflex","Latin capital letter g with dot above":"Latin capital letter g with dot above","Latin capital letter h with circumflex":"Latin capital letter h with circumflex","Latin capital letter h with stroke":"Latin capital letter h with stroke","Latin capital letter i with breve":"Latin capital letter i with breve","Latin capital letter i with dot above":"Latin capital letter i with dot above","Latin capital letter i with macron":"Latin capital letter i with macron","Latin capital letter i with ogonek":"Latin capital letter i with ogonek","Latin capital letter i with tilde":"Latin capital letter i with tilde","Latin capital letter j with circumflex":"Latin capital letter j with circumflex","Latin capital letter k with cedilla":"Latin capital letter k with cedilla","Latin capital letter l with acute":"Latin capital letter l with acute","Latin capital letter l with caron":"Latin capital letter l with caron","Latin capital letter l with cedilla":"Latin capital letter l with cedilla","Latin capital letter l with middle dot":"Latin capital letter l with middle dot","Latin capital letter l with stroke":"Latin capital letter l with stroke","Latin capital letter n with acute":"Latin capital letter n with acute","Latin capital letter n with caron":"Latin capital letter n with caron","Latin capital letter n with cedilla":"Latin capital letter n with cedilla","Latin capital letter o with breve":"Latin capital letter o with breve","Latin capital letter o with double acute":"Latin capital letter o with double acute","Latin capital letter o with macron":"Latin capital letter o with macron","Latin capital letter r with acute":"Latin capital letter r with acute","Latin capital letter r with caron":"Latin capital letter r with caron","Latin capital letter r with cedilla":"Latin capital letter r with cedilla","Latin capital letter s with acute":"Latin capital letter s with acute","Latin capital letter s with caron":"Latin capital letter s with caron","Latin capital letter s with cedilla":"Latin capital letter s with cedilla","Latin capital letter s with circumflex":"Latin capital letter s with circumflex","Latin capital letter t with caron":"Latin capital letter t with caron","Latin capital letter t with cedilla":"Latin capital letter t with cedilla","Latin capital letter t with stroke":"Latin capital letter t with stroke","Latin capital letter u with breve":"Latin capital letter u with breve","Latin capital letter u with double acute":"Latin capital letter u with double acute","Latin capital letter u with macron":"Latin capital letter u with macron","Latin capital letter u with ogonek":"Latin capital letter u with ogonek","Latin capital letter u with ring above":"Latin capital letter u with ring above","Latin capital letter u with tilde":"Latin capital letter u with tilde","Latin capital letter w with circumflex":"Latin capital letter w with circumflex","Latin capital letter y with circumflex":"Latin capital letter y with circumflex","Latin capital letter y with diaeresis":"Latin capital letter y with diaeresis","Latin capital letter z with acute":"Latin capital letter z with acute","Latin capital letter z with caron":"Latin capital letter z with caron","Latin capital letter z with dot above":"Latin capital letter z with dot above","Latin capital ligature ij":"Latin capital ligature ij","Latin capital ligature oe":"Latin capital ligature oe","Latin small letter a with breve":"Latin small letter a with breve","Latin small letter a with macron":"Latin small letter a with macron","Latin small letter a with ogonek":"Latin small letter a with ogonek","Latin small letter c with acute":"Latin small letter c with acute","Latin small letter c with caron":"Latin small letter c with caron","Latin small letter c with circumflex":"Latin small letter c with circumflex","Latin small letter c with dot above":"Latin small letter c with dot above","Latin small letter d with caron":"Latin small letter d with caron","Latin small letter d with stroke":"Latin small letter d with stroke","Latin small letter dotless i":"Latin small letter dotless i","Latin small letter e with breve":"Latin small letter e with breve","Latin small letter e with caron":"Latin small letter e with caron","Latin small letter e with dot above":"Latin small letter e with dot above","Latin small letter e with macron":"Latin small letter e with macron","Latin small letter e with ogonek":"Latin small letter e with ogonek","Latin small letter eng":"Latin small letter eng","Latin small letter f with hook":"Latin small letter f with hook","Latin small letter g with breve":"Latin small letter g with breve","Latin small letter g with cedilla":"Latin small letter g with cedilla","Latin small letter g with circumflex":"Latin small letter g with circumflex","Latin small letter g with dot above":"Latin small letter g with dot above","Latin small letter h with circumflex":"Latin small letter h with circumflex","Latin small letter h with stroke":"Latin small letter h with stroke","Latin small letter i with breve":"Latin small letter i with breve","Latin small letter i with macron":"Latin small letter i with macron","Latin small letter i with ogonek":"Latin small letter i with ogonek","Latin small letter i with tilde":"Latin small letter i with tilde","Latin small letter j with circumflex":"Latin small letter j with circumflex","Latin small letter k with cedilla":"Latin small letter k with cedilla","Latin small letter kra":"Latin small letter kra","Latin small letter l with acute":"Latin small letter l with acute","Latin small letter l with caron":"Latin small letter l with caron","Latin small letter l with cedilla":"Latin small letter l with cedilla","Latin small letter l with middle dot":"Latin small letter l with middle dot","Latin small letter l with stroke":"Latin small letter l with stroke","Latin small letter long s":"Latin small letter long s","Latin small letter n preceded by apostrophe":"Latin small letter n preceded by apostrophe","Latin small letter n with acute":"Latin small letter n with acute","Latin small letter n with caron":"Latin small letter n with caron","Latin small letter n with cedilla":"Latin small letter n with cedilla","Latin small letter o with breve":"Latin small letter o with breve","Latin small letter o with double acute":"Latin small letter o with double acute","Latin small letter o with macron":"Latin small letter o with macron","Latin small letter r with acute":"Latin small letter r with acute","Latin small letter r with caron":"Latin small letter r with caron","Latin small letter r with cedilla":"Latin small letter r with cedilla","Latin small letter s with acute":"Latin small letter s with acute","Latin small letter s with caron":"Latin small letter s with caron","Latin small letter s with cedilla":"Latin small letter s with cedilla","Latin small letter s with circumflex":"Latin small letter s with circumflex","Latin small letter t with caron":"Latin small letter t with caron","Latin small letter t with cedilla":"Latin small letter t with cedilla","Latin small letter t with stroke":"Latin small letter t with stroke","Latin small letter u with breve":"Latin small letter u with breve","Latin small letter u with double acute":"Latin small letter u with double acute","Latin small letter u with macron":"Latin small letter u with macron","Latin small letter u with ogonek":"Latin small letter u with ogonek","Latin small letter u with ring above":"Latin small letter u with ring above","Latin small letter u with tilde":"Latin small letter u with tilde","Latin small letter w with circumflex":"Latin small letter w with circumflex","Latin small letter y with circumflex":"Latin small letter y with circumflex","Latin small letter z with acute":"Latin small letter z with acute","Latin small letter z with caron":"Latin small letter z with caron","Latin small letter z with dot above":"Latin small letter z with dot above","Latin small ligature ij":"Latin small ligature ij","Latin small ligature oe":"Latin small ligature oe","Left double quotation mark":"Left double quotation mark","Left single quotation mark":"Left single quotation mark","Left-pointing double angle quotation mark":"Left-pointing double angle quotation mark","leftwards arrow to bar":"leftwards arrow to bar","leftwards dashed arrow":"leftwards dashed arrow","leftwards double arrow":"leftwards double arrow","leftwards simple arrow":"leftwards simple arrow","Less-than or equal to":"Less-than or equal to","Less-than sign":"Less-than sign","Lira sign":"Lira sign","Livre tournois sign":"Livre tournois sign","Logical and":"Logical and","Logical or":"Logical or",Macron:"Macron","Manat sign":"Manat sign",Mathematical:"Mathematical","Mill sign":"Mill sign","Minus sign":"Minus sign","Multiplication sign":"Multiplication sign","N-ary product":"N-ary product","N-ary summation":"N-ary summation",Nabla:"Nabla","Naira sign":"Naira sign","New sheqel sign":"New sheqel sign","Nordic mark sign":"Nordic mark sign","Not an element of":"Not an element of","Not equal to":"Not equal to","Not sign":"Not sign","on with exclamation mark with left right arrow above":"on with exclamation mark with left right arrow above",Overline:"Overline","Paragraph sign":"Paragraph sign","Partial differential":"Partial differential","Per mille sign":"Per mille sign","Per ten thousand sign":"Per ten thousand sign","Peseta sign":"Peseta sign","Peso sign":"Peso sign","Plus-minus sign":"Plus-minus sign","Pound sign":"Pound sign","Proportional to":"Proportional to","Question exclamation mark":"Question exclamation mark","Registered sign":"Registered sign","Reversed paragraph sign":"Reversed paragraph sign","Right double quotation mark":"Right double quotation mark","Right single quotation mark":"Right single quotation mark","Right-pointing double angle quotation mark":"Right-pointing double angle quotation mark","rightwards arrow to bar":"rightwards arrow to bar","rightwards dashed arrow":"rightwards dashed arrow","rightwards double arrow":"rightwards double arrow","rightwards simple arrow":"rightwards simple arrow","Ruble sign":"Ruble sign","Rupee sign":"Rupee sign","Section sign":"Section sign","Single left-pointing angle quotation mark":"Single left-pointing angle quotation mark","Single low-9 quotation mark":"Single low-9 quotation mark","Single right-pointing angle quotation mark":"Single right-pointing angle quotation mark","soon with rightwards arrow above":"soon with rightwards arrow above","Special characters":"Special characters","Spesmilo sign":"Spesmilo sign","Square root":"Square root","Tenge sign":"Tenge sign",Text:"Text","There exists":"There exists","Tilde operator":"Tilde operator","top with upwards arrow above":"top with upwards arrow above","Trade mark sign":"Trade mark sign","Tugrik sign":"Tugrik sign","Turkish lira sign":"Turkish lira sign","Two dot leader":"Two dot leader",Union:"Union","up down arrow with base":"up down arrow with base","upwards arrow to bar":"upwards arrow to bar","upwards dashed arrow":"upwards dashed arrow","upwards double arrow":"upwards double arrow","upwards simple arrow":"upwards simple arrow","Vulgar fraction one half":"Vulgar fraction one half","Vulgar fraction one quarter":"Vulgar fraction one quarter","Vulgar fraction three quarters":"Vulgar fraction three quarters","Won sign":"Won sign","Yen sign":"Yen sign"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var ti={395:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,".ck.ck-character-grid{max-width:100%}.ck.ck-character-grid .ck-character-grid__tiles{display:grid}:root{--ck-character-grid-tile-size:24px}.ck.ck-character-grid{max-height:200px;overflow-x:hidden;overflow-y:auto;width:350px}@media screen and (max-width:600px){.ck.ck-character-grid{width:190px}}.ck.ck-character-grid .ck-character-grid__tiles{grid-gap:var(--ck-spacing-standard);grid-template-columns:repeat(10,1fr);margin:var(--ck-spacing-standard) var(--ck-spacing-large)}@media screen and (max-width:600px){.ck.ck-character-grid .ck-character-grid__tiles{grid-template-columns:repeat(5,1fr)}}.ck.ck-character-grid .ck-character-grid__tile{border:0;font-size:1.2em;height:var(--ck-character-grid-tile-size);min-height:var(--ck-character-grid-tile-size);min-width:var(--ck-character-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-character-grid-tile-size)}.ck.ck-character-grid .ck-character-grid__tile:focus:not(.ck-disabled),.ck.ck-character-grid .ck-character-grid__tile:hover:not(.ck-disabled){border:0;box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-character-grid .ck-character-grid__tile .ck-button__label{line-height:var(--ck-character-grid-tile-size);text-align:center;width:100%}",""]);const a=_},198:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,".ck.ck-character-info{border-top:1px solid var(--ck-color-base-border);display:flex;justify-content:space-between;padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-character-info>*{font-size:var(--ck-font-size-small);text-transform:uppercase}.ck.ck-character-info .ck-character-info__name{max-width:280px;overflow:hidden;text-overflow:ellipsis}.ck.ck-character-info .ck-character-info__code{opacity:.6}@media screen and (max-width:600px){.ck.ck-character-info{max-width:190px}}",""]);const a=_},454:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(609),_=y.n(f)()(function(d){return d[1]});_.push([m.id,".ck.ck-special-characters-navigation>.ck-label{max-width:160px;overflow:hidden;text-overflow:ellipsis}.ck.ck-special-characters-navigation>.ck-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}@media screen and (max-width:600px){.ck.ck-special-characters-navigation{max-width:190px}.ck.ck-special-characters-navigation>.ck-form__header__label{overflow:hidden;text-overflow:ellipsis}}",""]);const a=_},609:m=>{"use strict";m.exports=function(E){var y=[];return y.toString=function(){return this.map(function(f){var _=E(f);return f[2]?"@media ".concat(f[2]," {").concat(_,"}"):_}).join("")},y.i=function(f,_,a){typeof f=="string"&&(f=[[null,f,""]]);var d={};if(a)for(var S=0;S<this.length;S++){var U=this[S][0];U!=null&&(d[U]=!0)}for(var I=0;I<f.length;I++){var C=[].concat(f[I]);a&&d[C[0]]||(_&&(C[2]?C[2]="".concat(_," and ").concat(C[2]):C[2]=_),y.push(C))}},y}},62:(m,E,y)=>{"use strict";var f,_=function(){return f===void 0&&(f=Boolean(window&&document&&document.all&&!window.atob)),f},a=function(){var h={};return function(g){if(h[g]===void 0){var r=document.querySelector(g);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch{r=null}h[g]=r}return h[g]}}(),d=[];function S(h){for(var g=-1,r=0;r<d.length;r++)if(d[r].identifier===h){g=r;break}return g}function U(h,g){for(var r={},u=[],w=0;w<h.length;w++){var v=h[w],T=g.base?v[0]+g.base:v[0],z=r[T]||0,L="".concat(T," ").concat(z);r[T]=z+1;var x=S(L),c={css:v[1],media:v[2],sourceMap:v[3]};x!==-1?(d[x].references++,d[x].updater(c)):d.push({identifier:L,updater:Z(c,g),references:1}),u.push(L)}return u}function I(h){var g=document.createElement("style"),r=h.attributes||{};if(r.nonce===void 0){var u=y.nc;u&&(r.nonce=u)}if(Object.keys(r).forEach(function(v){g.setAttribute(v,r[v])}),typeof h.insert=="function")h.insert(g);else{var w=a(h.insert||"head");if(!w)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");w.appendChild(g)}return g}var C,ge=(C=[],function(h,g){return C[h]=g,C.filter(Boolean).join(`
`)});function pe(h,g,r,u){var w=r?"":u.media?"@media ".concat(u.media," {").concat(u.css,"}"):u.css;if(h.styleSheet)h.styleSheet.cssText=ge(g,w);else{var v=document.createTextNode(w),T=h.childNodes;T[g]&&h.removeChild(T[g]),T.length?h.insertBefore(v,T[g]):h.appendChild(v)}}function me(h,g,r){var u=r.css,w=r.media,v=r.sourceMap;if(w?h.setAttribute("media",w):h.removeAttribute("media"),v&&typeof btoa<"u"&&(u+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(v))))," */")),h.styleSheet)h.styleSheet.cssText=u;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(u))}}var J=null,ee=0;function Z(h,g){var r,u,w;if(g.singleton){var v=ee++;r=J||(J=I(g)),u=pe.bind(null,r,v,!1),w=pe.bind(null,r,v,!0)}else r=I(g),u=me.bind(null,r,g),w=function(){(function(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T)})(r)};return u(h),function(T){if(T){if(T.css===h.css&&T.media===h.media&&T.sourceMap===h.sourceMap)return;u(h=T)}else w()}}m.exports=function(h,g){(g=g||{}).singleton||typeof g.singleton=="boolean"||(g.singleton=_());var r=U(h=h||[],g);return function(u){if(u=u||[],Object.prototype.toString.call(u)==="[object Array]"){for(var w=0;w<r.length;w++){var v=S(r[w]);d[v].references--}for(var T=U(u,g),z=0;z<r.length;z++){var L=S(r[z]);d[L].references===0&&(d[L].updater(),d.splice(L,1))}r=T}}}},704:(m,E,y)=>{m.exports=y(79)("./src/core.js")},181:(m,E,y)=>{m.exports=y(79)("./src/typing.js")},273:(m,E,y)=>{m.exports=y(79)("./src/ui.js")},209:(m,E,y)=>{m.exports=y(79)("./src/utils.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},Kt={};function re(m){var E=Kt[m];if(E!==void 0)return E.exports;var y=Kt[m]={id:m,exports:{}};return ti[m](y,y.exports,re),y.exports}re.n=m=>{var E=m&&m.__esModule?()=>m.default:()=>m;return re.d(E,{a:E}),E},re.d=(m,E)=>{for(var y in E)re.o(E,y)&&!re.o(m,y)&&Object.defineProperty(m,y,{enumerable:!0,get:E[y]})},re.o=(m,E)=>Object.prototype.hasOwnProperty.call(m,E),re.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},re.nc=void 0;var ii={};(()=>{"use strict";re.r(ii),re.d(ii,{SpecialCharacters:()=>g,SpecialCharactersArrows:()=>r,SpecialCharactersCurrency:()=>T,SpecialCharactersEssentials:()=>z,SpecialCharactersLatin:()=>v,SpecialCharactersMathematical:()=>w,SpecialCharactersText:()=>u});var m=re(704),E=re(181),y=re(273),f=re(209);class _ extends y.FormHeaderView{constructor(x,c){super(x);const D=x.t;this.set("class","ck-special-characters-navigation"),this.groupDropdownView=this._createGroupDropdown(c),this.groupDropdownView.panelPosition=x.uiLanguageDirection==="rtl"?"se":"sw",this.label=D("Special characters"),this.children.add(this.groupDropdownView)}get currentGroupName(){return this.groupDropdownView.value}focus(){this.groupDropdownView.focus()}_createGroupDropdown(x){const c=this.locale,D=c.t,W=(0,y.createDropdown)(c),q=this._getCharacterGroupListItemDefinitions(W,x);return W.set("value",q.first.model.name),W.buttonView.bind("label").to(W,"value",ae=>x.get(ae)),W.buttonView.set({isOn:!1,withText:!0,tooltip:D("Character categories"),class:["ck-dropdown__button_label-width_auto"]}),W.on("execute",ae=>{W.value=ae.source.name}),W.delegate("execute").to(this),(0,y.addListToDropdown)(W,q),W}_getCharacterGroupListItemDefinitions(x,c){const D=new f.Collection;for(const[W,q]of c){const ae={type:"button",model:new y.Model({name:W,label:q,withText:!0})};ae.model.bind("isOn").to(x,"value",Ie=>Ie===ae.model.name),D.add(ae)}return D}}var a=re(62),d=re.n(a),S=re(395),U={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};d()(S.Z,U),S.Z.locals;class I extends y.View{constructor(x){super(x),this.tiles=this.createCollection(),this.setTemplate({tag:"div",children:[{tag:"div",attributes:{class:["ck","ck-character-grid__tiles"]},children:this.tiles}],attributes:{class:["ck","ck-character-grid"]}}),this.focusTracker=new f.FocusTracker,this.keystrokes=new f.KeystrokeHandler,(0,y.addKeyboardHandlingForGrid)({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.tiles,numberOfColumns:()=>f.global.window.getComputedStyle(this.element.firstChild).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}createTile(x,c){const D=new y.ButtonView(this.locale);return D.set({label:x,withText:!0,class:"ck-character-grid__tile"}),D.extendTemplate({attributes:{title:c},on:{mouseover:D.bindTemplate.to("mouseover"),focus:D.bindTemplate.to("focus")}}),D.on("mouseover",()=>{this.fire("tileHover",{name:c,character:x})}),D.on("focus",()=>{this.fire("tileFocus",{name:c,character:x})}),D.on("execute",()=>{this.fire("execute",{name:c,character:x})}),D}render(){super.render();for(const x of this.tiles)this.focusTracker.add(x.element);this.tiles.on("change",(x,{added:c,removed:D})=>{if(c.length>0)for(const W of c)this.focusTracker.add(W.element);if(D.length>0)for(const W of D)this.focusTracker.remove(W.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy()}focus(){this.tiles.get(0).focus()}}var C=re(198),ge={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};d()(C.Z,ge),C.Z.locals;class pe extends y.View{constructor(x){super(x);const c=this.bindTemplate;this.set("character",null),this.set("name",null),this.bind("code").to(this,"character",me),this.setTemplate({tag:"div",children:[{tag:"span",attributes:{class:["ck-character-info__name"]},children:[{text:c.to("name",D=>D||"\u200B")}]},{tag:"span",attributes:{class:["ck-character-info__code"]},children:[{text:c.to("code")}]}],attributes:{class:["ck","ck-character-info"]}})}}function me(L){return L===null?"":"U+"+("0000"+L.codePointAt(0).toString(16)).slice(-4)}class J extends y.View{constructor(x,c,D,W){super(x),this.items=this.createCollection(),this.focusTracker=new f.FocusTracker,this.keystrokes=new f.KeystrokeHandler,this._focusCycler=new y.FocusCycler({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.navigationView=c,this.gridView=D,this.infoView=W,this.setTemplate({tag:"div",children:[this.navigationView,this.gridView,this.infoView],attributes:{tabindex:"-1"}}),this.items.add(this.navigationView.groupDropdownView.buttonView),this.items.add(this.gridView)}render(){super.render(),this.focusTracker.add(this.navigationView.groupDropdownView.buttonView.element),this.focusTracker.add(this.gridView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.navigationView.focus()}}var ee=re(454),Z={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};d()(ee.Z,Z),ee.Z.locals;const h="All";class g extends m.Plugin{static get requires(){return[E.Typing]}static get pluginName(){return"SpecialCharacters"}constructor(x){super(x);const c=x.t;this._characters=new Map,this._groups=new Map,this._allSpecialCharactersGroupLabel=c("All")}init(){const x=this.editor,c=x.t,D=x.commands.get("input");x.ui.componentFactory.add("specialCharacters",W=>{const q=(0,y.createDropdown)(W);let ae;return q.buttonView.set({label:c("Special characters"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2.5a7.47 7.47 0 0 1 4.231 1.31 7.268 7.268 0 0 1 2.703 3.454 7.128 7.128 0 0 1 .199 4.353c-.39 1.436-1.475 2.72-2.633 3.677h2.013c0-.226.092-.443.254-.603a.876.876 0 0 1 1.229 0c.163.16.254.377.254.603v.853c0 .209-.078.41-.22.567a.873.873 0 0 1-.547.28l-.101.006h-4.695a.517.517 0 0 1-.516-.518v-1.265c0-.21.128-.398.317-.489a5.601 5.601 0 0 0 2.492-2.371 5.459 5.459 0 0 0 .552-3.693 5.53 5.53 0 0 0-1.955-3.2A5.71 5.71 0 0 0 10 4.206 5.708 5.708 0 0 0 6.419 5.46 5.527 5.527 0 0 0 4.46 8.663a5.457 5.457 0 0 0 .554 3.695 5.6 5.6 0 0 0 2.497 2.37.55.55 0 0 1 .317.49v1.264c0 .286-.23.518-.516.518H2.618a.877.877 0 0 1-.614-.25.845.845 0 0 1-.254-.603v-.853c0-.226.091-.443.254-.603a.876.876 0 0 1 1.228 0c.163.16.255.377.255.603h1.925c-1.158-.958-2.155-2.241-2.545-3.678a7.128 7.128 0 0 1 .199-4.352 7.268 7.268 0 0 1 2.703-3.455A7.475 7.475 0 0 1 10 2.5z"/></svg>',tooltip:!0}),q.bind("isEnabled").to(D),q.on("execute",(Ie,Ve)=>{x.execute("insertText",{text:Ve.character}),x.editing.view.focus()}),q.on("change:isOpen",()=>{if(!ae){ae=this._createDropdownPanelContent(W,q);const Ie=new J(W,ae.navigationView,ae.gridView,ae.infoView);q.panelView.children.add(Ie)}ae.infoView.set({character:null,name:null})}),q})}addItems(x,c,D={label:x}){if(x===h)throw new f.CKEditorError("special-character-invalid-group-name",null);const W=this._getGroup(x,D.label);for(const q of c)W.items.add(q.title),this._characters.set(q.title,q.character)}getGroups(){const x=Array.from(this._groups.keys()),c=this.editor.config.get("specialCharacters.order")||[],D=c.find(W=>!x.includes(W));if(D)throw new f.CKEditorError("special-character-invalid-order-group-name",null,{invalidGroup:D});return new Set([...c,...x])}getCharactersForGroup(x){if(x===h)return new Set(this._characters.keys());const c=this._groups.get(x);return c?c.items:void 0}getCharacter(x){return this._characters.get(x)}_getGroup(x,c){return this._groups.has(x)||this._groups.set(x,{items:new Set,label:c}),this._groups.get(x)}_updateGrid(x,c){c.tiles.clear();const D=this.getCharactersForGroup(x);for(const W of D){const q=this.getCharacter(W);c.tiles.add(c.createTile(q,W))}}_createDropdownPanelContent(x,c){const D=new Map([[h,this._allSpecialCharactersGroupLabel],...Array.from(this.getGroups()).map(Ie=>[Ie,this._groups.get(Ie).label])]),W=new _(x,D),q=new I(x),ae=new pe(x);return q.delegate("execute").to(c),q.on("tileHover",(Ie,Ve)=>{ae.set(Ve)}),q.on("tileFocus",(Ie,Ve)=>{ae.set(Ve)}),W.on("execute",()=>{this._updateGrid(W.currentGroupName,q)}),this._updateGrid(W.currentGroupName,q),{navigationView:W,gridView:q,infoView:ae}}}class r extends m.Plugin{static get pluginName(){return"SpecialCharactersArrows"}init(){const x=this.editor,c=x.t;x.plugins.get("SpecialCharacters").addItems("Arrows",[{title:c("leftwards simple arrow"),character:"\u2190"},{title:c("rightwards simple arrow"),character:"\u2192"},{title:c("upwards simple arrow"),character:"\u2191"},{title:c("downwards simple arrow"),character:"\u2193"},{title:c("leftwards double arrow"),character:"\u21D0"},{title:c("rightwards double arrow"),character:"\u21D2"},{title:c("upwards double arrow"),character:"\u21D1"},{title:c("downwards double arrow"),character:"\u21D3"},{title:c("leftwards dashed arrow"),character:"\u21E0"},{title:c("rightwards dashed arrow"),character:"\u21E2"},{title:c("upwards dashed arrow"),character:"\u21E1"},{title:c("downwards dashed arrow"),character:"\u21E3"},{title:c("leftwards arrow to bar"),character:"\u21E4"},{title:c("rightwards arrow to bar"),character:"\u21E5"},{title:c("upwards arrow to bar"),character:"\u2912"},{title:c("downwards arrow to bar"),character:"\u2913"},{title:c("up down arrow with base"),character:"\u21A8"},{title:c("back with leftwards arrow above"),character:"\u{1F519}"},{title:c("end with leftwards arrow above"),character:"\u{1F51A}"},{title:c("on with exclamation mark with left right arrow above"),character:"\u{1F51B}"},{title:c("soon with rightwards arrow above"),character:"\u{1F51C}"},{title:c("top with upwards arrow above"),character:"\u{1F51D}"}],{label:c("Arrows")})}}class u extends m.Plugin{static get pluginName(){return"SpecialCharactersText"}init(){const x=this.editor,c=x.t;x.plugins.get("SpecialCharacters").addItems("Text",[{character:"\u2039",title:c("Single left-pointing angle quotation mark")},{character:"\u203A",title:c("Single right-pointing angle quotation mark")},{character:"\xAB",title:c("Left-pointing double angle quotation mark")},{character:"\xBB",title:c("Right-pointing double angle quotation mark")},{character:"\u2018",title:c("Left single quotation mark")},{character:"\u2019",title:c("Right single quotation mark")},{character:"\u201C",title:c("Left double quotation mark")},{character:"\u201D",title:c("Right double quotation mark")},{character:"\u201A",title:c("Single low-9 quotation mark")},{character:"\u201E",title:c("Double low-9 quotation mark")},{character:"\xA1",title:c("Inverted exclamation mark")},{character:"\xBF",title:c("Inverted question mark")},{character:"\u2025",title:c("Two dot leader")},{character:"\u2026",title:c("Horizontal ellipsis")},{character:"\u2021",title:c("Double dagger")},{character:"\u2030",title:c("Per mille sign")},{character:"\u2031",title:c("Per ten thousand sign")},{character:"\u203C",title:c("Double exclamation mark")},{character:"\u2048",title:c("Question exclamation mark")},{character:"\u2049",title:c("Exclamation question mark")},{character:"\u2047",title:c("Double question mark")},{character:"\xA9",title:c("Copyright sign")},{character:"\xAE",title:c("Registered sign")},{character:"\u2122",title:c("Trade mark sign")},{character:"\xA7",title:c("Section sign")},{character:"\xB6",title:c("Paragraph sign")},{character:"\u204B",title:c("Reversed paragraph sign")}],{label:c("Text")})}}class w extends m.Plugin{static get pluginName(){return"SpecialCharactersMathematical"}init(){const x=this.editor,c=x.t;x.plugins.get("SpecialCharacters").addItems("Mathematical",[{character:"<",title:c("Less-than sign")},{character:">",title:c("Greater-than sign")},{character:"\u2264",title:c("Less-than or equal to")},{character:"\u2265",title:c("Greater-than or equal to")},{character:"\u2013",title:c("En dash")},{character:"\u2014",title:c("Em dash")},{character:"\xAF",title:c("Macron")},{character:"\u203E",title:c("Overline")},{character:"\xB0",title:c("Degree sign")},{character:"\u2212",title:c("Minus sign")},{character:"\xB1",title:c("Plus-minus sign")},{character:"\xF7",title:c("Division sign")},{character:"\u2044",title:c("Fraction slash")},{character:"\xD7",title:c("Multiplication sign")},{character:"\u0192",title:c("Latin small letter f with hook")},{character:"\u222B",title:c("Integral")},{character:"\u2211",title:c("N-ary summation")},{character:"\u221E",title:c("Infinity")},{character:"\u221A",title:c("Square root")},{character:"\u223C",title:c("Tilde operator")},{character:"\u2245",title:c("Approximately equal to")},{character:"\u2248",title:c("Almost equal to")},{character:"\u2260",title:c("Not equal to")},{character:"\u2261",title:c("Identical to")},{character:"\u2208",title:c("Element of")},{character:"\u2209",title:c("Not an element of")},{character:"\u220B",title:c("Contains as member")},{character:"\u220F",title:c("N-ary product")},{character:"\u2227",title:c("Logical and")},{character:"\u2228",title:c("Logical or")},{character:"\xAC",title:c("Not sign")},{character:"\u2229",title:c("Intersection")},{character:"\u222A",title:c("Union")},{character:"\u2202",title:c("Partial differential")},{character:"\u2200",title:c("For all")},{character:"\u2203",title:c("There exists")},{character:"\u2205",title:c("Empty set")},{character:"\u2207",title:c("Nabla")},{character:"\u2217",title:c("Asterisk operator")},{character:"\u221D",title:c("Proportional to")},{character:"\u2220",title:c("Angle")},{character:"\xBC",title:c("Vulgar fraction one quarter")},{character:"\xBD",title:c("Vulgar fraction one half")},{character:"\xBE",title:c("Vulgar fraction three quarters")}],{label:c("Mathematical")})}}class v extends m.Plugin{static get pluginName(){return"SpecialCharactersLatin"}init(){const x=this.editor,c=x.t;x.plugins.get("SpecialCharacters").addItems("Latin",[{character:"\u0100",title:c("Latin capital letter a with macron")},{character:"\u0101",title:c("Latin small letter a with macron")},{character:"\u0102",title:c("Latin capital letter a with breve")},{character:"\u0103",title:c("Latin small letter a with breve")},{character:"\u0104",title:c("Latin capital letter a with ogonek")},{character:"\u0105",title:c("Latin small letter a with ogonek")},{character:"\u0106",title:c("Latin capital letter c with acute")},{character:"\u0107",title:c("Latin small letter c with acute")},{character:"\u0108",title:c("Latin capital letter c with circumflex")},{character:"\u0109",title:c("Latin small letter c with circumflex")},{character:"\u010A",title:c("Latin capital letter c with dot above")},{character:"\u010B",title:c("Latin small letter c with dot above")},{character:"\u010C",title:c("Latin capital letter c with caron")},{character:"\u010D",title:c("Latin small letter c with caron")},{character:"\u010E",title:c("Latin capital letter d with caron")},{character:"\u010F",title:c("Latin small letter d with caron")},{character:"\u0110",title:c("Latin capital letter d with stroke")},{character:"\u0111",title:c("Latin small letter d with stroke")},{character:"\u0112",title:c("Latin capital letter e with macron")},{character:"\u0113",title:c("Latin small letter e with macron")},{character:"\u0114",title:c("Latin capital letter e with breve")},{character:"\u0115",title:c("Latin small letter e with breve")},{character:"\u0116",title:c("Latin capital letter e with dot above")},{character:"\u0117",title:c("Latin small letter e with dot above")},{character:"\u0118",title:c("Latin capital letter e with ogonek")},{character:"\u0119",title:c("Latin small letter e with ogonek")},{character:"\u011A",title:c("Latin capital letter e with caron")},{character:"\u011B",title:c("Latin small letter e with caron")},{character:"\u011C",title:c("Latin capital letter g with circumflex")},{character:"\u011D",title:c("Latin small letter g with circumflex")},{character:"\u011E",title:c("Latin capital letter g with breve")},{character:"\u011F",title:c("Latin small letter g with breve")},{character:"\u0120",title:c("Latin capital letter g with dot above")},{character:"\u0121",title:c("Latin small letter g with dot above")},{character:"\u0122",title:c("Latin capital letter g with cedilla")},{character:"\u0123",title:c("Latin small letter g with cedilla")},{character:"\u0124",title:c("Latin capital letter h with circumflex")},{character:"\u0125",title:c("Latin small letter h with circumflex")},{character:"\u0126",title:c("Latin capital letter h with stroke")},{character:"\u0127",title:c("Latin small letter h with stroke")},{character:"\u0128",title:c("Latin capital letter i with tilde")},{character:"\u0129",title:c("Latin small letter i with tilde")},{character:"\u012A",title:c("Latin capital letter i with macron")},{character:"\u012B",title:c("Latin small letter i with macron")},{character:"\u012C",title:c("Latin capital letter i with breve")},{character:"\u012D",title:c("Latin small letter i with breve")},{character:"\u012E",title:c("Latin capital letter i with ogonek")},{character:"\u012F",title:c("Latin small letter i with ogonek")},{character:"\u0130",title:c("Latin capital letter i with dot above")},{character:"\u0131",title:c("Latin small letter dotless i")},{character:"\u0132",title:c("Latin capital ligature ij")},{character:"\u0133",title:c("Latin small ligature ij")},{character:"\u0134",title:c("Latin capital letter j with circumflex")},{character:"\u0135",title:c("Latin small letter j with circumflex")},{character:"\u0136",title:c("Latin capital letter k with cedilla")},{character:"\u0137",title:c("Latin small letter k with cedilla")},{character:"\u0138",title:c("Latin small letter kra")},{character:"\u0139",title:c("Latin capital letter l with acute")},{character:"\u013A",title:c("Latin small letter l with acute")},{character:"\u013B",title:c("Latin capital letter l with cedilla")},{character:"\u013C",title:c("Latin small letter l with cedilla")},{character:"\u013D",title:c("Latin capital letter l with caron")},{character:"\u013E",title:c("Latin small letter l with caron")},{character:"\u013F",title:c("Latin capital letter l with middle dot")},{character:"\u0140",title:c("Latin small letter l with middle dot")},{character:"\u0141",title:c("Latin capital letter l with stroke")},{character:"\u0142",title:c("Latin small letter l with stroke")},{character:"\u0143",title:c("Latin capital letter n with acute")},{character:"\u0144",title:c("Latin small letter n with acute")},{character:"\u0145",title:c("Latin capital letter n with cedilla")},{character:"\u0146",title:c("Latin small letter n with cedilla")},{character:"\u0147",title:c("Latin capital letter n with caron")},{character:"\u0148",title:c("Latin small letter n with caron")},{character:"\u0149",title:c("Latin small letter n preceded by apostrophe")},{character:"\u014A",title:c("Latin capital letter eng")},{character:"\u014B",title:c("Latin small letter eng")},{character:"\u014C",title:c("Latin capital letter o with macron")},{character:"\u014D",title:c("Latin small letter o with macron")},{character:"\u014E",title:c("Latin capital letter o with breve")},{character:"\u014F",title:c("Latin small letter o with breve")},{character:"\u0150",title:c("Latin capital letter o with double acute")},{character:"\u0151",title:c("Latin small letter o with double acute")},{character:"\u0152",title:c("Latin capital ligature oe")},{character:"\u0153",title:c("Latin small ligature oe")},{character:"\u0154",title:c("Latin capital letter r with acute")},{character:"\u0155",title:c("Latin small letter r with acute")},{character:"\u0156",title:c("Latin capital letter r with cedilla")},{character:"\u0157",title:c("Latin small letter r with cedilla")},{character:"\u0158",title:c("Latin capital letter r with caron")},{character:"\u0159",title:c("Latin small letter r with caron")},{character:"\u015A",title:c("Latin capital letter s with acute")},{character:"\u015B",title:c("Latin small letter s with acute")},{character:"\u015C",title:c("Latin capital letter s with circumflex")},{character:"\u015D",title:c("Latin small letter s with circumflex")},{character:"\u015E",title:c("Latin capital letter s with cedilla")},{character:"\u015F",title:c("Latin small letter s with cedilla")},{character:"\u0160",title:c("Latin capital letter s with caron")},{character:"\u0161",title:c("Latin small letter s with caron")},{character:"\u0162",title:c("Latin capital letter t with cedilla")},{character:"\u0163",title:c("Latin small letter t with cedilla")},{character:"\u0164",title:c("Latin capital letter t with caron")},{character:"\u0165",title:c("Latin small letter t with caron")},{character:"\u0166",title:c("Latin capital letter t with stroke")},{character:"\u0167",title:c("Latin small letter t with stroke")},{character:"\u0168",title:c("Latin capital letter u with tilde")},{character:"\u0169",title:c("Latin small letter u with tilde")},{character:"\u016A",title:c("Latin capital letter u with macron")},{character:"\u016B",title:c("Latin small letter u with macron")},{character:"\u016C",title:c("Latin capital letter u with breve")},{character:"\u016D",title:c("Latin small letter u with breve")},{character:"\u016E",title:c("Latin capital letter u with ring above")},{character:"\u016F",title:c("Latin small letter u with ring above")},{character:"\u0170",title:c("Latin capital letter u with double acute")},{character:"\u0171",title:c("Latin small letter u with double acute")},{character:"\u0172",title:c("Latin capital letter u with ogonek")},{character:"\u0173",title:c("Latin small letter u with ogonek")},{character:"\u0174",title:c("Latin capital letter w with circumflex")},{character:"\u0175",title:c("Latin small letter w with circumflex")},{character:"\u0176",title:c("Latin capital letter y with circumflex")},{character:"\u0177",title:c("Latin small letter y with circumflex")},{character:"\u0178",title:c("Latin capital letter y with diaeresis")},{character:"\u0179",title:c("Latin capital letter z with acute")},{character:"\u017A",title:c("Latin small letter z with acute")},{character:"\u017B",title:c("Latin capital letter z with dot above")},{character:"\u017C",title:c("Latin small letter z with dot above")},{character:"\u017D",title:c("Latin capital letter z with caron")},{character:"\u017E",title:c("Latin small letter z with caron")},{character:"\u017F",title:c("Latin small letter long s")}],{label:c("Latin")})}}class T extends m.Plugin{static get pluginName(){return"SpecialCharactersCurrency"}init(){const x=this.editor,c=x.t;x.plugins.get("SpecialCharacters").addItems("Currency",[{character:"$",title:c("Dollar sign")},{character:"\u20AC",title:c("Euro sign")},{character:"\xA5",title:c("Yen sign")},{character:"\xA3",title:c("Pound sign")},{character:"\xA2",title:c("Cent sign")},{character:"\u20A0",title:c("Euro-currency sign")},{character:"\u20A1",title:c("Colon sign")},{character:"\u20A2",title:c("Cruzeiro sign")},{character:"\u20A3",title:c("French franc sign")},{character:"\u20A4",title:c("Lira sign")},{character:"\xA4",title:c("Currency sign")},{character:"\u20BF",title:c("Bitcoin sign")},{character:"\u20A5",title:c("Mill sign")},{character:"\u20A6",title:c("Naira sign")},{character:"\u20A7",title:c("Peseta sign")},{character:"\u20A8",title:c("Rupee sign")},{character:"\u20A9",title:c("Won sign")},{character:"\u20AA",title:c("New sheqel sign")},{character:"\u20AB",title:c("Dong sign")},{character:"\u20AD",title:c("Kip sign")},{character:"\u20AE",title:c("Tugrik sign")},{character:"\u20AF",title:c("Drachma sign")},{character:"\u20B0",title:c("German penny sign")},{character:"\u20B1",title:c("Peso sign")},{character:"\u20B2",title:c("Guarani sign")},{character:"\u20B3",title:c("Austral sign")},{character:"\u20B4",title:c("Hryvnia sign")},{character:"\u20B5",title:c("Cedi sign")},{character:"\u20B6",title:c("Livre tournois sign")},{character:"\u20B7",title:c("Spesmilo sign")},{character:"\u20B8",title:c("Tenge sign")},{character:"\u20B9",title:c("Indian rupee sign")},{character:"\u20BA",title:c("Turkish lira sign")},{character:"\u20BB",title:c("Nordic mark sign")},{character:"\u20BC",title:c("Manat sign")},{character:"\u20BD",title:c("Ruble sign")}],{label:c("Currency")})}}class z extends m.Plugin{static get requires(){return[T,u,w,r,v]}}})(),(window.CKEditor5=window.CKEditor5||{}).specialCharacters=ii})()},58174:(ti,Kt,re)=>{(function(ii){const m=ii.en=ii.en||{};m.dictionary=Object.assign(m.dictionary||{},{"Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Background:"Background",Border:"Border","Cell properties":"Cell properties","Center table":"Center table",Color:"Color","Color picker":"Color picker",Column:"Column",Dashed:"Dashed","Delete column":"Delete column","Delete row":"Delete row",Dimensions:"Dimensions",Dotted:"Dotted",Double:"Double","Enter table caption":"Enter table caption",Groove:"Groove","Header column":"Header column","Header row":"Header row",Height:"Height","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table",Inset:"Inset","Justify cell text":"Justify cell text","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",None:"None",Outset:"Outset",Padding:"Padding",Ridge:"Ridge",Row:"Row","Select column":"Select column","Select row":"Select row",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Style:"Style","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".','The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Vertical text alignment toolbar":"Vertical text alignment toolbar",Width:"Width"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var ii={252:(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a(609),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}",""]);const U=S},934:(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a(609),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}",""]);const U=S},333:(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a(609),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}",""]);const U=S},272:(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a(609),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}",""]);const U=S},660:(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a(609),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}",""]);const U=S},665:(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a(609),S=a.n(d)()(function(I){return I[1]});S.push([f.id,":root{--ck-color-table-caption-background:#f7f7f7;--ck-color-table-caption-text:#333;--ck-color-table-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-table-caption-background);caption-side:top;color:var(--ck-color-table-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-table-caption-highlighted-background)}to{background-color:var(--ck-color-table-caption-background)}}",""]);const U=S},773:(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a(609),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}",""]);const U=S},975:(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a(609),S=a.n(d)()(function(I){return I[1]});S.push([f.id,":root{--ck-color-table-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:-999999px;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:-999999px;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-table-column-resizer-hover);opacity:.25}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}",""]);const U=S},482:(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a(609),S=a.n(d)()(function(I){return I[1]});S.push([f.id,":root{--ck-color-table-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}",""]);const U=S},686:(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a(609),S=a.n(d)()(function(I){return I[1]});S.push([f.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',""]);const U=S},99:(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a(609),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}",""]);const U=S},475:(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a(609),S=a.n(d)()(function(I){return I[1]});S.push([f.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',""]);const U=S},609:f=>{"use strict";f.exports=function(_){var a=[];return a.toString=function(){return this.map(function(d){var S=_(d);return d[2]?"@media ".concat(d[2]," {").concat(S,"}"):S}).join("")},a.i=function(d,S,U){typeof d=="string"&&(d=[[null,d,""]]);var I={};if(U)for(var C=0;C<this.length;C++){var ge=this[C][0];ge!=null&&(I[ge]=!0)}for(var pe=0;pe<d.length;pe++){var me=[].concat(d[pe]);U&&I[me[0]]||(S&&(me[2]?me[2]="".concat(S," and ").concat(me[2]):me[2]=S),a.push(me))}},a}},62:(f,_,a)=>{"use strict";var d,S=function(){return d===void 0&&(d=Boolean(window&&document&&document.all&&!window.atob)),d},U=function(){var u={};return function(w){if(u[w]===void 0){var v=document.querySelector(w);if(window.HTMLIFrameElement&&v instanceof window.HTMLIFrameElement)try{v=v.contentDocument.head}catch{v=null}u[w]=v}return u[w]}}(),I=[];function C(u){for(var w=-1,v=0;v<I.length;v++)if(I[v].identifier===u){w=v;break}return w}function ge(u,w){for(var v={},T=[],z=0;z<u.length;z++){var L=u[z],x=w.base?L[0]+w.base:L[0],c=v[x]||0,D="".concat(x," ").concat(c);v[x]=c+1;var W=C(D),q={css:L[1],media:L[2],sourceMap:L[3]};W!==-1?(I[W].references++,I[W].updater(q)):I.push({identifier:D,updater:r(q,w),references:1}),T.push(D)}return T}function pe(u){var w=document.createElement("style"),v=u.attributes||{};if(v.nonce===void 0){var T=a.nc;T&&(v.nonce=T)}if(Object.keys(v).forEach(function(L){w.setAttribute(L,v[L])}),typeof u.insert=="function")u.insert(w);else{var z=U(u.insert||"head");if(!z)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");z.appendChild(w)}return w}var me,J=(me=[],function(u,w){return me[u]=w,me.filter(Boolean).join(`
`)});function ee(u,w,v,T){var z=v?"":T.media?"@media ".concat(T.media," {").concat(T.css,"}"):T.css;if(u.styleSheet)u.styleSheet.cssText=J(w,z);else{var L=document.createTextNode(z),x=u.childNodes;x[w]&&u.removeChild(x[w]),x.length?u.insertBefore(L,x[w]):u.appendChild(L)}}function Z(u,w,v){var T=v.css,z=v.media,L=v.sourceMap;if(z?u.setAttribute("media",z):u.removeAttribute("media"),L&&typeof btoa<"u"&&(T+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(L))))," */")),u.styleSheet)u.styleSheet.cssText=T;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(T))}}var h=null,g=0;function r(u,w){var v,T,z;if(w.singleton){var L=g++;v=h||(h=pe(w)),T=ee.bind(null,v,L,!1),z=ee.bind(null,v,L,!0)}else v=pe(w),T=Z.bind(null,v,w),z=function(){(function(x){if(x.parentNode===null)return!1;x.parentNode.removeChild(x)})(v)};return T(u),function(x){if(x){if(x.css===u.css&&x.media===u.media&&x.sourceMap===u.sourceMap)return;T(u=x)}else z()}}f.exports=function(u,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=S());var v=ge(u=u||[],w);return function(T){if(T=T||[],Object.prototype.toString.call(T)==="[object Array]"){for(var z=0;z<v.length;z++){var L=C(v[z]);I[L].references--}for(var x=ge(T,w),c=0;c<v.length;c++){var D=C(v[c]);I[D].references===0&&(I[D].updater(),I.splice(D,1))}v=x}}}},704:(f,_,a)=>{f.exports=a(79)("./src/core.js")},492:(f,_,a)=>{f.exports=a(79)("./src/engine.js")},273:(f,_,a)=>{f.exports=a(79)("./src/ui.js")},209:(f,_,a)=>{f.exports=a(79)("./src/utils.js")},995:(f,_,a)=>{f.exports=a(79)("./src/widget.js")},79:f=>{"use strict";f.exports=CKEditor5.dll}},m={};function E(f){var _=m[f];if(_!==void 0)return _.exports;var a=m[f]={id:f,exports:{}};return ii[f](a,a.exports,E),a.exports}E.n=f=>{var _=f&&f.__esModule?()=>f.default:()=>f;return E.d(_,{a:_}),_},E.d=(f,_)=>{for(var a in _)E.o(_,a)&&!E.o(f,a)&&Object.defineProperty(f,a,{enumerable:!0,get:_[a]})},E.o=(f,_)=>Object.prototype.hasOwnProperty.call(f,_),E.r=f=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},E.nc=void 0;var y={};(()=>{"use strict";E.r(y),E.d(y,{PlainTableOutput:()=>Ct,Table:()=>st,TableCaption:()=>Gn,TableCaptionEditing:()=>qo,TableCaptionUI:()=>Eo,TableCellProperties:()=>sr,TableCellPropertiesEditing:()=>ho,TableCellPropertiesUI:()=>Ki,TableCellWidthEditing:()=>to,TableClipboard:()=>pn,TableColumnResize:()=>On,TableColumnResizeEditing:()=>ko,TableEditing:()=>gi,TableKeyboard:()=>V,TableMouse:()=>N,TableProperties:()=>dr,TablePropertiesEditing:()=>Ho,TablePropertiesUI:()=>To,TableSelection:()=>Ri,TableToolbar:()=>Oi,TableUI:()=>Fi,TableUtils:()=>Dt});var f=E(704),_=E(995);function a(X,l){const{viewElement:b,defaultValue:M,modelAttribute:A,styleName:$,reduceBoxSides:K=!1,shouldUpcast:ie=()=>!0}=l;X.for("upcast").attributeToAttribute({view:{name:b,styles:{[$]:/[\s\S]+/}},model:{key:A,value:oe=>{if(!ie(oe))return;const xe=oe.getNormalizedStyle($),Oe=K?I(xe):xe;return M!==Oe?Oe:void 0}}})}function d(X,l,b,M){X.for("upcast").add(A=>A.on("element:"+l,($,K,ie)=>{if(!K.modelRange)return;const oe=["border-top-width","border-top-color","border-top-style","border-bottom-width","border-bottom-color","border-bottom-style","border-right-width","border-right-color","border-right-style","border-left-width","border-left-color","border-left-style"].filter(Vt=>K.viewItem.hasStyle(Vt));if(!oe.length)return;const xe={styles:oe};if(!ie.consumable.test(K.viewItem,xe))return;const Oe=[...K.modelRange.getItems({shallow:!0})].pop();ie.consumable.consume(K.viewItem,xe);const Xe={style:K.viewItem.getNormalizedStyle("border-style"),color:K.viewItem.getNormalizedStyle("border-color"),width:K.viewItem.getNormalizedStyle("border-width")},pt={style:I(Xe.style),color:I(Xe.color),width:I(Xe.width)};pt.style!==M.style&&ie.writer.setAttribute(b.style,pt.style,Oe),pt.color!==M.color&&ie.writer.setAttribute(b.color,pt.color,Oe),pt.width!==M.width&&ie.writer.setAttribute(b.width,pt.width,Oe)}))}function S(X,{modelElement:l,modelAttribute:b,styleName:M}){X.for("downcast").attributeToAttribute({model:{name:l,key:b},view:A=>({key:"style",value:{[M]:A}})})}function U(X,{modelAttribute:l,styleName:b}){X.for("downcast").add(M=>M.on(`attribute:${l}:table`,(A,$,K)=>{const{item:ie,attributeNewValue:oe}=$,{mapper:xe,writer:Oe}=K;if(!K.consumable.consume($.item,A.name))return;const Xe=[...xe.toViewElement(ie).getChildren()].find(pt=>pt.is("element","table"));oe?Oe.setStyle(b,oe,Xe):Oe.removeStyle(b,Xe)}))}function I(X){if(X)return["top","right","bottom","left"].map(l=>X[l]).reduce((l,b)=>l==b?l:null)||X}function C(X,l,b,M,A=1){l>A?M.setAttribute(X,l,b):M.removeAttribute(X,b)}function ge(X,l,b={}){const M=X.createElement("tableCell",b);return X.insertElement("paragraph",M),X.insert(M,l),M}function pe(X,l){const b=l.parent.parent,M=parseInt(b.getAttribute("headingColumns")||0),{column:A}=X.getCellLocation(l);return!!M&&A<M}function me(X,l,b){const{modelAttribute:M}=b;X.extend("tableCell",{allowAttributes:[M]}),a(l,{viewElement:/^(td|th)$/,...b}),S(l,{modelElement:"tableCell",...b})}var J=E(209);function ee(){return X=>{X.on("element:table",(l,b,M)=>{const A=b.viewItem;if(!M.consumable.test(A,{name:!0}))return;const{rows:$,headingRows:K,headingColumns:ie}=function(Oe){const Xe={headingRows:0,headingColumns:0},pt=[],Vt=[];let ei;for(const qt of Array.from(Oe.getChildren()))if(qt.name==="tbody"||qt.name==="thead"||qt.name==="tfoot"){qt.name!=="thead"||ei||(ei=qt);const di=Array.from(qt.getChildren()).filter(ki=>ki.is("element","tr"));for(const ki of di)if(ki.parent.name==="thead"&&ki.parent===ei)Xe.headingRows++,pt.push(ki);else{Vt.push(ki);const Ci=h(ki);Ci>Xe.headingColumns&&(Xe.headingColumns=Ci)}}return Xe.rows=[...pt,...Vt],Xe}(A),oe={};ie&&(oe.headingColumns=ie),K&&(oe.headingRows=K);const xe=M.writer.createElement("table",oe);if(M.safeInsert(xe,b.modelCursor)){if(M.consumable.consume(A,{name:!0}),$.forEach(Oe=>M.convertItem(Oe,M.writer.createPositionAt(xe,"end"))),M.convertChildren(A,M.writer.createPositionAt(xe,"end")),xe.isEmpty){const Oe=M.writer.createElement("tableRow");M.writer.insert(Oe,M.writer.createPositionAt(xe,"end")),ge(M.writer,M.writer.createPositionAt(Oe,"end"))}M.updateConversionResult(xe,b)}})}}function Z(X){return l=>{l.on(`element:${X}`,(b,M,{writer:A})=>{if(!M.modelRange)return;const $=M.modelRange.start.nodeAfter,K=A.createPositionAt($,0);if(M.viewItem.isEmpty)return void A.insertElement("paragraph",K);const ie=Array.from($.getChildren());if(ie.every(oe=>oe.is("element","$marker"))){const oe=A.createElement("paragraph");A.insert(oe,A.createPositionAt($,0));for(const xe of ie)A.move(A.createRangeOn(xe),A.createPositionAt(oe,"end"))}},{priority:"low"})}}function h(X){let l=0,b=0;const M=Array.from(X.getChildren()).filter(A=>A.name==="th"||A.name==="td");for(;b<M.length&&M[b].name==="th";){const A=M[b];l+=parseInt(A.getAttribute("colspan")||1),b++}return l}class g{constructor(l,b={}){this._table=l,this._startRow=b.row!==void 0?b.row:b.startRow||0,this._endRow=b.row!==void 0?b.row:b.endRow,this._startColumn=b.column!==void 0?b.column:b.startColumn||0,this._endColumn=b.column!==void 0?b.column:b.endColumn,this._includeAllSlots=!!b.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const l=this._table.getChild(this._rowIndex);if(!l||this._isOverEndRow())return{done:!0};if(!l.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let b=null;const M=this._getSpanned();if(M)this._includeAllSlots&&!this._shouldSkipSlot()&&(b=this._formatOutValue(M.cell,M.row,M.column));else{const A=l.getChild(this._cellIndex);if(!A)return this._advanceToNextRow();const $=parseInt(A.getAttribute("colspan")||1),K=parseInt(A.getAttribute("rowspan")||1);($>1||K>1)&&this._recordSpans(A,K,$),this._shouldSkipSlot()||(b=this._formatOutValue(A)),this._nextCellAtColumn=this._column+$}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,b||this.next()}skipRow(l){this._skipRows.add(l)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(l,b=this._row,M=this._column){return{done:!1,value:new r(this,l,b,M)}}_shouldSkipSlot(){const l=this._skipRows.has(this._row),b=this._row<this._startRow,M=this._column<this._startColumn,A=this._endColumn!==void 0&&this._column>this._endColumn;return l||b||M||A}_getSpanned(){const l=this._spannedCells.get(this._row);return l&&l.get(this._column)||null}_recordSpans(l,b,M){const A={cell:l,row:this._row,column:this._column};for(let $=this._row;$<this._row+b;$++)for(let K=this._column;K<this._column+M;K++)$==this._row&&K==this._column||this._markSpannedCell($,K,A)}_markSpannedCell(l,b,M){this._spannedCells.has(l)||this._spannedCells.set(l,new Map),this._spannedCells.get(l).set(b,M)}}class r{constructor(l,b,M,A){this.cell=b,this.row=l._row,this.column=l._column,this.cellAnchorRow=M,this.cellAnchorColumn=A,this._cellIndex=l._cellIndex,this._rowIndex=l._rowIndex,this._table=l._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||1)}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||1)}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function u(X,l={}){return(b,{writer:M})=>{const A=b.getAttribute("headingRows")||0,$=[];A>0&&$.push(M.createContainerElement("thead",null,M.createSlot(ie=>ie.is("element","tableRow")&&ie.index<A))),A<X.getRows(b)&&$.push(M.createContainerElement("tbody",null,M.createSlot(ie=>ie.is("element","tableRow")&&ie.index>=A)));const K=M.createContainerElement("figure",{class:"table"},[M.createContainerElement("table",null,$),M.createSlot(ie=>!ie.is("element","tableRow"))]);return l.asWidget?function(ie,oe){return oe.setCustomProperty("table",!0,ie),(0,_.toWidget)(ie,oe,{hasSelectionHandle:!0})}(K,M):K}}function w(X={}){return(l,{writer:b})=>{const M=l.parent,A=M.parent,$=A.getChildIndex(M),K=new g(A,{row:$}),ie=A.getAttribute("headingRows")||0,oe=A.getAttribute("headingColumns")||0;for(const xe of K)if(xe.cell==l){const Oe=xe.row<ie||xe.column<oe?"th":"td";return X.asWidget?(0,_.toWidgetEditable)(b.createEditableElement(Oe),b):b.createContainerElement(Oe)}}}function v(X={}){return(l,{writer:b})=>{if(l.parent.is("element","tableCell")&&T(l)){if(X.asWidget)return b.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const M=b.createContainerElement("p");return b.setCustomProperty("dataPipeline:transparentRendering",!0,M),M}}}}function T(X){return X.parent.childCount==1&&![...X.getAttributeKeys()].length}class z extends f.Command{refresh(){const l=this.editor.model,b=l.document.selection,M=l.schema;this.isEnabled=function(A,$){const K=A.getFirstPosition().parent,ie=K===K.root?K:K.parent;return $.checkChild(ie,"table")}(b,M)}execute(l={}){const b=this.editor.model,M=this.editor.plugins.get("TableUtils"),A=this.editor.config.get("table"),$=A.defaultHeadings.rows,K=A.defaultHeadings.columns;l.headingRows===void 0&&$&&(l.headingRows=$),l.headingColumns===void 0&&K&&(l.headingColumns=K),b.change(ie=>{const oe=M.createTable(ie,l);b.insertObject(oe,null,null,{findOptimalPosition:"auto"}),ie.setSelection(ie.createPositionAt(oe.getNodeByPath([0,0,0]),0))})}}class L extends f.Command{constructor(l,b={}){super(l),this.order=b.order||"below"}refresh(){const l=this.editor.model.document.selection,b=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(l).length;this.isEnabled=b}execute(){const l=this.editor,b=l.model.document.selection,M=l.plugins.get("TableUtils"),A=this.order==="above",$=M.getSelectionAffectedTableCells(b),K=M.getRowIndexes($),ie=A?K.first:K.last,oe=$[0].findAncestor("table");M.insertRows(oe,{at:A?ie:ie+1,copyStructureFromAbove:!A})}}class x extends f.Command{constructor(l,b={}){super(l),this.order=b.order||"right"}refresh(){const l=this.editor.model.document.selection,b=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(l).length;this.isEnabled=b}execute(){const l=this.editor,b=l.model.document.selection,M=l.plugins.get("TableUtils"),A=this.order==="left",$=M.getSelectionAffectedTableCells(b),K=M.getColumnIndexes($),ie=A?K.first:K.last,oe=$[0].findAncestor("table");M.insertColumns(oe,{columns:1,at:A?ie:ie+1})}}class c extends f.Command{constructor(l,b={}){super(l),this.direction=b.direction||"horizontally"}refresh(){const l=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=l.length===1}execute(){const l=this.editor.plugins.get("TableUtils"),b=l.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?l.splitCellHorizontally(b,2):l.splitCellVertically(b,2)}}function D(X,l,b){const{startRow:M,startColumn:A,endRow:$,endColumn:K}=l,ie=b.createElement("table"),oe=$-M+1;for(let Oe=0;Oe<oe;Oe++)b.insertElement("tableRow",ie,"end");const xe=[...new g(X,{startRow:M,endRow:$,startColumn:A,endColumn:K,includeAllSlots:!0})];for(const{row:Oe,column:Xe,cell:pt,isAnchor:Vt,cellAnchorRow:ei,cellAnchorColumn:qt}of xe){const di=Oe-M,ki=ie.getChild(di);if(Vt){const Ci=b.cloneElement(pt);b.append(Ci,ki),Ve(Ci,Oe,Xe,$,K,b)}else(ei<M||qt<A)&&ge(b,b.createPositionAt(ki,"end"))}return function(Oe,Xe,pt,Vt,ei){const qt=parseInt(Xe.getAttribute("headingRows")||0);qt>0&&C("headingRows",qt-pt,Oe,ei,0);const di=parseInt(Xe.getAttribute("headingColumns")||0);di>0&&C("headingColumns",di-Vt,Oe,ei,0)}(ie,X,M,A,b),ie}function W(X,l,b=0){const M=[],A=new g(X,{startRow:b,endRow:l-1});for(const $ of A){const{row:K,cellHeight:ie}=$;K<l&&l<=K+ie-1&&M.push($)}return M}function q(X,l,b){const M=X.parent,A=M.parent,$=M.index,K=l-$,ie={},oe=parseInt(X.getAttribute("rowspan"))-K;oe>1&&(ie.rowspan=oe);const xe=parseInt(X.getAttribute("colspan")||1);xe>1&&(ie.colspan=xe);const Oe=$+K,Xe=[...new g(A,{startRow:$,endRow:Oe,includeAllSlots:!0})];let pt,Vt=null;for(const ei of Xe){const{row:qt,column:di,cell:ki}=ei;ki===X&&pt===void 0&&(pt=di),pt!==void 0&&pt===di&&qt===Oe&&(Vt=ge(b,ei.getPositionBefore(),ie))}return C("rowspan",K,X,b),Vt}function ae(X,l){const b=[],M=new g(X);for(const A of M){const{column:$,cellWidth:K}=A;$<l&&l<=$+K-1&&b.push(A)}return b}function Ie(X,l,b,M){const A=b-l,$={},K=parseInt(X.getAttribute("colspan"))-A;K>1&&($.colspan=K);const ie=parseInt(X.getAttribute("rowspan")||1);ie>1&&($.rowspan=ie);const oe=ge(M,M.createPositionAfter(X),$);return C("colspan",A,X,M),oe}function Ve(X,l,b,M,A,$){const K=parseInt(X.getAttribute("colspan")||1),ie=parseInt(X.getAttribute("rowspan")||1);b+K-1>A&&C("colspan",A-b+1,X,$,1),l+ie-1>M&&C("rowspan",M-l+1,X,$,1)}function _e(X,l){const b=l.getColumns(X),M=new Array(b).fill(0);for(const{column:$}of new g(X))M[$]++;const A=M.reduce(($,K,ie)=>K?$:[...$,ie],[]);if(A.length>0){const $=A[A.length-1];return l.removeColumns(X,{at:$}),!0}return!1}function Me(X,l){const b=[],M=l.getRows(X);for(let A=0;A<M;A++)X.getChild(A).isEmpty&&b.push(A);if(b.length>0){const A=b[b.length-1];return l.removeRows(X,{at:A}),!0}return!1}function Qe(X,l){_e(X,l)||Me(X,l)}function ut(X,l){const b=Array.from(new g(X,{startColumn:l.firstColumn,endColumn:l.lastColumn,row:l.lastRow}));if(b.every(({cellHeight:A})=>A===1))return l.lastRow;const M=b[0].cellHeight-1;return l.lastRow+M}function rt(X,l){const b=Array.from(new g(X,{startRow:l.firstRow,endRow:l.lastRow,column:l.lastColumn}));if(b.every(({cellWidth:A})=>A===1))return l.lastColumn;const M=b[0].cellWidth-1;return l.lastColumn+M}class qe extends f.Command{constructor(l,b){super(l),this.direction=b.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const l=this._getMergeableCell();this.value=l,this.isEnabled=!!l}execute(){const l=this.editor.model,b=l.document,M=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(b.selection)[0],A=this.value,$=this.direction;l.change(K=>{const ie=$=="right"||$=="down",oe=ie?M:A,xe=ie?A:M,Oe=xe.parent;(function(qt,di,ki){et(qt)||(et(di)&&ki.remove(ki.createRangeIn(di)),ki.move(ki.createRangeIn(qt),ki.createPositionAt(di,"end"))),ki.remove(qt)})(xe,oe,K);const Xe=this.isHorizontal?"colspan":"rowspan",pt=parseInt(M.getAttribute(Xe)||1),Vt=parseInt(A.getAttribute(Xe)||1);K.setAttribute(Xe,pt+Vt,oe),K.setSelection(K.createRangeIn(oe));const ei=this.editor.plugins.get("TableUtils");Qe(Oe.findAncestor("table"),ei)})}_getMergeableCell(){const l=this.editor.model.document,b=this.editor.plugins.get("TableUtils"),M=b.getTableCellsContainingSelection(l.selection)[0];if(!M)return;const A=this.isHorizontal?function(ie,oe,xe){const Oe=ie.parent,Xe=Oe.parent,pt=oe=="right"?ie.nextSibling:ie.previousSibling,Vt=(Xe.getAttribute("headingColumns")||0)>0;if(!pt)return;const ei=oe=="right"?ie:pt,qt=oe=="right"?pt:ie,{column:di}=xe.getCellLocation(ei),{column:ki}=xe.getCellLocation(qt),Ci=parseInt(ei.getAttribute("colspan")||1),Hi=pe(xe,ei),Gi=pe(xe,qt);if(!(Vt&&Hi!=Gi))return di+Ci===ki?pt:void 0}(M,this.direction,b):function(ie,oe,xe){const Oe=ie.parent,Xe=Oe.parent,pt=Xe.getChildIndex(Oe);if(oe=="down"&&pt===xe.getRows(Xe)-1||oe=="up"&&pt===0)return;const Vt=parseInt(ie.getAttribute("rowspan")||1),ei=Xe.getAttribute("headingRows")||0,qt=oe=="down"&&pt+Vt===ei,di=oe=="up"&&pt===ei;if(ei&&(qt||di))return;const ki=parseInt(ie.getAttribute("rowspan")||1),Ci=oe=="down"?pt+ki:pt,Hi=[...new g(Xe,{endRow:Ci})],Gi=Hi.find(Xi=>Xi.cell===ie),un=Gi.column,kn=Hi.find(({row:Xi,cellHeight:Yn,column:ne})=>ne===un&&(oe=="down"?Xi===Ci:Ci===Xi+Yn));return kn&&kn.cell}(M,this.direction,b);if(!A)return;const $=this.isHorizontal?"rowspan":"colspan",K=parseInt(M.getAttribute($)||1);return parseInt(A.getAttribute($)||1)===K?A:void 0}}function et(X){return X.childCount==1&&X.getChild(0).is("element","paragraph")&&X.getChild(0).isEmpty}class Bt extends f.Command{refresh(){const l=this.editor.plugins.get("TableUtils"),b=l.getSelectionAffectedTableCells(this.editor.model.document.selection),M=b[0];if(M){const A=M.findAncestor("table"),$=this.editor.plugins.get("TableUtils").getRows(A)-1,K=l.getRowIndexes(b),ie=K.first===0&&K.last===$;this.isEnabled=!ie}else this.isEnabled=!1}execute(){const l=this.editor.model,b=this.editor.plugins.get("TableUtils"),M=b.getSelectionAffectedTableCells(l.document.selection),A=b.getRowIndexes(M),$=M[0],K=$.findAncestor("table"),ie=b.getCellLocation($).column;l.change(oe=>{const xe=A.last-A.first+1;b.removeRows(K,{at:A.first,rows:xe});const Oe=function(Xe,pt,Vt,ei){const qt=Xe.getChild(Math.min(pt,ei-1));let di=qt.getChild(0),ki=0;for(const Ci of qt.getChildren()){if(ki>Vt)return di;di=Ci,ki+=parseInt(Ci.getAttribute("colspan")||1)}return di}(K,A.first,ie,b.getRows(K));oe.setSelection(oe.createPositionAt(Oe,0))})}}class Nt extends f.Command{refresh(){const l=this.editor.plugins.get("TableUtils"),b=l.getSelectionAffectedTableCells(this.editor.model.document.selection),M=b[0];if(M){const A=M.findAncestor("table"),$=l.getColumns(A),{first:K,last:ie}=l.getColumnIndexes(b);this.isEnabled=ie-K<$-1}else this.isEnabled=!1}execute(){const l=this.editor.plugins.get("TableUtils"),[b,M]=function(oe,xe){const Oe=xe.getSelectionAffectedTableCells(oe),Xe=Oe[0],pt=Oe.pop(),Vt=[Xe,pt];return Xe.isBefore(pt)?Vt:Vt.reverse()}(this.editor.model.document.selection,l),A=b.parent.parent,$=[...new g(A)],K={first:$.find(oe=>oe.cell===b).column,last:$.find(oe=>oe.cell===M).column},ie=function(oe,xe,Oe,Xe){return parseInt(Oe.getAttribute("colspan")||1)>1?Oe:xe.previousSibling||Oe.nextSibling?Oe.nextSibling||xe.previousSibling:Xe.first?oe.reverse().find(({column:Vt})=>Vt<Xe.first).cell:oe.reverse().find(({column:Vt})=>Vt>Xe.last).cell}($,b,M,K);this.editor.model.change(oe=>{const xe=K.last-K.first+1;this.editor.plugins.get("TableUtils").removeColumns(A,{at:K.first,columns:xe}),oe.setSelection(oe.createPositionAt(ie,0))})}}class xt extends f.Command{refresh(){const l=this.editor.plugins.get("TableUtils"),b=this.editor.model,M=l.getSelectionAffectedTableCells(b.document.selection),A=M.length>0;this.isEnabled=A,this.value=A&&M.every($=>this._isInHeading($,$.parent.parent))}execute(l={}){if(l.forceValue===this.value)return;const b=this.editor.plugins.get("TableUtils"),M=this.editor.model,A=b.getSelectionAffectedTableCells(M.document.selection),$=A[0].findAncestor("table"),{first:K,last:ie}=b.getRowIndexes(A),oe=this.value?K:ie+1,xe=$.getAttribute("headingRows")||0;M.change(Oe=>{if(oe){const Xe=W($,oe,oe>xe?xe:0);for(const{cell:pt}of Xe)q(pt,oe,Oe)}C("headingRows",oe,$,Oe,0)})}_isInHeading(l,b){const M=parseInt(b.getAttribute("headingRows")||0);return!!M&&l.parent.index<M}}class tt extends f.Command{refresh(){const l=this.editor.model,b=this.editor.plugins.get("TableUtils"),M=b.getSelectionAffectedTableCells(l.document.selection),A=M.length>0;this.isEnabled=A,this.value=A&&M.every($=>pe(b,$))}execute(l={}){if(l.forceValue===this.value)return;const b=this.editor.plugins.get("TableUtils"),M=this.editor.model,A=b.getSelectionAffectedTableCells(M.document.selection),$=A[0].findAncestor("table"),{first:K,last:ie}=b.getColumnIndexes(A),oe=this.value?K:ie+1;M.change(xe=>{if(oe){const Oe=ae($,oe);for(const{cell:Xe,column:pt}of Oe)Ie(Xe,pt,oe,xe)}C("headingColumns",oe,$,xe,0)})}}class Dt extends f.Plugin{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(l){const b=l.parent,M=b.parent,A=M.getChildIndex(b),$=new g(M,{row:A});for(const{cell:K,row:ie,column:oe}of $)if(K===l)return{row:ie,column:oe}}createTable(l,b){const M=l.createElement("table"),A=parseInt(b.rows)||2,$=parseInt(b.columns)||2;return ye(l,M,0,A,$),b.headingRows&&C("headingRows",Math.min(b.headingRows,A),M,l,0),b.headingColumns&&C("headingColumns",Math.min(b.headingColumns,$),M,l,0),M}insertRows(l,b={}){const M=this.editor.model,A=b.at||0,$=b.rows||1,K=b.copyStructureFromAbove!==void 0,ie=b.copyStructureFromAbove?A-1:A,oe=this.getRows(l),xe=this.getColumns(l);if(A>oe)throw new J.CKEditorError("tableutils-insertrows-insert-out-of-range",this,{options:b});M.change(Oe=>{const Xe=l.getAttribute("headingRows")||0;if(Xe>A&&C("headingRows",Xe+$,l,Oe,0),!K&&(A===0||A===oe))return void ye(Oe,l,A,$,xe);const pt=K?Math.max(A,ie):A,Vt=new g(l,{endRow:pt}),ei=new Array(xe).fill(1);for(const{row:qt,column:di,cellHeight:ki,cellWidth:Ci,cell:Hi}of Vt){const Gi=qt+ki-1,un=qt<=ie&&ie<=Gi;qt<A&&A<=Gi?(Oe.setAttribute("rowspan",ki+$,Hi),ei[di]=-Ci):K&&un&&(ei[di]=Ci)}for(let qt=0;qt<$;qt++){const di=Oe.createElement("tableRow");Oe.insert(di,l,A);for(let ki=0;ki<ei.length;ki++){const Ci=ei[ki],Hi=Oe.createPositionAt(di,"end");Ci>0&&ge(Oe,Hi,Ci>1?{colspan:Ci}:null),ki+=Math.abs(Ci)-1}}})}insertColumns(l,b={}){const M=this.editor.model,A=b.at||0,$=b.columns||1;M.change(K=>{const ie=l.getAttribute("headingColumns");A<ie&&K.setAttribute("headingColumns",ie+$,l);const oe=this.getColumns(l);if(A===0||oe===A){for(const Oe of l.getChildren())Oe.is("element","tableRow")&&Se($,K,K.createPositionAt(Oe,A?"end":0));return}const xe=new g(l,{column:A,includeAllSlots:!0});for(const Oe of xe){const{row:Xe,cell:pt,cellAnchorColumn:Vt,cellAnchorRow:ei,cellWidth:qt,cellHeight:di}=Oe;if(Vt<A){K.setAttribute("colspan",qt+$,pt);const ki=ei+di-1;for(let Ci=Xe;Ci<=ki;Ci++)xe.skipRow(Ci)}else Se($,K,Oe.getPositionBefore())}})}removeRows(l,b){const M=this.editor.model,A=b.rows||1,$=this.getRows(l),K=b.at,ie=K+A-1;if(ie>$-1)throw new J.CKEditorError("tableutils-removerows-row-index-out-of-range",this,{table:l,options:b});M.change(oe=>{const{cellsToMove:xe,cellsToTrim:Oe}=function(Xe,pt,Vt){const ei=new Map,qt=[];for(const{row:di,column:ki,cellHeight:Ci,cell:Hi}of new g(Xe,{endRow:Vt})){const Gi=di+Ci-1;if(di>=pt&&di<=Vt&&Gi>Vt){const un=Ci-(Vt-di+1);ei.set(ki,{cell:Hi,rowspan:un})}if(di<pt&&Gi>=pt){let un;un=Gi>=Vt?Vt-pt+1:Gi-pt+1,qt.push({cell:Hi,rowspan:Ci-un})}}return{cellsToMove:ei,cellsToTrim:qt}}(l,K,ie);xe.size&&function(Xe,pt,Vt,ei){const qt=new g(Xe,{includeAllSlots:!0,row:pt}),di=[...qt],ki=Xe.getChild(pt);let Ci;for(const{column:Hi,cell:Gi,isAnchor:un}of di)if(Vt.has(Hi)){const{cell:kn,rowspan:Xi}=Vt.get(Hi),Yn=Ci?ei.createPositionAfter(Ci):ei.createPositionAt(ki,0);ei.move(ei.createRangeOn(kn),Yn),C("rowspan",Xi,kn,ei),Ci=kn}else un&&(Ci=Gi)}(l,ie+1,xe,oe);for(let Xe=ie;Xe>=K;Xe--)oe.remove(l.getChild(Xe));for(const{rowspan:Xe,cell:pt}of Oe)C("rowspan",Xe,pt,oe);(function(Xe,pt,Vt,ei){const qt=Xe.getAttribute("headingRows")||0;pt<qt&&C("headingRows",Vt<qt?qt-(Vt-pt+1):pt,Xe,ei,0)})(l,K,ie,oe),_e(l,this)||Me(l,this)})}removeColumns(l,b){const M=this.editor.model,A=b.at,$=b.columns||1,K=b.at+$-1;M.change(ie=>{(function(oe,xe,Oe){const Xe=oe.getAttribute("headingColumns")||0;if(Xe&&xe.first<Xe){const pt=Math.min(Xe-1,xe.last)-xe.first+1;Oe.setAttribute("headingColumns",Xe-pt,oe)}})(l,{first:A,last:K},ie);for(let oe=K;oe>=A;oe--)for(const{cell:xe,column:Oe,cellWidth:Xe}of[...new g(l)])Oe<=oe&&Xe>1&&Oe+Xe>oe?C("colspan",Xe-1,xe,ie):Oe===oe&&ie.remove(xe);Me(l,this)||_e(l,this)})}splitCellVertically(l,b=2){const M=this.editor.model,A=l.parent.parent,$=parseInt(l.getAttribute("rowspan")||1),K=parseInt(l.getAttribute("colspan")||1);M.change(ie=>{if(K>1){const{newCellsSpan:oe,updatedSpan:xe}=Ke(K,b);C("colspan",xe,l,ie);const Oe={};oe>1&&(Oe.colspan=oe),$>1&&(Oe.rowspan=$),Se(K>b?b-1:K-1,ie,ie.createPositionAfter(l),Oe)}if(K<b){const oe=b-K,xe=[...new g(A)],{column:Oe}=xe.find(({cell:ei})=>ei===l),Xe=xe.filter(({cell:ei,cellWidth:qt,column:di})=>ei!==l&&di===Oe||di<Oe&&di+qt>Oe);for(const{cell:ei,cellWidth:qt}of Xe)ie.setAttribute("colspan",qt+oe,ei);const pt={};$>1&&(pt.rowspan=$),Se(oe,ie,ie.createPositionAfter(l),pt);const Vt=A.getAttribute("headingColumns")||0;Vt>Oe&&C("headingColumns",Vt+oe,A,ie)}})}splitCellHorizontally(l,b=2){const M=this.editor.model,A=l.parent,$=A.parent,K=$.getChildIndex(A),ie=parseInt(l.getAttribute("rowspan")||1),oe=parseInt(l.getAttribute("colspan")||1);M.change(xe=>{if(ie>1){const Oe=[...new g($,{startRow:K,endRow:K+ie-1,includeAllSlots:!0})],{newCellsSpan:Xe,updatedSpan:pt}=Ke(ie,b);C("rowspan",pt,l,xe);const{column:Vt}=Oe.find(({cell:qt})=>qt===l),ei={};Xe>1&&(ei.rowspan=Xe),oe>1&&(ei.colspan=oe);for(const qt of Oe){const{column:di,row:ki}=qt;ki>=K+pt&&di===Vt&&(ki+K+pt)%Xe==0&&Se(1,xe,qt.getPositionBefore(),ei)}}if(ie<b){const Oe=b-ie,Xe=[...new g($,{startRow:0,endRow:K})];for(const{cell:ei,cellHeight:qt,row:di}of Xe)if(ei!==l&&di+qt>K){const ki=qt+Oe;xe.setAttribute("rowspan",ki,ei)}const pt={};oe>1&&(pt.colspan=oe),ye(xe,$,K+1,Oe,1,pt);const Vt=$.getAttribute("headingRows")||0;Vt>K&&C("headingRows",Vt+Oe,$,xe)}})}getColumns(l){return[...l.getChild(0).getChildren()].reduce((b,M)=>b+parseInt(M.getAttribute("colspan")||1),0)}getRows(l){return Array.from(l.getChildren()).reduce((b,M)=>M.is("element","tableRow")?b+1:b,0)}createTableWalker(l,b={}){return new g(l,b)}getSelectedTableCells(l){const b=[];for(const M of this.sortRanges(l.getRanges())){const A=M.getContainedElement();A&&A.is("element","tableCell")&&b.push(A)}return b}getTableCellsContainingSelection(l){const b=[];for(const M of l.getRanges()){const A=M.start.findAncestor("tableCell");A&&b.push(A)}return b}getSelectionAffectedTableCells(l){const b=this.getSelectedTableCells(l);return b.length?b:this.getTableCellsContainingSelection(l)}getRowIndexes(l){const b=l.map(M=>M.parent.index);return this._getFirstLastIndexesObject(b)}getColumnIndexes(l){const b=l[0].findAncestor("table"),M=[...new g(b)].filter(A=>l.includes(A.cell)).map(A=>A.column);return this._getFirstLastIndexesObject(M)}isSelectionRectangular(l){if(l.length<2||!this._areCellInTheSameTableSection(l))return!1;const b=new Set,M=new Set;let A=0;for(const K of l){const{row:ie,column:oe}=this.getCellLocation(K),xe=parseInt(K.getAttribute("rowspan")||1),Oe=parseInt(K.getAttribute("colspan")||1);b.add(ie),M.add(oe),xe>1&&b.add(ie+xe-1),Oe>1&&M.add(oe+Oe-1),A+=xe*Oe}return function(K,ie){const oe=Array.from(K.values()),xe=Array.from(ie.values()),Oe=Math.max(...oe),Xe=Math.min(...oe),pt=Math.max(...xe),Vt=Math.min(...xe);return(Oe-Xe+1)*(pt-Vt+1)}(b,M)==A}sortRanges(l){return Array.from(l).sort(kt)}_getFirstLastIndexesObject(l){const b=l.sort((M,A)=>M-A);return{first:b[0],last:b[b.length-1]}}_areCellInTheSameTableSection(l){const b=l[0].findAncestor("table"),M=this.getRowIndexes(l),A=parseInt(b.getAttribute("headingRows")||0);if(!this._areIndexesInSameSection(M,A))return!1;const $=parseInt(b.getAttribute("headingColumns")||0),K=this.getColumnIndexes(l);return this._areIndexesInSameSection(K,$)}_areIndexesInSameSection({first:l,last:b},M){return l<M==b<M}}function ye(X,l,b,M,A,$={}){for(let K=0;K<M;K++){const ie=X.createElement("tableRow");X.insert(ie,l,b),Se(A,X,X.createPositionAt(ie,"end"),$)}}function Se(X,l,b,M={}){for(let A=0;A<X;A++)ge(l,b,M)}function Ke(X,l){if(X<l)return{newCellsSpan:1,updatedSpan:1};const b=Math.floor(X/l);return{newCellsSpan:b,updatedSpan:X-b*l+b}}function kt(X,l){const b=X.start,M=l.start;return b.isBefore(M)?-1:1}class Lt extends f.Command{refresh(){const l=this.editor.plugins.get(Dt),b=l.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=l.isSelectionRectangular(b,this.editor.plugins.get(Dt))}execute(){const l=this.editor.model,b=this.editor.plugins.get(Dt);l.change(M=>{const A=b.getSelectedTableCells(l.document.selection),$=A.shift(),{mergeWidth:K,mergeHeight:ie}=function(oe,xe,Oe){let Xe=0,pt=0;for(const ki of xe){const{row:Ci,column:Hi}=Oe.getCellLocation(ki);Xe=ft(ki,Hi,Xe,"colspan"),pt=ft(ki,Ci,pt,"rowspan")}const{row:Vt,column:ei}=Oe.getCellLocation(oe),qt=Xe-ei,di=pt-Vt;return{mergeWidth:qt,mergeHeight:di}}($,A,b);C("colspan",K,$,M),C("rowspan",ie,$,M);for(const oe of A)Gt(oe,$,M);Qe($.findAncestor("table"),b),M.setSelection($,"in")})}}function Gt(X,l,b){$t(X)||($t(l)&&b.remove(b.createRangeIn(l)),b.move(b.createRangeIn(X),b.createPositionAt(l,"end"))),b.remove(X)}function $t(X){return X.childCount==1&&X.getChild(0).is("element","paragraph")&&X.getChild(0).isEmpty}function ft(X,l,b,M){const A=parseInt(X.getAttribute(M)||1);return Math.max(b,l+A)}class Yt extends f.Command{constructor(l){super(l),this.affectsData=!1}refresh(){const l=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=l.length>0}execute(){const l=this.editor.model,b=this.editor.plugins.get("TableUtils"),M=b.getSelectionAffectedTableCells(l.document.selection),A=b.getRowIndexes(M),$=M[0].findAncestor("table"),K=[];for(let ie=A.first;ie<=A.last;ie++)for(const oe of $.getChild(ie).getChildren())K.push(l.createRangeOn(oe));l.change(ie=>{ie.setSelection(K)})}}class _t extends f.Command{constructor(l){super(l),this.affectsData=!1}refresh(){const l=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=l.length>0}execute(){const l=this.editor.plugins.get("TableUtils"),b=this.editor.model,M=l.getSelectionAffectedTableCells(b.document.selection),A=M[0],$=M.pop(),K=A.findAncestor("table"),ie=l.getCellLocation(A),oe=l.getCellLocation($),xe=Math.min(ie.column,oe.column),Oe=Math.max(ie.column,oe.column),Xe=[];for(const pt of new g(K,{startColumn:xe,endColumn:Oe}))Xe.push(b.createRangeOn(pt.cell));b.change(pt=>{pt.setSelection(Xe)})}}function ri(X){X.document.registerPostFixer(l=>function(b,M){const A=M.document.differ.getChanges();let $=!1;const K=new Set;for(const ie of A){let oe;ie.name=="table"&&ie.type=="insert"&&(oe=ie.position.nodeAfter),ie.name!="tableRow"&&ie.name!="tableCell"||(oe=ie.position.findAncestor("table")),bt(ie)&&(oe=ie.range.start.findAncestor("table")),oe&&!K.has(oe)&&($=ui(oe,b)||$,$=Ai(oe,b)||$,K.add(oe))}return $}(l,X))}function ui(X,l){let b=!1;const M=function(A){const $=parseInt(A.getAttribute("headingRows")||0),K=Array.from(A.getChildren()).reduce((oe,xe)=>xe.is("element","tableRow")?oe+1:oe,0),ie=[];for(const{row:oe,cell:xe,cellHeight:Oe}of new g(A)){if(Oe<2)continue;const Xe=oe<$?$:K;if(oe+Oe>Xe){const pt=Xe-oe;ie.push({cell:xe,rowspan:pt})}}return ie}(X);if(M.length){b=!0;for(const A of M)C("rowspan",A.rowspan,A.cell,l,1)}return b}function Ai(X,l){let b=!1;const M=function(ie){const oe=new Array(ie.childCount).fill(0);for(const{rowIndex:xe}of new g(ie,{includeAllSlots:!0}))oe[xe]++;return oe}(X),A=[];for(const[ie,oe]of M.entries())!oe&&X.getChild(ie).is("element","tableRow")&&A.push(ie);if(A.length){b=!0;for(const ie of A.reverse())l.remove(X.getChild(ie)),M.splice(ie,1)}const $=M.filter((ie,oe)=>X.getChild(oe).is("element","tableRow")),K=$[0];if(!$.every(ie=>ie===K)){const ie=$.reduce((oe,xe)=>xe>oe?xe:oe,0);for(const[oe,xe]of $.entries()){const Oe=ie-xe;if(Oe){for(let Xe=0;Xe<Oe;Xe++)ge(l,l.createPositionAt(X.getChild(oe),"end"));b=!0}}}return b}function bt(X){const l=X.type==="attribute",b=X.attributeKey;return l&&(b==="headingRows"||b==="colspan"||b==="rowspan")}function be(X){X.document.registerPostFixer(l=>function(b,M){const A=M.document.differ.getChanges();let $=!1;for(const K of A)K.type=="insert"&&K.name=="table"&&($=Ne(K.position.nodeAfter,b)||$),K.type=="insert"&&K.name=="tableRow"&&($=$e(K.position.nodeAfter,b)||$),K.type=="insert"&&K.name=="tableCell"&&($=gt(K.position.nodeAfter,b)||$),Tt(K)&&($=gt(K.position.parent,b)||$);return $}(l,X))}function Ne(X,l){let b=!1;for(const M of X.getChildren())M.is("element","tableRow")&&(b=$e(M,l)||b);return b}function $e(X,l){let b=!1;for(const M of X.getChildren())b=gt(M,l)||b;return b}function gt(X,l){if(X.childCount==0)return l.insertElement("paragraph",X),!0;const b=Array.from(X.getChildren()).filter(M=>M.is("$text"));for(const M of b)l.wrap(l.createRangeOn(M),"paragraph");return!!b.length}function Tt(X){return!(!X.position||!X.position.parent.is("element","tableCell"))&&(X.type=="insert"&&X.name=="$text"||X.type=="remove")}function Et(X,l){if(!X.is("element","paragraph"))return!1;const b=l.toViewElement(X);return!!b&&T(X)!==b.is("element","span")}var Xt=E(62),Ut=E.n(Xt),ni=E(482),wi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ut()(ni.Z,wi),ni.Z.locals;class gi extends f.Plugin{static get pluginName(){return"TableEditing"}static get requires(){return[Dt]}init(){const l=this.editor,b=l.model,M=b.schema,A=l.conversion,$=l.plugins.get(Dt);M.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),M.register("tableRow",{allowIn:"table",isLimit:!0}),M.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),A.for("upcast").add(K=>{K.on("element:figure",(ie,oe,xe)=>{if(!xe.consumable.test(oe.viewItem,{name:!0,classes:"table"}))return;const Oe=function(Vt){for(const ei of Vt.getChildren())if(ei.is("element","table"))return ei}(oe.viewItem);if(!Oe||!xe.consumable.test(Oe,{name:!0}))return;xe.consumable.consume(oe.viewItem,{name:!0,classes:"table"});const Xe=xe.convertItem(Oe,oe.modelCursor),pt=(0,J.first)(Xe.modelRange.getItems());pt?(xe.convertChildren(oe.viewItem,xe.writer.createPositionAt(pt,"end")),xe.updateConversionResult(pt,oe)):xe.consumable.revert(oe.viewItem,{name:!0,classes:"table"})})}),A.for("upcast").add(ee()),A.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:u($,{asWidget:!0})}),A.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:u($)}),A.for("upcast").elementToElement({model:"tableRow",view:"tr"}),A.for("upcast").add(K=>{K.on("element:tr",(ie,oe)=>{oe.viewItem.isEmpty&&oe.modelCursor.index==0&&ie.stop()},{priority:"high"})}),A.for("downcast").elementToElement({model:"tableRow",view:(K,{writer:ie})=>K.isEmpty?ie.createEmptyElement("tr"):ie.createContainerElement("tr")}),A.for("upcast").elementToElement({model:"tableCell",view:"td"}),A.for("upcast").elementToElement({model:"tableCell",view:"th"}),A.for("upcast").add(Z("td")),A.for("upcast").add(Z("th")),A.for("editingDowncast").elementToElement({model:"tableCell",view:w({asWidget:!0})}),A.for("dataDowncast").elementToElement({model:"tableCell",view:w()}),A.for("editingDowncast").elementToElement({model:"paragraph",view:v({asWidget:!0}),converterPriority:"high"}),A.for("dataDowncast").elementToElement({model:"paragraph",view:v(),converterPriority:"high"}),A.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),A.for("upcast").attributeToAttribute({model:{key:"colspan",value:Ti("colspan")},view:"colspan"}),A.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),A.for("upcast").attributeToAttribute({model:{key:"rowspan",value:Ti("rowspan")},view:"rowspan"}),l.config.define("table.defaultHeadings.rows",0),l.config.define("table.defaultHeadings.columns",0),l.commands.add("insertTable",new z(l)),l.commands.add("insertTableRowAbove",new L(l,{order:"above"})),l.commands.add("insertTableRowBelow",new L(l,{order:"below"})),l.commands.add("insertTableColumnLeft",new x(l,{order:"left"})),l.commands.add("insertTableColumnRight",new x(l,{order:"right"})),l.commands.add("removeTableRow",new Bt(l)),l.commands.add("removeTableColumn",new Nt(l)),l.commands.add("splitTableCellVertically",new c(l,{direction:"vertically"})),l.commands.add("splitTableCellHorizontally",new c(l,{direction:"horizontally"})),l.commands.add("mergeTableCells",new Lt(l)),l.commands.add("mergeTableCellRight",new qe(l,{direction:"right"})),l.commands.add("mergeTableCellLeft",new qe(l,{direction:"left"})),l.commands.add("mergeTableCellDown",new qe(l,{direction:"down"})),l.commands.add("mergeTableCellUp",new qe(l,{direction:"up"})),l.commands.add("setTableColumnHeader",new tt(l)),l.commands.add("setTableRowHeader",new xt(l)),l.commands.add("selectTableRow",new Yt(l)),l.commands.add("selectTableColumn",new _t(l)),ri(b),be(b),this.listenTo(b.document,"change:data",()=>{(function(K,ie){const oe=K.document.differ;for(const xe of oe.getChanges()){let Oe,Xe=!1;if(xe.type=="attribute"){const qt=xe.range.start.nodeAfter;if(!qt||!qt.is("element","table")||xe.attributeKey!="headingRows"&&xe.attributeKey!="headingColumns")continue;Oe=qt,Xe=xe.attributeKey=="headingRows"}else xe.name!="tableRow"&&xe.name!="tableCell"||(Oe=xe.position.findAncestor("table"),Xe=xe.name=="tableRow");if(!Oe)continue;const pt=Oe.getAttribute("headingRows")||0,Vt=Oe.getAttribute("headingColumns")||0,ei=new g(Oe);for(const qt of ei){const di=qt.row<pt||qt.column<Vt?"th":"td",ki=ie.mapper.toViewElement(qt.cell);ki&&ki.is("element")&&ki.name!=di&&ie.reconvertItem(Xe?qt.cell.parent:qt.cell)}}})(b,l.editing),function(K,ie){const oe=K.document.differ,xe=new Set;for(const Oe of oe.getChanges()){const Xe=Oe.type=="attribute"?Oe.range.start.parent:Oe.position.parent;Xe.is("element","tableCell")&&xe.add(Xe)}for(const Oe of xe.values()){const Xe=Array.from(Oe.getChildren()).filter(pt=>Et(pt,ie.mapper));for(const pt of Xe)ie.reconvertItem(pt)}}(b,l.editing)})}}function Ti(X){return l=>{const b=parseInt(l.getAttribute(X));return Number.isNaN(b)||b<=0?null:b}}var Rt=E(273),Ii=E(272),Mi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ut()(Ii.Z,Mi),Ii.Z.locals;class Qi extends Rt.View{constructor(l){super(l);const b=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new J.KeystrokeHandler,this.focusTracker=new J.FocusTracker,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(M,A)=>`${A} \xD7 ${M}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":b.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:b.to("label")}]}],on:{mousedown:b.to(M=>{M.preventDefault()}),click:b.to(()=>{this.fire("execute")})}}),this.on("boxover",(M,A)=>{const{row:$,column:K}=A.target.dataset;this.items.get(10*(parseInt($,10)-1)+(parseInt(K,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(M,A,$)=>{if(!$)return;const{row:K,column:ie}=$.dataset;this.set({rows:parseInt(K),columns:parseInt(ie)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),(0,Rt.addKeyboardHandlingForGrid)({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const l of this.items)this.focusTracker.add(l.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const l=this.rows,b=this.columns;this.items.map((M,A)=>{const $=Math.floor(A/10)<l&&A%10<b;M.set("isOn",$)})}_createGridButton(l,b,M,A){const $=new Rt.ButtonView(l);return $.set({label:A,class:"ck-insert-table-dropdown-grid-box"}),$.extendTemplate({attributes:{"data-row":b,"data-column":M}}),$}_createGridCollection(){const l=[];for(let b=0;b<100;b++){const M=Math.floor(b/10),A=b%10,$=`${M+1} \xD7 ${A+1}`;l.push(this._createGridButton(this.locale,M+1,A+1,$))}return this.createCollection(l)}}class Fi extends f.Plugin{static get pluginName(){return"TableUI"}init(){const l=this.editor,b=this.editor.t,M=l.locale.contentLanguageDirection==="ltr";l.ui.componentFactory.add("insertTable",A=>{const $=l.commands.get("insertTable"),K=(0,Rt.createDropdown)(A);let ie;return K.bind("isEnabled").to($),K.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:b("Insert table"),tooltip:!0}),K.on("change:isOpen",()=>{ie||(ie=new Qi(A),K.panelView.children.add(ie),ie.delegate("execute").to(K),K.on("execute",()=>{l.execute("insertTable",{rows:ie.rows,columns:ie.columns}),l.editing.view.focus()}))}),K}),l.ui.componentFactory.add("tableColumn",A=>{const $=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:b("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:M?"insertTableColumnLeft":"insertTableColumnRight",label:b("Insert column left")}},{type:"button",model:{commandName:M?"insertTableColumnRight":"insertTableColumnLeft",label:b("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:b("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:b("Select column")}}];return this._prepareDropdown(b("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',$,A)}),l.ui.componentFactory.add("tableRow",A=>{const $=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:b("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:b("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:b("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:b("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:b("Select row")}}];return this._prepareDropdown(b("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',$,A)}),l.ui.componentFactory.add("mergeTableCells",A=>{const $=[{type:"button",model:{commandName:"mergeTableCellUp",label:b("Merge cell up")}},{type:"button",model:{commandName:M?"mergeTableCellRight":"mergeTableCellLeft",label:b("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:b("Merge cell down")}},{type:"button",model:{commandName:M?"mergeTableCellLeft":"mergeTableCellRight",label:b("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:b("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:b("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(b("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',$,A)})}_prepareDropdown(l,b,M,A){const $=this.editor,K=(0,Rt.createDropdown)(A),ie=this._fillDropdownWithListOptions(K,M);return K.buttonView.set({label:l,icon:b,tooltip:!0}),K.bind("isEnabled").toMany(ie,"isEnabled",(...oe)=>oe.some(xe=>xe)),this.listenTo(K,"execute",oe=>{$.execute(oe.source.commandName),oe.source instanceof Rt.SwitchButtonView||$.editing.view.focus()}),K}_prepareMergeSplitButtonDropdown(l,b,M,A){const $=this.editor,K=(0,Rt.createDropdown)(A,Rt.SplitButtonView),ie="mergeTableCells",oe=$.commands.get(ie),xe=this._fillDropdownWithListOptions(K,M);return K.buttonView.set({label:l,icon:b,tooltip:!0,isEnabled:!0}),K.bind("isEnabled").toMany([oe,...xe],"isEnabled",(...Oe)=>Oe.some(Xe=>Xe)),this.listenTo(K.buttonView,"execute",()=>{$.execute(ie),$.editing.view.focus()}),this.listenTo(K,"execute",Oe=>{$.execute(Oe.source.commandName),$.editing.view.focus()}),K}_fillDropdownWithListOptions(l,b){const M=this.editor,A=[],$=new J.Collection;for(const K of b)Vi(K,M,A,$);return(0,Rt.addListToDropdown)(l,$),A}}function Vi(X,l,b,M){const A=X.model=new Rt.Model(X.model),{commandName:$,bindIsOn:K}=X.model;if(X.type==="button"||X.type==="switchbutton"){const ie=l.commands.get($);b.push(ie),A.set({commandName:$}),A.bind("isEnabled").to(ie),K&&A.bind("isOn").to(ie,"value")}A.set({withText:!0}),M.add(X)}var Ji=E(475),cn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ut()(Ji.Z,cn),Ji.Z.locals;class Ri extends f.Plugin{static get pluginName(){return"TableSelection"}static get requires(){return[Dt,Dt]}init(){const l=this.editor,b=l.model,M=l.editing.view;this.listenTo(b,"deleteContent",(A,$)=>this._handleDeleteContent(A,$),{priority:"high"}),this.listenTo(M.document,"insertText",(A,$)=>this._handleInsertTextEvent(A,$),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const l=this.editor.plugins.get(Dt),b=this.editor.model.document.selection,M=l.getSelectedTableCells(b);return M.length==0?null:M}getSelectionAsFragment(){const l=this.editor.plugins.get(Dt),b=this.getSelectedTableCells();return b?this.editor.model.change(M=>{const A=M.createDocumentFragment(),{first:$,last:K}=l.getColumnIndexes(b),{first:ie,last:oe}=l.getRowIndexes(b),xe=b[0].findAncestor("table");let Oe=oe,Xe=K;if(l.isSelectionRectangular(b)){const Vt={firstColumn:$,lastColumn:K,firstRow:ie,lastRow:oe};Oe=ut(xe,Vt),Xe=rt(xe,Vt)}const pt=D(xe,{startRow:ie,startColumn:$,endRow:Oe,endColumn:Xe},M);return M.insert(pt,A,0),A}):null}setCellSelection(l,b){const M=this._getCellsToSelect(l,b);this.editor.model.change(A=>{A.setSelection(M.cells.map($=>A.createRangeOn($)),{backward:M.backward})})}getFocusCell(){const l=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return l&&l.is("element","tableCell")?l:null}getAnchorCell(){const l=this.editor.model.document.selection,b=(0,J.first)(l.getRanges()).getContainedElement();return b&&b.is("element","tableCell")?b:null}_defineSelectionConverter(){const l=this.editor,b=new Set;l.conversion.for("editingDowncast").add(M=>M.on("selection",(A,$,K)=>{const ie=K.writer;(function(Oe){for(const Xe of b)Oe.removeClass("ck-editor__editable_selected",Xe);b.clear()})(ie);const oe=this.getSelectedTableCells();if(!oe)return;for(const Oe of oe){const Xe=K.mapper.toViewElement(Oe);ie.addClass("ck-editor__editable_selected",Xe),b.add(Xe)}const xe=K.mapper.toViewElement(oe[oe.length-1]);ie.setSelection(xe,0)},{priority:"lowest"}))}_enablePluginDisabling(){const l=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const b=this.getSelectedTableCells();if(!b)return;l.model.change(M=>{const A=M.createPositionAt(b[0],0),$=l.model.schema.getNearestSelectionRange(A);M.setSelection($)})}})}_handleDeleteContent(l,b){const M=this.editor.plugins.get(Dt),[A,$]=b,K=this.editor.model,ie=!$||$.direction=="backward",oe=M.getSelectedTableCells(A);oe.length&&(l.stop(),K.change(xe=>{const Oe=oe[ie?oe.length-1:0];K.change(pt=>{for(const Vt of oe)K.deleteContent(pt.createSelection(Vt,"in"))});const Xe=K.schema.getNearestSelectionRange(xe.createPositionAt(Oe,0));A.is("documentSelection")?xe.setSelection(Xe):A.setTo(Xe)}))}_handleInsertTextEvent(l,b){const M=this.editor,A=M.model.document.selection,$=this.getSelectedTableCells(A);if(!$)return;const K=M.editing.view,ie=M.editing.mapper,oe=$.map(xe=>K.createRangeOn(ie.toViewElement(xe)));b.selection=K.createSelection(oe)}_getCellsToSelect(l,b){const M=this.editor.plugins.get("TableUtils"),A=M.getCellLocation(l),$=M.getCellLocation(b),K=Math.min(A.row,$.row),ie=Math.max(A.row,$.row),oe=Math.min(A.column,$.column),xe=Math.max(A.column,$.column),Oe=new Array(ie-K+1).fill(null).map(()=>[]),Xe={startRow:K,endRow:ie,startColumn:oe,endColumn:xe};for(const{row:ei,cell:qt}of new g(l.findAncestor("table"),Xe))Oe[ei-K].push(qt);const pt=$.row<A.row,Vt=$.column<A.column;return pt&&Oe.reverse(),Vt&&Oe.forEach(ei=>ei.reverse()),{cells:Oe.flat(),backward:pt||Vt}}}class pn extends f.Plugin{static get pluginName(){return"TableClipboard"}static get requires(){return[Ri,Dt]}init(){const l=this.editor,b=l.editing.view.document;this.listenTo(b,"copy",(M,A)=>this._onCopyCut(M,A)),this.listenTo(b,"cut",(M,A)=>this._onCopyCut(M,A)),this.listenTo(l.model,"insertContent",(M,A)=>this._onInsertContent(M,...A),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(l,b){const M=this.editor.plugins.get(Ri);if(!M.getSelectedTableCells()||l.name=="cut"&&this.editor.isReadOnly)return;b.preventDefault(),l.stop();const A=this.editor.data,$=this.editor.editing.view.document,K=A.toView(M.getSelectionAsFragment());$.fire("clipboardOutput",{dataTransfer:b.dataTransfer,content:K,method:l.name})}_onInsertContent(l,b,M){if(M&&!M.is("documentSelection"))return;const A=this.editor.model,$=this.editor.plugins.get(Dt);let K=fi(b,A);if(!K)return;const ie=$.getSelectionAffectedTableCells(A.document.selection);ie.length?(l.stop(),A.change(oe=>{const xe={width:$.getColumns(K),height:$.getRows(K)},Oe=function(di,ki,Ci,Hi){const Gi=di[0].findAncestor("table"),un=Hi.getColumnIndexes(di),kn=Hi.getRowIndexes(di),Xi={firstColumn:un.first,lastColumn:un.last,firstRow:kn.first,lastRow:kn.last},Yn=di.length===1;return Yn&&(Xi.lastRow+=ki.height-1,Xi.lastColumn+=ki.width-1,function(ne,ce,Ue,St){const Si=St.getColumns(ne),zi=St.getRows(ne);Ue>Si&&St.insertColumns(ne,{at:Si,columns:Ue-Si}),ce>zi&&St.insertRows(ne,{at:zi,rows:ce-zi})}(Gi,Xi.lastRow+1,Xi.lastColumn+1,Hi)),Yn||!Hi.isSelectionRectangular(di)?function(ne,ce,Ue){const{firstRow:St,lastRow:Si,firstColumn:zi,lastColumn:Zi}=ce,$i={first:St,last:Si},mn={first:zi,last:Zi};qi(ne,zi,$i,Ue),qi(ne,Zi+1,$i,Ue),pi(ne,St,mn,Ue),pi(ne,Si+1,mn,Ue,St)}(Gi,Xi,Ci):(Xi.lastRow=ut(Gi,Xi),Xi.lastColumn=rt(Gi,Xi)),Xi}(ie,xe,oe,$),Xe=Oe.lastRow-Oe.firstRow+1,pt=Oe.lastColumn-Oe.firstColumn+1,Vt={startRow:0,startColumn:0,endRow:Math.min(Xe,xe.height)-1,endColumn:Math.min(pt,xe.width)-1};K=D(K,Vt,oe);const ei=ie[0].findAncestor("table"),qt=this._replaceSelectedCellsWithPasted(K,xe,ei,Oe,oe);if(this.editor.plugins.get("TableSelection").isEnabled){const di=$.sortRanges(qt.map(ki=>oe.createRangeOn(ki)));oe.setSelection(di)}else oe.setSelection(qt[0],0)})):Qe(K,$)}_replaceSelectedCellsWithPasted(l,b,M,A,$){const{width:K,height:ie}=b,oe=function(di,ki,Ci){const Hi=new Array(Ci).fill(null).map(()=>new Array(ki).fill(null));for(const{column:Gi,row:un,cell:kn}of new g(di))Hi[un][Gi]=kn;return Hi}(l,K,ie),xe=[...new g(M,{startRow:A.firstRow,endRow:A.lastRow,startColumn:A.firstColumn,endColumn:A.lastColumn,includeAllSlots:!0})],Oe=[];let Xe;for(const di of xe){const{row:ki,column:Ci}=di;Ci===A.firstColumn&&(Xe=di.getPositionBefore());const Hi=ki-A.firstRow,Gi=Ci-A.firstColumn,un=oe[Hi%ie][Gi%K],kn=un?$.cloneElement(un):null,Xi=this._replaceTableSlotCell(di,kn,Xe,$);Xi&&(Ve(Xi,ki,Ci,A.lastRow,A.lastColumn,$),Oe.push(Xi),Xe=$.createPositionAfter(Xi))}const pt=parseInt(M.getAttribute("headingRows")||0),Vt=parseInt(M.getAttribute("headingColumns")||0),ei=A.firstRow<pt&&pt<=A.lastRow,qt=A.firstColumn<Vt&&Vt<=A.lastColumn;if(ei){const di=pi(M,pt,{first:A.firstColumn,last:A.lastColumn},$,A.firstRow);Oe.push(...di)}if(qt){const di=qi(M,Vt,{first:A.firstRow,last:A.lastRow},$);Oe.push(...di)}return Oe}_replaceTableSlotCell(l,b,M,A){const{cell:$,isAnchor:K}=l;return K&&A.remove($),b?(A.insert(b,M),b):null}getTableIfOnlyTableInContent(l,b){return fi(l,b)}}function fi(X,l){if(!X.is("documentFragment")&&!X.is("element"))return null;if(X.is("element","table"))return X;if(X.childCount==1&&X.getChild(0).is("element","table"))return X.getChild(0);const b=l.createRangeIn(X);for(const M of b.getItems())if(M.is("element","table")){const A=l.createRange(b.start,l.createPositionBefore(M));if(l.hasContent(A,{ignoreWhitespaces:!0}))return null;const $=l.createRange(l.createPositionAfter(M),b.end);return l.hasContent($,{ignoreWhitespaces:!0})?null:M}return null}function pi(X,l,b,M,A=0){if(!(l<1))return W(X,l,A).filter(({column:$,cellWidth:K})=>ke($,K,b)).map(({cell:$})=>q($,l,M))}function qi(X,l,b,M){if(!(l<1))return ae(X,l).filter(({row:A,cellHeight:$})=>ke(A,$,b)).map(({cell:A,column:$})=>Ie(A,$,l,M))}function ke(X,l,b){const M=X+l-1,{first:A,last:$}=b;return X>=A&&X<=$||X<A&&M>=A}class V extends f.Plugin{static get pluginName(){return"TableKeyboard"}static get requires(){return[Ri,Dt]}init(){const l=this.editor.editing.view.document;this.listenTo(l,"arrowKey",(...b)=>this._onArrowKey(...b),{context:"table"}),this.listenTo(l,"tab",(...b)=>this._handleTabOnSelectedTable(...b),{context:"figure"}),this.listenTo(l,"tab",(...b)=>this._handleTab(...b),{context:["th","td"]})}_handleTabOnSelectedTable(l,b){const M=this.editor,A=M.model.document.selection.getSelectedElement();A&&A.is("element","table")&&(b.preventDefault(),b.stopPropagation(),l.stop(),M.model.change($=>{$.setSelection($.createRangeIn(A.getChild(0).getChild(0)))}))}_handleTab(l,b){const M=this.editor,A=this.editor.plugins.get(Dt),$=M.model.document.selection,K=!b.shiftKey;let ie=A.getTableCellsContainingSelection($)[0];if(ie||(ie=this.editor.plugins.get("TableSelection").getFocusCell()),!ie)return;b.preventDefault(),b.stopPropagation(),l.stop();const oe=ie.parent,xe=oe.parent,Oe=xe.getChildIndex(oe),Xe=oe.getChildIndex(ie),pt=Xe===0;if(!K&&pt&&Oe===0)return void M.model.change(di=>{di.setSelection(di.createRangeOn(xe))});const Vt=Xe===oe.childCount-1,ei=Oe===A.getRows(xe)-1;if(K&&ei&&Vt&&(M.execute("insertTableRowBelow"),Oe===A.getRows(xe)-1))return void M.model.change(di=>{di.setSelection(di.createRangeOn(xe))});let qt;if(K&&Vt)qt=xe.getChild(Oe+1).getChild(0);else if(!K&&pt){const di=xe.getChild(Oe-1);qt=di.getChild(di.childCount-1)}else qt=oe.getChild(Xe+(K?1:-1));M.model.change(di=>{di.setSelection(di.createRangeIn(qt))})}_onArrowKey(l,b){const M=this.editor,A=b.keyCode,$=(0,J.getLocalizedArrowKeyCodeDirection)(A,M.locale.contentLanguageDirection);this._handleArrowKeys($,b.shiftKey)&&(b.preventDefault(),b.stopPropagation(),l.stop())}_handleArrowKeys(l,b){const M=this.editor.plugins.get(Dt),A=this.editor.model,$=A.document.selection,K=["right","down"].includes(l),ie=M.getSelectedTableCells($);if(ie.length){let xe;return xe=b?this.editor.plugins.get("TableSelection").getFocusCell():K?ie[ie.length-1]:ie[0],this._navigateFromCellInDirection(xe,l,b),!0}const oe=$.focus.findAncestor("tableCell");if(!oe)return!1;if(!$.isCollapsed)if(b){if($.isBackward==K&&!$.containsEntireContent(oe))return!1}else{const xe=$.getSelectedElement();if(!xe||!A.schema.isObject(xe))return!1}return!!this._isSelectionAtCellEdge($,oe,K)&&(this._navigateFromCellInDirection(oe,l,b),!0)}_isSelectionAtCellEdge(l,b,M){const A=this.editor.model,$=this.editor.model.schema,K=M?l.getLastPosition():l.getFirstPosition();if(!$.getLimitElement(K).is("element","tableCell"))return A.createPositionAt(b,M?"end":0).isTouching(K);const ie=A.createSelection(K);return A.modifySelection(ie,{direction:M?"forward":"backward"}),K.isEqual(ie.focus)}_navigateFromCellInDirection(l,b,M=!1){const A=this.editor.model,$=l.findAncestor("table"),K=[...new g($,{includeAllSlots:!0})],{row:ie,column:oe}=K[K.length-1],xe=K.find(({cell:qt})=>qt==l);let{row:Oe,column:Xe}=xe;switch(b){case"left":Xe--;break;case"up":Oe--;break;case"right":Xe+=xe.cellWidth;break;case"down":Oe+=xe.cellHeight}if(Oe<0||Oe>ie||Xe<0&&Oe<=0||Xe>oe&&Oe>=ie)return void A.change(qt=>{qt.setSelection(qt.createRangeOn($))});Xe<0?(Xe=M?0:oe,Oe--):Xe>oe&&(Xe=M?oe:0,Oe++);const pt=K.find(qt=>qt.row==Oe&&qt.column==Xe).cell,Vt=["right","down"].includes(b),ei=this.editor.plugins.get("TableSelection");if(M&&ei.isEnabled){const qt=ei.getAnchorCell()||l;ei.setCellSelection(qt,pt)}else{const qt=A.createPositionAt(pt,Vt?0:"end");A.change(di=>{di.setSelection(qt)})}}}var F=E(492);class P extends F.DomEventObserver{constructor(l){super(l),this.domEventType=["mousemove","mouseleave"]}onDomEvent(l){this.fire(l.type,l)}}class N extends f.Plugin{static get pluginName(){return"TableMouse"}static get requires(){return[Ri,Dt]}init(){this.editor.editing.view.addObserver(P),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const l=this.editor,b=l.plugins.get(Dt);let M=!1;const A=l.plugins.get(Ri);this.listenTo(l.editing.view.document,"mousedown",($,K)=>{const ie=l.model.document.selection;if(!this.isEnabled||!A.isEnabled||!K.domEvent.shiftKey)return;const oe=A.getAnchorCell()||b.getTableCellsContainingSelection(ie)[0];if(!oe)return;const xe=this._getModelTableCellFromDomEvent(K);xe&&de(oe,xe)&&(M=!0,A.setCellSelection(oe,xe),K.preventDefault())}),this.listenTo(l.editing.view.document,"mouseup",()=>{M=!1}),this.listenTo(l.editing.view.document,"selectionChange",$=>{M&&$.stop()},{priority:"highest"})}_enableMouseDragSelection(){const l=this.editor;let b,M,A=!1,$=!1;const K=l.plugins.get(Ri);this.listenTo(l.editing.view.document,"mousedown",(ie,oe)=>{this.isEnabled&&K.isEnabled&&(oe.domEvent.shiftKey||oe.domEvent.ctrlKey||oe.domEvent.altKey||(b=this._getModelTableCellFromDomEvent(oe)))}),this.listenTo(l.editing.view.document,"mousemove",(ie,oe)=>{if(!oe.domEvent.buttons||!b)return;const xe=this._getModelTableCellFromDomEvent(oe);xe&&de(b,xe)&&(M=xe,A||M==b||(A=!0)),A&&($=!0,K.setCellSelection(b,M),oe.preventDefault())}),this.listenTo(l.editing.view.document,"mouseup",()=>{A=!1,$=!1,b=null,M=null}),this.listenTo(l.editing.view.document,"selectionChange",ie=>{$&&ie.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(l){const b=l.target,M=this.editor.editing.view.createPositionAt(b,0);return this.editor.editing.mapper.toModelPosition(M).parent.findAncestor("tableCell",{includeSelf:!0})}}function de(X,l){return X.parent.parent==l.parent.parent}var Ce=E(660),Ze={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ut()(Ce.Z,Ze),Ce.Z.locals;class st extends f.Plugin{static get requires(){return[gi,Fi,Ri,N,V,pn,_.Widget]}static get pluginName(){return"Table"}}class Ct extends f.Plugin{static get pluginName(){return"PlainTableOutput"}static get requires(){return[st]}init(){const l=this.editor;l.conversion.for("dataDowncast").elementToStructure({model:"table",view:Ge,converterPriority:"high"}),l.plugins.has("TableCaption")&&l.conversion.for("dataDowncast").elementToElement({model:"caption",view:(b,{writer:M})=>{if(b.parent.name==="table")return M.createContainerElement("caption")},converterPriority:"high"}),l.plugins.has("TableProperties")&&function(b){const M={"border-width":"tableBorderWidth","border-color":"tableBorderColor","border-style":"tableBorderStyle","background-color":"tableBackgroundColor"};for(const[A,$]of Object.entries(M))b.conversion.for("dataDowncast").add(K=>K.on(`attribute:${$}:table`,(ie,oe,xe)=>{const{item:Oe,attributeNewValue:Xe}=oe,{mapper:pt,writer:Vt}=xe;if(!xe.consumable.consume(Oe,ie.name))return;const ei=pt.toViewElement(Oe);Xe?Vt.setStyle(A,Xe,ei):Vt.removeStyle(A,ei)},{priority:"high"}))}(l)}}function Ge(X,{writer:l}){const b=X.getAttribute("headingRows")||0,M=l.createSlot(xe=>xe.is("element","tableRow")&&xe.index<b),A=l.createSlot(xe=>xe.is("element","tableRow")&&xe.index>=b),$=l.createSlot(xe=>!xe.is("element","tableRow")),K=l.createContainerElement("thead",null,M),ie=l.createContainerElement("tbody",null,A),oe=[];return b&&oe.push(K),b<X.childCount&&oe.push(ie),l.createContainerElement("table",null,[$,...oe])}function Ft(X){const l=X.getSelectedElement();return l&&yi(l)?l:null}function ci(X){const l=X.getFirstPosition();if(!l)return null;let b=l.parent;for(;b;){if(b.is("element")&&yi(b))return b;b=b.parent}return null}function yi(X){return!!X.getCustomProperty("table")&&(0,_.isWidget)(X)}class Oi extends f.Plugin{static get requires(){return[_.WidgetToolbarRepository]}static get pluginName(){return"TableToolbar"}afterInit(){const l=this.editor,b=l.t,M=l.plugins.get(_.WidgetToolbarRepository),A=l.config.get("table.contentToolbar"),$=l.config.get("table.tableToolbar");A&&M.register("tableContent",{ariaLabel:b("Table toolbar"),items:A,getRelatedElement:ci}),$&&M.register("table",{ariaLabel:b("Table toolbar"),items:$,getRelatedElement:Ft})}}var Ei=E(252),Bi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ut()(Ei.Z,Bi),Ei.Z.locals;class Li extends Rt.View{constructor(l,b){super(l),this.set("value",""),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isEmpty",!0),this.options=b,this.focusTracker=new J.FocusTracker,this._focusables=new Rt.ViewCollection,this.dropdownView=this._createDropdownView(),this.inputView=this._createInputTextView(),this.keystrokes=new J.KeystrokeHandler,this._stillTyping=!1,this._focusCycler=new Rt.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-input-color"]},children:[this.dropdownView,this.inputView]}),this.on("change:value",(M,A,$)=>this._setInputValue($))}render(){super.render(),this.keystrokes.listenTo(this.dropdownView.panelView.element)}focus(){this.inputView.focus()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createDropdownView(){const l=this.locale,b=l.t,M=this.bindTemplate,A=this._createColorGrid(l),$=(0,Rt.createDropdown)(l),K=new Rt.View,ie=this._createRemoveColorButton();return K.setTemplate({tag:"span",attributes:{class:["ck","ck-input-color__button__preview"],style:{backgroundColor:M.to("value")}},children:[{tag:"span",attributes:{class:["ck","ck-input-color__button__preview__no-color-indicator",M.if("value","ck-hidden",oe=>oe!="")]}}]}),$.buttonView.extendTemplate({attributes:{class:"ck-input-color__button"}}),$.buttonView.children.add(K),$.buttonView.label=b("Color picker"),$.buttonView.tooltip=!0,$.panelPosition=l.uiLanguageDirection==="rtl"?"se":"sw",$.panelView.children.add(ie),$.panelView.children.add(A),$.bind("isEnabled").to(this,"isReadOnly",oe=>!oe),this._focusables.add(ie),this._focusables.add(A),this.focusTracker.add(ie.element),this.focusTracker.add(A.element),$}_createInputTextView(){const l=this.locale,b=new Rt.InputTextView(l);return b.extendTemplate({on:{blur:b.bindTemplate.to("blur")}}),b.value=this.value,b.bind("isReadOnly","hasError").to(this),this.bind("isFocused","isEmpty").to(b),b.on("input",()=>{const M=b.element.value,A=this.options.colorDefinitions.find($=>M===$.label);this._stillTyping=!0,this.value=A&&A.color||M}),b.on("blur",()=>{this._stillTyping=!1,this._setInputValue(b.element.value)}),b.delegate("input").to(this),b}_createRemoveColorButton(){const l=this.locale,b=l.t,M=new Rt.ButtonView(l),A=this.options.defaultColorValue||"",$=b(A?"Restore default":"Remove color");return M.class="ck-input-color__remove-color",M.withText=!0,M.icon=f.icons.eraser,M.label=$,M.on("execute",()=>{this.value=A,this.dropdownView.isOpen=!1,this.fire("input")}),M}_createColorGrid(l){const b=new Rt.ColorGridView(l,{colorDefinitions:this.options.colorDefinitions,columns:this.options.columns});return b.on("execute",(M,A)=>{this.value=A.value,this.dropdownView.isOpen=!1,this.fire("input")}),b.bind("selectedColor").to(this,"value"),b}_setInputValue(l){if(!this._stillTyping){const b=Ui(l),M=this.options.colorDefinitions.find(A=>b===Ui(A.color));this.inputView.value=M?M.label:l||""}}}function Ui(X){return X.replace(/([(,])\s+/g,"$1").replace(/^\s+|\s+(?=[),\s]|$)/g,"").replace(/,|\s/g," ")}const Ht=X=>X==="";function we(X){return{none:X("None"),solid:X("Solid"),dotted:X("Dotted"),dashed:X("Dashed"),double:X("Double"),groove:X("Groove"),ridge:X("Ridge"),inset:X("Inset"),outset:X("Outset")}}function He(X){return X('The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".')}function Q(X){return X('The value is invalid. Try "10px" or "2em" or simply "2".')}function R(X){return X=X.trim(),Ht(X)||(0,F.isColor)(X)}function Y(X){return X=X.trim(),Ht(X)||bi(X)||(0,F.isLength)(X)||(0,F.isPercentage)(X)}function ve(X){return X=X.trim(),Ht(X)||bi(X)||(0,F.isLength)(X)}function De(X,l){const b=new J.Collection,M=we(X.t);for(const A in M){const $={type:"button",model:new Rt.Model({_borderStyleValue:A,label:M[A],withText:!0})};A==="none"?$.model.bind("isOn").to(X,"borderStyle",K=>l==="none"?!K:K===A):$.model.bind("isOn").to(X,"borderStyle",K=>K===A),b.add($)}return b}function nt(X){const{view:l,icons:b,toolbar:M,labels:A,propertyName:$,nameToValue:K,defaultValue:ie}=X;for(const oe in A){const xe=new Rt.ButtonView(l.locale);xe.set({label:A[oe],icon:b[oe],tooltip:A[oe]});const Oe=K?K(oe):oe;xe.bind("isOn").to(l,$,Xe=>{let pt=Xe;return Xe===""&&ie&&(pt=ie),Oe===pt}),xe.on("execute",()=>{l[$]=Oe}),M.items.add(xe)}}const It=[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}];function ai(X){return(l,b,M)=>{const A=new Li(l.locale,{colorDefinitions:($=X.colorConfig,$.map(K=>({color:K.model,label:K.label,options:{hasBorder:K.hasBorder}}))),columns:X.columns,defaultColorValue:X.defaultColorValue});var $;return A.inputView.set({id:b,ariaDescribedById:M}),A.bind("isReadOnly").to(l,"isEnabled",K=>!K),A.bind("hasError").to(l,"errorText",K=>!!K),A.on("input",()=>{l.errorText=null}),l.bind("isEmpty","isFocused").to(A),A}}function bi(X){const l=parseFloat(X);return!Number.isNaN(l)&&X===String(l)}var ht=E(333),H={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ut()(ht.Z,H),ht.Z.locals;class se extends Rt.View{constructor(l,b={}){super(l);const M=this.bindTemplate;this.set("class",b.class||null),this.children=this.createCollection(),b.children&&b.children.forEach(A=>this.children.add(A)),this.set("_role",null),this.set("_ariaLabelledBy",null),b.labelView&&this.set({_role:"group",_ariaLabelledBy:b.labelView.id}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",M.to("class")],role:M.to("_role"),"aria-labelledby":M.to("_ariaLabelledBy")},children:this.children})}}var Te=E(934),Le={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ut()(Te.Z,Le),Te.Z.locals;var Ye=E(686),Je={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ut()(Ye.Z,Je),Ye.Z.locals;var At=E(773),vt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ut()(At.Z,vt),At.Z.locals;const Mt={left:f.icons.alignLeft,center:f.icons.alignCenter,right:f.icons.alignRight,justify:f.icons.alignJustify,top:f.icons.alignTop,middle:f.icons.alignMiddle,bottom:f.icons.alignBottom};class jt extends Rt.View{constructor(l,b){super(l),this.set({borderStyle:"",borderWidth:"",borderColor:"",padding:"",backgroundColor:"",width:"",height:"",horizontalAlignment:"",verticalAlignment:""}),this.options=b;const{borderStyleDropdown:M,borderWidthInput:A,borderColorInput:$,borderRowLabel:K}=this._createBorderFields(),{backgroundRowLabel:ie,backgroundInput:oe}=this._createBackgroundFields(),{widthInput:xe,operatorLabel:Oe,heightInput:Xe,dimensionsLabel:pt}=this._createDimensionFields(),{horizontalAlignmentToolbar:Vt,verticalAlignmentToolbar:ei,alignmentLabel:qt}=this._createAlignmentFields();this.focusTracker=new J.FocusTracker,this.keystrokes=new J.KeystrokeHandler,this.children=this.createCollection(),this.borderStyleDropdown=M,this.borderWidthInput=A,this.borderColorInput=$,this.backgroundInput=oe,this.paddingInput=this._createPaddingField(),this.widthInput=xe,this.heightInput=Xe,this.horizontalAlignmentToolbar=Vt,this.verticalAlignmentToolbar=ei;const{saveButtonView:di,cancelButtonView:ki}=this._createActionButtons();this.saveButtonView=di,this.cancelButtonView=ki,this._focusables=new Rt.ViewCollection,this._focusCycler=new Rt.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new Rt.FormHeaderView(l,{label:this.t("Cell properties")})),this.children.add(new se(l,{labelView:K,children:[K,M,$,A],class:"ck-table-form__border-row"})),this.children.add(new se(l,{labelView:ie,children:[ie,oe],class:"ck-table-form__background-row"})),this.children.add(new se(l,{children:[new se(l,{labelView:pt,children:[pt,xe,Oe,Xe],class:"ck-table-form__dimensions-row"}),new se(l,{children:[this.paddingInput],class:"ck-table-cell-properties-form__padding-row"})]})),this.children.add(new se(l,{labelView:qt,children:[qt,Vt,ei],class:"ck-table-cell-properties-form__alignment-row"})),this.children.add(new se(l,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-cell-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),(0,Rt.submitHandler)({view:this}),[this.borderStyleDropdown,this.borderColorInput,this.borderColorInput.fieldView.dropdownView.buttonView,this.borderWidthInput,this.backgroundInput,this.backgroundInput.fieldView.dropdownView.buttonView,this.widthInput,this.heightInput,this.paddingInput,this.horizontalAlignmentToolbar,this.verticalAlignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(l=>{this._focusables.add(l),this.focusTracker.add(l.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const l=this.options.defaultTableCellProperties,b={style:l.borderStyle,width:l.borderWidth,color:l.borderColor},M=ai({colorConfig:this.options.borderColors,columns:5,defaultColorValue:b.color}),A=this.locale,$=this.t,K=new Rt.LabelView(A);K.text=$("Border");const ie=we($),oe=new Rt.LabeledFieldView(A,Rt.createLabeledDropdown);oe.set({label:$("Style"),class:"ck-table-form__border-style"}),oe.fieldView.buttonView.set({isOn:!1,withText:!0,tooltip:$("Style")}),oe.fieldView.buttonView.bind("label").to(this,"borderStyle",Xe=>ie[Xe||"none"]),oe.fieldView.on("execute",Xe=>{this.borderStyle=Xe.source._borderStyleValue}),oe.bind("isEmpty").to(this,"borderStyle",Xe=>!Xe),(0,Rt.addListToDropdown)(oe.fieldView,De(this,b.style));const xe=new Rt.LabeledFieldView(A,Rt.createLabeledInputText);xe.set({label:$("Width"),class:"ck-table-form__border-width"}),xe.fieldView.bind("value").to(this,"borderWidth"),xe.bind("isEnabled").to(this,"borderStyle",Wt),xe.fieldView.on("input",()=>{this.borderWidth=xe.fieldView.element.value});const Oe=new Rt.LabeledFieldView(A,M);return Oe.set({label:$("Color"),class:"ck-table-form__border-color"}),Oe.fieldView.bind("value").to(this,"borderColor"),Oe.bind("isEnabled").to(this,"borderStyle",Wt),Oe.fieldView.on("input",()=>{this.borderColor=Oe.fieldView.value}),this.on("change:borderStyle",(Xe,pt,Vt,ei)=>{Wt(Vt)||(this.borderColor="",this.borderWidth=""),Wt(ei)||(this.borderColor=b.color,this.borderWidth=b.width)}),{borderRowLabel:K,borderStyleDropdown:oe,borderColorInput:Oe,borderWidthInput:xe}}_createBackgroundFields(){const l=this.locale,b=this.t,M=new Rt.LabelView(l);M.text=b("Background");const A=ai({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableCellProperties.backgroundColor}),$=new Rt.LabeledFieldView(l,A);return $.set({label:b("Color"),class:"ck-table-cell-properties-form__background"}),$.fieldView.bind("value").to(this,"backgroundColor"),$.fieldView.on("input",()=>{this.backgroundColor=$.fieldView.value}),{backgroundRowLabel:M,backgroundInput:$}}_createDimensionFields(){const l=this.locale,b=this.t,M=new Rt.LabelView(l);M.text=b("Dimensions");const A=new Rt.LabeledFieldView(l,Rt.createLabeledInputText);A.set({label:b("Width"),class:"ck-table-form__dimensions-row__width"}),A.fieldView.bind("value").to(this,"width"),A.fieldView.on("input",()=>{this.width=A.fieldView.element.value});const $=new Rt.View(l);$.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"\xD7"}]});const K=new Rt.LabeledFieldView(l,Rt.createLabeledInputText);return K.set({label:b("Height"),class:"ck-table-form__dimensions-row__height"}),K.fieldView.bind("value").to(this,"height"),K.fieldView.on("input",()=>{this.height=K.fieldView.element.value}),{dimensionsLabel:M,widthInput:A,operatorLabel:$,heightInput:K}}_createPaddingField(){const l=this.locale,b=this.t,M=new Rt.LabeledFieldView(l,Rt.createLabeledInputText);return M.set({label:b("Padding"),class:"ck-table-cell-properties-form__padding"}),M.fieldView.bind("value").to(this,"padding"),M.fieldView.on("input",()=>{this.padding=M.fieldView.element.value}),M}_createAlignmentFields(){const l=this.locale,b=this.t,M=new Rt.LabelView(l);M.text=b("Table cell text alignment");const A=new Rt.ToolbarView(l),$=this.locale.contentLanguageDirection==="rtl";A.set({isCompact:!0,ariaLabel:b("Horizontal text alignment toolbar")}),nt({view:this,icons:Mt,toolbar:A,labels:this._horizontalAlignmentLabels,propertyName:"horizontalAlignment",nameToValue:ie=>{if($){if(ie==="left")return"right";if(ie==="right")return"left"}return ie},defaultValue:this.options.defaultTableCellProperties.horizontalAlignment});const K=new Rt.ToolbarView(l);return K.set({isCompact:!0,ariaLabel:b("Vertical text alignment toolbar")}),nt({view:this,icons:Mt,toolbar:K,labels:this._verticalAlignmentLabels,propertyName:"verticalAlignment",defaultValue:this.options.defaultTableCellProperties.verticalAlignment}),{horizontalAlignmentToolbar:A,verticalAlignmentToolbar:K,alignmentLabel:M}}_createActionButtons(){const l=this.locale,b=this.t,M=new Rt.ButtonView(l),A=new Rt.ButtonView(l),$=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.paddingInput];return M.set({label:b("Save"),icon:f.icons.check,class:"ck-button-save",type:"submit",withText:!0}),M.bind("isEnabled").toMany($,"errorText",(...K)=>K.every(ie=>!ie)),A.set({label:b("Cancel"),icon:f.icons.cancel,class:"ck-button-cancel",withText:!0}),A.delegate("execute").to(this,"cancel"),{saveButtonView:M,cancelButtonView:A}}get _horizontalAlignmentLabels(){const l=this.locale,b=this.t,M=b("Align cell text to the left"),A=b("Align cell text to the center"),$=b("Align cell text to the right"),K=b("Justify cell text");return l.uiLanguageDirection==="rtl"?{right:$,center:A,left:M,justify:K}:{left:M,center:A,right:$,justify:K}}get _verticalAlignmentLabels(){const l=this.t;return{top:l("Align cell text to the top"),middle:l("Align cell text to the middle"),bottom:l("Align cell text to the bottom")}}}function Wt(X){return X!=="none"}const li=function(X){var l=typeof X;return X!=null&&(l=="object"||l=="function")},xi=typeof re.g=="object"&&re.g&&re.g.Object===Object&&re.g;var hi=typeof self=="object"&&self&&self.Object===Object&&self;const Di=xi||hi||Function("return this")(),dn=function(){return Di.Date.now()};var sn=/\s/;const Cn=function(X){for(var l=X.length;l--&&sn.test(X.charAt(l)););return l};var fn=/^\s+/;const Tn=function(X){return X&&X.slice(0,Cn(X)+1).replace(fn,"")},In=Di.Symbol;var Dn=Object.prototype,Fn=Dn.hasOwnProperty,Be=Dn.toString,j=In?In.toStringTag:void 0;const te=function(X){var l=Fn.call(X,j),b=X[j];try{X[j]=void 0;var M=!0}catch{}var A=Be.call(X);return M&&(l?X[j]=b:delete X[j]),A};var ue=Object.prototype.toString;const Ee=function(X){return ue.call(X)};var Re="[object Null]",ze="[object Undefined]",je=In?In.toStringTag:void 0;const Fe=function(X){return X==null?X===void 0?ze:Re:je&&je in Object(X)?te(X):Ee(X)},at=function(X){return X!=null&&typeof X=="object"};var mt="[object Symbol]";const ct=function(X){return typeof X=="symbol"||at(X)&&Fe(X)==mt};var wt=NaN,Ot=/^[-+]0x[0-9a-f]+$/i,Jt=/^0b[01]+$/i,yt=/^0o[0-7]+$/i,oi=parseInt;const vi=function(X){if(typeof X=="number")return X;if(ct(X))return wt;if(li(X)){var l=typeof X.valueOf=="function"?X.valueOf():X;X=li(l)?l+"":l}if(typeof X!="string")return X===0?X:+X;X=Tn(X);var b=Jt.test(X);return b||yt.test(X)?oi(X.slice(2),b?2:8):Ot.test(X)?wt:+X};var ji="Expected a function",Wi=Math.max,tn=Math.min;const bn=function(X,l,b){var M,A,$,K,ie,oe,xe=0,Oe=!1,Xe=!1,pt=!0;if(typeof X!="function")throw new TypeError(ji);function Vt(Ci){var Hi=M,Gi=A;return M=A=void 0,xe=Ci,K=X.apply(Gi,Hi)}function ei(Ci){var Hi=Ci-oe;return oe===void 0||Hi>=l||Hi<0||Xe&&Ci-xe>=$}function qt(){var Ci=dn();if(ei(Ci))return di(Ci);ie=setTimeout(qt,function(Hi){var Gi=l-(Hi-oe);return Xe?tn(Gi,$-(Hi-xe)):Gi}(Ci))}function di(Ci){return ie=void 0,pt&&M?Vt(Ci):(M=A=void 0,K)}function ki(){var Ci=dn(),Hi=ei(Ci);if(M=arguments,A=this,oe=Ci,Hi){if(ie===void 0)return function(Gi){return xe=Gi,ie=setTimeout(qt,l),Oe?Vt(Gi):K}(oe);if(Xe)return clearTimeout(ie),ie=setTimeout(qt,l),Vt(oe)}return ie===void 0&&(ie=setTimeout(qt,l)),K}return l=vi(l)||0,li(b)&&(Oe=!!b.leading,$=(Xe="maxWait"in b)?Wi(vi(b.maxWait)||0,l):$,pt="trailing"in b?!!b.trailing:pt),ki.cancel=function(){ie!==void 0&&clearTimeout(ie),xe=0,M=oe=A=ie=void 0},ki.flush=function(){return ie===void 0?K:di(dn())},ki},Pe=Rt.BalloonPanelView.defaultPositions,k=[Pe.northArrowSouth,Pe.northArrowSouthWest,Pe.northArrowSouthEast,Pe.southArrowNorth,Pe.southArrowNorthWest,Pe.southArrowNorthEast,Pe.viewportStickyNorth];function O(X,l){const b=X.plugins.get("ContextualBalloon");if(ci(X.editing.view.document.selection)){let M;M=l==="cell"?Ae(X):he(X),b.updatePosition(M)}}function he(X){const l=X.model.document.selection.getFirstPosition().findAncestor("table"),b=X.editing.mapper.toViewElement(l);return{target:X.editing.view.domConverter.mapViewToDom(b),positions:k}}function Ae(X){const l=X.editing.mapper,b=X.editing.view.domConverter,M=X.model.document.selection;if(M.rangeCount>1)return{target:()=>function(K,ie){const oe=ie.editing.mapper,xe=ie.editing.view.domConverter,Oe=Array.from(K).map(Xe=>{const pt=dt(Xe.start),Vt=oe.toViewElement(pt);return new J.Rect(xe.mapViewToDom(Vt))});return J.Rect.getBoundingRect(Oe)}(M.getRanges(),X),positions:k};const A=dt(M.getFirstPosition()),$=l.toViewElement(A);return{target:b.mapViewToDom($),positions:k}}function dt(X){return X.nodeAfter&&X.nodeAfter.is("element","tableCell")?X.nodeAfter:X.findAncestor("tableCell")}function lt(X){if(!X||!li(X))return X;const{top:l,right:b,bottom:M,left:A}=X;return l==b&&b==M&&M==A?l:void 0}function ot(X,l){const b=parseFloat(X);return Number.isNaN(b)||String(b)!==String(X)?X:`${b}${l}`}function Zt(X,l={}){const b=Object.assign({borderStyle:"none",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:""},X);return l.includeAlignmentProperty&&!b.alignment&&(b.alignment="center"),l.includePaddingProperty&&!b.padding&&(b.padding=""),l.includeVerticalAlignmentProperty&&!b.verticalAlignment&&(b.verticalAlignment="middle"),l.includeHorizontalAlignmentProperty&&!b.horizontalAlignment&&(b.horizontalAlignment=l.isRightToLeftContent?"right":"left"),b}const Pi={borderStyle:"tableCellBorderStyle",borderColor:"tableCellBorderColor",borderWidth:"tableCellBorderWidth",height:"tableCellHeight",width:"tableCellWidth",padding:"tableCellPadding",backgroundColor:"tableCellBackgroundColor",horizontalAlignment:"tableCellHorizontalAlignment",verticalAlignment:"tableCellVerticalAlignment"};class Ki extends f.Plugin{static get requires(){return[Rt.ContextualBalloon]}static get pluginName(){return"TableCellPropertiesUI"}constructor(l){super(l),l.config.define("table.tableCellProperties",{borderColors:It,backgroundColors:It})}init(){const l=this.editor,b=l.t;this._defaultTableCellProperties=Zt(l.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:l.locale.contentLanguageDirection==="rtl"}),this._balloon=l.plugins.get(Rt.ContextualBalloon),this.view=null,this._undoStepBatch=null,this._isReady=!1,l.ui.componentFactory.add("tableCellProperties",M=>{const A=new Rt.ButtonView(M);A.set({label:b("Cell properties"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.105 18-.17 1H2.5A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1h15A1.5 1.5 0 0 1 19 2.5v9.975l-.85-.124-.15-.302V8h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5h3.105zM2 12h5V8H2v4zm10-4H8v4h4V8zM2 2v5h5V2H2zm0 16h5v-5H2v5zM13 7h5V2h-5v5zM8 2v5h4V2H8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM13 6a1 1 0 0 1 1 1v3.172a2.047 2.047 0 0 0-.293.443l-.858 1.736-1.916.28-.151.027A1.976 1.976 0 0 0 9.315 14H7a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm-1 2H8v4h4V8z"/></svg>',tooltip:!0}),this.listenTo(A,"execute",()=>this._showView());const $=Object.values(Pi).map(K=>l.commands.get(K));return A.bind("isEnabled").toMany($,"isEnabled",(...K)=>K.some(ie=>ie)),A})}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(){const l=this.editor,b=l.config.get("table.tableCellProperties"),M=(0,Rt.normalizeColorOptions)(b.borderColors),A=(0,Rt.getLocalizedColorOptions)(l.locale,M),$=(0,Rt.normalizeColorOptions)(b.backgroundColors),K=(0,Rt.getLocalizedColorOptions)(l.locale,$),ie=new jt(l.locale,{borderColors:A,backgroundColors:K,defaultTableCellProperties:this._defaultTableCellProperties}),oe=l.t;ie.render(),this.listenTo(ie,"submit",()=>{this._hideView()}),this.listenTo(ie,"cancel",()=>{this._undoStepBatch.operations.length&&l.execute("undo",this._undoStepBatch),this._hideView()}),ie.keystrokes.set("Esc",(Xe,pt)=>{this._hideView(),pt()}),(0,Rt.clickOutsideHandler)({emitter:ie,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const xe=He(oe),Oe=Q(oe);return ie.on("change:borderStyle",this._getPropertyChangeCallback("tableCellBorderStyle",this._defaultTableCellProperties.borderStyle)),ie.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:ie.borderColorInput,commandName:"tableCellBorderColor",errorText:xe,validator:R,defaultValue:this._defaultTableCellProperties.borderColor})),ie.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:ie.borderWidthInput,commandName:"tableCellBorderWidth",errorText:Oe,validator:ve,defaultValue:this._defaultTableCellProperties.borderWidth})),ie.on("change:padding",this._getValidatedPropertyChangeCallback({viewField:ie.paddingInput,commandName:"tableCellPadding",errorText:Oe,validator:Y,defaultValue:this._defaultTableCellProperties.padding})),ie.on("change:width",this._getValidatedPropertyChangeCallback({viewField:ie.widthInput,commandName:"tableCellWidth",errorText:Oe,validator:Y,defaultValue:this._defaultTableCellProperties.width})),ie.on("change:height",this._getValidatedPropertyChangeCallback({viewField:ie.heightInput,commandName:"tableCellHeight",errorText:Oe,validator:Y,defaultValue:this._defaultTableCellProperties.height})),ie.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:ie.backgroundInput,commandName:"tableCellBackgroundColor",errorText:xe,validator:R,defaultValue:this._defaultTableCellProperties.backgroundColor})),ie.on("change:horizontalAlignment",this._getPropertyChangeCallback("tableCellHorizontalAlignment",this._defaultTableCellProperties.horizontalAlignment)),ie.on("change:verticalAlignment",this._getPropertyChangeCallback("tableCellVerticalAlignment",this._defaultTableCellProperties.verticalAlignment)),ie}_fillViewFormFromCommandValues(){const l=this.editor.commands,b=l.get("tableCellBorderStyle");Object.entries(Pi).map(([M,A])=>{const $=this._defaultTableCellProperties[M]||"";return[M,l.get(A).value||$]}).forEach(([M,A])=>{(M!=="borderColor"&&M!=="borderWidth"||b.value!=="none")&&this.view.set(M,A)}),this._isReady=!0}_showView(){const l=this.editor;this.view||(this.view=this._createPropertiesView()),this.listenTo(l.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:Ae(l)}),this._undoStepBatch=l.model.createBatch(),this.view.focus()}_hideView(){const l=this.editor;this.stopListening(l.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const l=this.editor;ci(l.editing.view.document.selection)?this._isViewVisible&&O(l,"cell"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(l){return(b,M,A)=>{this._isReady&&this.editor.execute(l,{value:A,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(l){const{commandName:b,viewField:M,validator:A,errorText:$}=l,K=bn(()=>{M.errorText=$},500);return(ie,oe,xe)=>{K.cancel(),this._isReady&&(A(xe)?(this.editor.execute(b,{value:xe,batch:this._undoStepBatch}),M.errorText=null):K())}}}class hn extends f.Command{constructor(l,b,M){super(l),this.attributeName=b,this._defaultValue=M}refresh(){const l=this.editor,b=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(l.model.document.selection);this.isEnabled=!!b.length,this.value=this._getSingleValue(b)}execute(l={}){const{value:b,batch:M}=l,A=this.editor.model,$=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(A.document.selection),K=this._getValueToSet(b);A.enqueueChange(M,ie=>{K?$.forEach(oe=>ie.setAttribute(this.attributeName,K,oe)):$.forEach(oe=>ie.removeAttribute(this.attributeName,oe))})}_getAttribute(l){if(!l)return;const b=l.getAttribute(this.attributeName);return b!==this._defaultValue?b:void 0}_getValueToSet(l){if(l!==this._defaultValue)return l}_getSingleValue(l){const b=this._getAttribute(l[0]);return l.every(M=>this._getAttribute(M)===b)?b:void 0}}class eo extends hn{constructor(l,b){super(l,"tableCellWidth",b)}_getValueToSet(l){if((l=ot(l,"px"))!==this._defaultValue)return l}}class to extends f.Plugin{static get pluginName(){return"TableCellWidthEditing"}static get requires(){return[gi]}init(){const l=this.editor,b=Zt(l.config.get("table.tableCellProperties.defaultProperties"));me(l.model.schema,l.conversion,{modelAttribute:"tableCellWidth",styleName:"width",defaultValue:b.width}),l.commands.add("tableCellWidth",new eo(l,b.width))}}class uo extends hn{constructor(l,b){super(l,"tableCellPadding",b)}_getAttribute(l){if(!l)return;const b=lt(l.getAttribute(this.attributeName));return b!==this._defaultValue?b:void 0}_getValueToSet(l){if((l=ot(l,"px"))!==this._defaultValue)return l}}class Ro extends hn{constructor(l,b){super(l,"tableCellHeight",b)}_getValueToSet(l){return(l=ot(l,"px"))===this._defaultValue?null:l}}class Oo extends hn{constructor(l,b){super(l,"tableCellBackgroundColor",b)}}class jo extends hn{constructor(l,b){super(l,"tableCellVerticalAlignment",b)}}class ir extends hn{constructor(l,b){super(l,"tableCellHorizontalAlignment",b)}}class nr extends hn{constructor(l,b){super(l,"tableCellBorderStyle",b)}_getAttribute(l){if(!l)return;const b=lt(l.getAttribute(this.attributeName));return b!==this._defaultValue?b:void 0}}class or extends hn{constructor(l,b){super(l,"tableCellBorderColor",b)}_getAttribute(l){if(!l)return;const b=lt(l.getAttribute(this.attributeName));return b!==this._defaultValue?b:void 0}}class rr extends hn{constructor(l,b){super(l,"tableCellBorderWidth",b)}_getAttribute(l){if(!l)return;const b=lt(l.getAttribute(this.attributeName));return b!==this._defaultValue?b:void 0}_getValueToSet(l){if((l=ot(l,"px"))!==this._defaultValue)return l}}const No=/^(top|middle|bottom)$/,Hn=/^(left|center|right|justify)$/;class ho extends f.Plugin{static get pluginName(){return"TableCellPropertiesEditing"}static get requires(){return[gi,to]}init(){const l=this.editor,b=l.model.schema,M=l.conversion;l.config.define("table.tableCellProperties.defaultProperties",{});const A=Zt(l.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:l.locale.contentLanguageDirection==="rtl"});l.data.addStyleProcessorRules(F.addBorderRules),function($,K,ie){const oe={width:"tableCellBorderWidth",color:"tableCellBorderColor",style:"tableCellBorderStyle"};$.extend("tableCell",{allowAttributes:Object.values(oe)}),d(K,"td",oe,ie),d(K,"th",oe,ie),S(K,{modelElement:"tableCell",modelAttribute:oe.style,styleName:"border-style"}),S(K,{modelElement:"tableCell",modelAttribute:oe.color,styleName:"border-color"}),S(K,{modelElement:"tableCell",modelAttribute:oe.width,styleName:"border-width"})}(b,M,{color:A.borderColor,style:A.borderStyle,width:A.borderWidth}),l.commands.add("tableCellBorderStyle",new nr(l,A.borderStyle)),l.commands.add("tableCellBorderColor",new or(l,A.borderColor)),l.commands.add("tableCellBorderWidth",new rr(l,A.borderWidth)),me(b,M,{modelAttribute:"tableCellHeight",styleName:"height",defaultValue:A.height}),l.commands.add("tableCellHeight",new Ro(l,A.height)),l.data.addStyleProcessorRules(F.addPaddingRules),me(b,M,{modelAttribute:"tableCellPadding",styleName:"padding",reduceBoxSides:!0,defaultValue:A.padding}),l.commands.add("tableCellPadding",new uo(l,A.padding)),l.data.addStyleProcessorRules(F.addBackgroundRules),me(b,M,{modelAttribute:"tableCellBackgroundColor",styleName:"background-color",defaultValue:A.backgroundColor}),l.commands.add("tableCellBackgroundColor",new Oo(l,A.backgroundColor)),function($,K,ie){$.extend("tableCell",{allowAttributes:["tableCellHorizontalAlignment"]}),K.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellHorizontalAlignment"},view:oe=>({key:"style",value:{"text-align":oe}})}),K.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"text-align":Hn}},model:{key:"tableCellHorizontalAlignment",value:oe=>{const xe=oe.getStyle("text-align");return xe===ie?null:xe}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{align:Hn}},model:{key:"tableCellHorizontalAlignment",value:oe=>{const xe=oe.getAttribute("align");return xe===ie?null:xe}}})}(b,M,A.horizontalAlignment),l.commands.add("tableCellHorizontalAlignment",new ir(l,A.horizontalAlignment)),function($,K,ie){$.extend("tableCell",{allowAttributes:["tableCellVerticalAlignment"]}),K.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellVerticalAlignment"},view:oe=>({key:"style",value:{"vertical-align":oe}})}),K.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"vertical-align":No}},model:{key:"tableCellVerticalAlignment",value:oe=>{const xe=oe.getStyle("vertical-align");return xe===ie?null:xe}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{valign:No}},model:{key:"tableCellVerticalAlignment",value:oe=>{const xe=oe.getAttribute("valign");return xe===ie?null:xe}}})}(b,M,A.verticalAlignment),l.commands.add("tableCellVerticalAlignment",new jo(l,A.verticalAlignment))}}class sr extends f.Plugin{static get pluginName(){return"TableCellProperties"}static get requires(){return[ho,Ki]}}class Nn extends f.Command{constructor(l,b,M){super(l),this.attributeName=b,this._defaultValue=M}refresh(){const l=this.editor.model.document.selection.getFirstPosition().findAncestor("table");this.isEnabled=!!l,this.value=this._getValue(l)}execute(l={}){const b=this.editor.model,M=b.document.selection,{value:A,batch:$}=l,K=M.getFirstPosition().findAncestor("table"),ie=this._getValueToSet(A);b.enqueueChange($,oe=>{ie?oe.setAttribute(this.attributeName,ie,K):oe.removeAttribute(this.attributeName,K)})}_getValue(l){if(!l)return;const b=l.getAttribute(this.attributeName);return b!==this._defaultValue?b:void 0}_getValueToSet(l){if(l!==this._defaultValue)return l}}class Vo extends Nn{constructor(l,b){super(l,"tableBackgroundColor",b)}}class mo extends Nn{constructor(l,b){super(l,"tableBorderColor",b)}_getValue(l){if(!l)return;const b=lt(l.getAttribute(this.attributeName));return b!==this._defaultValue?b:void 0}}class yo extends Nn{constructor(l,b){super(l,"tableBorderStyle",b)}_getValue(l){if(!l)return;const b=lt(l.getAttribute(this.attributeName));return b!==this._defaultValue?b:void 0}}class ar extends Nn{constructor(l,b){super(l,"tableBorderWidth",b)}_getValue(l){if(!l)return;const b=lt(l.getAttribute(this.attributeName));return b!==this._defaultValue?b:void 0}_getValueToSet(l){if((l=ot(l,"px"))!==this._defaultValue)return l}}class Bo extends Nn{constructor(l,b){super(l,"tableWidth",b)}_getValueToSet(l){if((l=ot(l,"px"))!==this._defaultValue)return l}}class zo extends Nn{constructor(l,b){super(l,"tableHeight",b)}_getValueToSet(l){return(l=ot(l,"px"))===this._defaultValue?null:l}}class Do extends Nn{constructor(l,b){super(l,"tableAlignment",b)}}const lr=/^(left|center|right)$/,Fo=/^(left|none|right)$/;class Ho extends f.Plugin{static get pluginName(){return"TablePropertiesEditing"}static get requires(){return[gi]}init(){const l=this.editor,b=l.model.schema,M=l.conversion;l.config.define("table.tableProperties.defaultProperties",{});const A=Zt(l.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0});l.data.addStyleProcessorRules(F.addBorderRules),function($,K,ie){const oe={width:"tableBorderWidth",color:"tableBorderColor",style:"tableBorderStyle"};$.extend("table",{allowAttributes:Object.values(oe)}),d(K,"table",oe,ie),U(K,{modelAttribute:oe.color,styleName:"border-color"}),U(K,{modelAttribute:oe.style,styleName:"border-style"}),U(K,{modelAttribute:oe.width,styleName:"border-width"})}(b,M,{color:A.borderColor,style:A.borderStyle,width:A.borderWidth}),l.commands.add("tableBorderColor",new mo(l,A.borderColor)),l.commands.add("tableBorderStyle",new yo(l,A.borderStyle)),l.commands.add("tableBorderWidth",new ar(l,A.borderWidth)),function($,K,ie){$.extend("table",{allowAttributes:["tableAlignment"]}),K.for("downcast").attributeToAttribute({model:{name:"table",key:"tableAlignment"},view:oe=>({key:"style",value:{float:oe==="center"?"none":oe}}),converterPriority:"high"}),K.for("upcast").attributeToAttribute({view:{name:/^(table|figure)$/,styles:{float:Fo}},model:{key:"tableAlignment",value:oe=>{let xe=oe.getStyle("float");return xe==="none"&&(xe="center"),xe===ie?null:xe}}}).attributeToAttribute({view:{attributes:{align:lr}},model:{name:"table",key:"tableAlignment",value:oe=>{const xe=oe.getAttribute("align");return xe===ie?null:xe}}})}(b,M,A.alignment),l.commands.add("tableAlignment",new Do(l,A.alignment)),xo(b,M,{modelAttribute:"tableWidth",styleName:"width",defaultValue:A.width}),l.commands.add("tableWidth",new Bo(l,A.width)),xo(b,M,{modelAttribute:"tableHeight",styleName:"height",defaultValue:A.height}),l.commands.add("tableHeight",new zo(l,A.height)),l.data.addStyleProcessorRules(F.addBackgroundRules),function($,K,ie){const{modelAttribute:oe}=ie;$.extend("table",{allowAttributes:[oe]}),a(K,{viewElement:"table",...ie}),U(K,ie)}(b,M,{modelAttribute:"tableBackgroundColor",styleName:"background-color",defaultValue:A.backgroundColor}),l.commands.add("tableBackgroundColor",new Vo(l,A.backgroundColor))}}function xo(X,l,b){const{modelAttribute:M}=b;X.extend("table",{allowAttributes:[M]}),a(l,{viewElement:/^(table|figure)$/,shouldUpcast:A=>!(A.name=="table"&&A.parent.name=="figure"),...b}),S(l,{modelElement:"table",...b})}var Co=E(99),go={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ut()(Co.Z,go),Co.Z.locals;const Uo={left:f.icons.objectLeft,center:f.icons.objectCenter,right:f.icons.objectRight};class cr extends Rt.View{constructor(l,b){super(l),this.set({borderStyle:"",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",alignment:""}),this.options=b;const{borderStyleDropdown:M,borderWidthInput:A,borderColorInput:$,borderRowLabel:K}=this._createBorderFields(),{backgroundRowLabel:ie,backgroundInput:oe}=this._createBackgroundFields(),{widthInput:xe,operatorLabel:Oe,heightInput:Xe,dimensionsLabel:pt}=this._createDimensionFields(),{alignmentToolbar:Vt,alignmentLabel:ei}=this._createAlignmentFields();this.focusTracker=new J.FocusTracker,this.keystrokes=new J.KeystrokeHandler,this.children=this.createCollection(),this.borderStyleDropdown=M,this.borderWidthInput=A,this.borderColorInput=$,this.backgroundInput=oe,this.widthInput=xe,this.heightInput=Xe,this.alignmentToolbar=Vt;const{saveButtonView:qt,cancelButtonView:di}=this._createActionButtons();this.saveButtonView=qt,this.cancelButtonView=di,this._focusables=new Rt.ViewCollection,this._focusCycler=new Rt.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new Rt.FormHeaderView(l,{label:this.t("Table properties")})),this.children.add(new se(l,{labelView:K,children:[K,M,$,A],class:"ck-table-form__border-row"})),this.children.add(new se(l,{labelView:ie,children:[ie,oe],class:"ck-table-form__background-row"})),this.children.add(new se(l,{children:[new se(l,{labelView:pt,children:[pt,xe,Oe,Xe],class:"ck-table-form__dimensions-row"}),new se(l,{labelView:ei,children:[ei,Vt],class:"ck-table-properties-form__alignment-row"})]})),this.children.add(new se(l,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),(0,Rt.submitHandler)({view:this}),[this.borderStyleDropdown,this.borderColorInput,this.borderColorInput.fieldView.dropdownView.buttonView,this.borderWidthInput,this.backgroundInput,this.backgroundInput.fieldView.dropdownView.buttonView,this.widthInput,this.heightInput,this.alignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(l=>{this._focusables.add(l),this.focusTracker.add(l.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const l=this.options.defaultTableProperties,b={style:l.borderStyle,width:l.borderWidth,color:l.borderColor},M=ai({colorConfig:this.options.borderColors,columns:5,defaultColorValue:b.color}),A=this.locale,$=this.t,K=new Rt.LabelView(A);K.text=$("Border");const ie=we(this.t),oe=new Rt.LabeledFieldView(A,Rt.createLabeledDropdown);oe.set({label:$("Style"),class:"ck-table-form__border-style"}),oe.fieldView.buttonView.set({isOn:!1,withText:!0,tooltip:$("Style")}),oe.fieldView.buttonView.bind("label").to(this,"borderStyle",Xe=>ie[Xe||"none"]),oe.fieldView.on("execute",Xe=>{this.borderStyle=Xe.source._borderStyleValue}),oe.bind("isEmpty").to(this,"borderStyle",Xe=>!Xe),(0,Rt.addListToDropdown)(oe.fieldView,De(this,b.style));const xe=new Rt.LabeledFieldView(A,Rt.createLabeledInputText);xe.set({label:$("Width"),class:"ck-table-form__border-width"}),xe.fieldView.bind("value").to(this,"borderWidth"),xe.bind("isEnabled").to(this,"borderStyle",oo),xe.fieldView.on("input",()=>{this.borderWidth=xe.fieldView.element.value});const Oe=new Rt.LabeledFieldView(A,M);return Oe.set({label:$("Color"),class:"ck-table-form__border-color"}),Oe.fieldView.bind("value").to(this,"borderColor"),Oe.bind("isEnabled").to(this,"borderStyle",oo),Oe.fieldView.on("input",()=>{this.borderColor=Oe.fieldView.value}),this.on("change:borderStyle",(Xe,pt,Vt,ei)=>{oo(Vt)||(this.borderColor="",this.borderWidth=""),oo(ei)||(this.borderColor=b.color,this.borderWidth=b.width)}),{borderRowLabel:K,borderStyleDropdown:oe,borderColorInput:Oe,borderWidthInput:xe}}_createBackgroundFields(){const l=this.locale,b=this.t,M=new Rt.LabelView(l);M.text=b("Background");const A=ai({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableProperties.backgroundColor}),$=new Rt.LabeledFieldView(l,A);return $.set({label:b("Color"),class:"ck-table-properties-form__background"}),$.fieldView.bind("value").to(this,"backgroundColor"),$.fieldView.on("input",()=>{this.backgroundColor=$.fieldView.value}),{backgroundRowLabel:M,backgroundInput:$}}_createDimensionFields(){const l=this.locale,b=this.t,M=new Rt.LabelView(l);M.text=b("Dimensions");const A=new Rt.LabeledFieldView(l,Rt.createLabeledInputText);A.set({label:b("Width"),class:"ck-table-form__dimensions-row__width"}),A.fieldView.bind("value").to(this,"width"),A.fieldView.on("input",()=>{this.width=A.fieldView.element.value});const $=new Rt.View(l);$.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"\xD7"}]});const K=new Rt.LabeledFieldView(l,Rt.createLabeledInputText);return K.set({label:b("Height"),class:"ck-table-form__dimensions-row__height"}),K.fieldView.bind("value").to(this,"height"),K.fieldView.on("input",()=>{this.height=K.fieldView.element.value}),{dimensionsLabel:M,widthInput:A,operatorLabel:$,heightInput:K}}_createAlignmentFields(){const l=this.locale,b=this.t,M=new Rt.LabelView(l);M.text=b("Alignment");const A=new Rt.ToolbarView(l);return A.set({isCompact:!0,ariaLabel:b("Table alignment toolbar")}),nt({view:this,icons:Uo,toolbar:A,labels:this._alignmentLabels,propertyName:"alignment",defaultValue:this.options.defaultTableProperties.alignment}),{alignmentLabel:M,alignmentToolbar:A}}_createActionButtons(){const l=this.locale,b=this.t,M=new Rt.ButtonView(l),A=new Rt.ButtonView(l),$=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.widthInput,this.heightInput];return M.set({label:b("Save"),icon:f.icons.check,class:"ck-button-save",type:"submit",withText:!0}),M.bind("isEnabled").toMany($,"errorText",(...K)=>K.every(ie=>!ie)),A.set({label:b("Cancel"),icon:f.icons.cancel,class:"ck-button-cancel",withText:!0}),A.delegate("execute").to(this,"cancel"),{saveButtonView:M,cancelButtonView:A}}get _alignmentLabels(){const l=this.locale,b=this.t,M=b("Align table to the left"),A=b("Center table"),$=b("Align table to the right");return l.uiLanguageDirection==="rtl"?{right:$,center:A,left:M}:{left:M,center:A,right:$}}}function oo(X){return X!=="none"}const Wo={borderStyle:"tableBorderStyle",borderColor:"tableBorderColor",borderWidth:"tableBorderWidth",backgroundColor:"tableBackgroundColor",width:"tableWidth",height:"tableHeight",alignment:"tableAlignment"};class To extends f.Plugin{static get requires(){return[Rt.ContextualBalloon]}static get pluginName(){return"TablePropertiesUI"}constructor(l){super(l),l.config.define("table.tableProperties",{borderColors:It,backgroundColors:It})}init(){const l=this.editor,b=l.t;this._defaultTableProperties=Zt(l.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0}),this._balloon=l.plugins.get(Rt.ContextualBalloon),this.view=null,this._undoStepBatch=null,this._isReady=!1,l.ui.componentFactory.add("tableProperties",M=>{const A=new Rt.ButtonView(M);A.set({label:b("Table properties"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8 2v5h4V2h1v5h5v1h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5H7v-5H2v-1h5V8H2V7h5V2h1zm4 6H8v4h4V8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM17 1a2 2 0 0 1 2 2v9.475l-.85-.124-.857-1.736a2.048 2.048 0 0 0-.292-.44L17 3H3v14h7.808l.402.392L10.935 19H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14z"/></svg>',tooltip:!0}),this.listenTo(A,"execute",()=>this._showView());const $=Object.values(Wo).map(K=>l.commands.get(K));return A.bind("isEnabled").toMany($,"isEnabled",(...K)=>K.some(ie=>ie)),A})}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(){const l=this.editor,b=l.config.get("table.tableProperties"),M=(0,Rt.normalizeColorOptions)(b.borderColors),A=(0,Rt.getLocalizedColorOptions)(l.locale,M),$=(0,Rt.normalizeColorOptions)(b.backgroundColors),K=(0,Rt.getLocalizedColorOptions)(l.locale,$),ie=new cr(l.locale,{borderColors:A,backgroundColors:K,defaultTableProperties:this._defaultTableProperties}),oe=l.t;ie.render(),this.listenTo(ie,"submit",()=>{this._hideView()}),this.listenTo(ie,"cancel",()=>{this._undoStepBatch.operations.length&&l.execute("undo",this._undoStepBatch),this._hideView()}),ie.keystrokes.set("Esc",(Xe,pt)=>{this._hideView(),pt()}),(0,Rt.clickOutsideHandler)({emitter:ie,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const xe=He(oe),Oe=Q(oe);return ie.on("change:borderStyle",this._getPropertyChangeCallback("tableBorderStyle",this._defaultTableProperties.borderStyle)),ie.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:ie.borderColorInput,commandName:"tableBorderColor",errorText:xe,validator:R,defaultValue:this._defaultTableProperties.borderColor})),ie.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:ie.borderWidthInput,commandName:"tableBorderWidth",errorText:Oe,validator:ve,defaultValue:this._defaultTableProperties.borderWidth})),ie.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:ie.backgroundInput,commandName:"tableBackgroundColor",errorText:xe,validator:R,defaultValue:this._defaultTableProperties.backgroundColor})),ie.on("change:width",this._getValidatedPropertyChangeCallback({viewField:ie.widthInput,commandName:"tableWidth",errorText:Oe,validator:Y,defaultValue:this._defaultTableProperties.width})),ie.on("change:height",this._getValidatedPropertyChangeCallback({viewField:ie.heightInput,commandName:"tableHeight",errorText:Oe,validator:Y,defaultValue:this._defaultTableProperties.height})),ie.on("change:alignment",this._getPropertyChangeCallback("tableAlignment",this._defaultTableProperties.alignment)),ie}_fillViewFormFromCommandValues(){const l=this.editor.commands,b=l.get("tableBorderStyle");Object.entries(Wo).map(([M,A])=>{const $=this._defaultTableProperties[M]||"";return[M,l.get(A).value||$]}).forEach(([M,A])=>{(M!=="borderColor"&&M!=="borderWidth"||b.value!=="none")&&this.view.set(M,A)}),this._isReady=!0}_showView(){const l=this.editor;this.view||(this.view=this._createPropertiesView()),this.listenTo(l.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:he(l)}),this._undoStepBatch=l.model.createBatch(),this.view.focus()}_hideView(){const l=this.editor;this.stopListening(l.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const l=this.editor;ci(l.editing.view.document.selection)?this._isViewVisible&&O(l,"table"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(l){return(b,M,A)=>{this._isReady&&this.editor.execute(l,{value:A,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(l){const{commandName:b,viewField:M,validator:A,errorText:$}=l,K=bn(()=>{M.errorText=$},500);return(ie,oe,xe)=>{K.cancel(),this._isReady&&(A(xe)?(this.editor.execute(b,{value:xe,batch:this._undoStepBatch}),M.errorText=null):K())}}}class dr extends f.Plugin{static get pluginName(){return"TableProperties"}static get requires(){return[Ho,To]}}function Ao(X){X.document.registerPostFixer(l=>function(b,M){const A=M.document.differ.getChanges();let $=!1;for(const K of A)if(K.type=="insert"&&(K.position.parent.is("element","table")||K.name=="table")){const ie=K.name=="table"?K.position.nodeAfter:K.position.parent,oe=Array.from(ie.getChildren()).filter(Oe=>Oe.is("element","caption")),xe=oe.shift();if(!xe)continue;for(const Oe of oe)b.move(b.createRangeIn(Oe),xe,"end"),b.remove(Oe);xe.nextSibling&&(b.move(b.createRangeOn(xe),ie,"end"),$=!0),$=!!oe.length||$}return $}(l,X))}function Zo(X){return!!X&&X.is("element","table")}function So(X){for(const l of X.getChildren())if(l.is("element","caption"))return l;return null}function $o(X){const l=X.parent;return X.name=="figcaption"&&l&&l.name=="figure"&&l.hasClass("table")||X.name=="caption"&&l&&l.name=="table"?{name:!0}:null}function ro(X){const l=X.getSelectedElement();return l&&l.is("element","table")?l:X.getFirstPosition().findAncestor("table")}class ur extends f.Command{refresh(){const l=ro(this.editor.model.document.selection);this.isEnabled=!!l,this.isEnabled?this.value=!!So(l):this.value=!1}execute(l={}){const{focusCaptionOnShow:b}=l;this.editor.model.change(M=>{this.value?this._hideTableCaption(M):this._showTableCaption(M,b)})}_showTableCaption(l,b){const M=this.editor.model,A=ro(M.document.selection),$=this.editor.plugins.get("TableCaptionEditing")._getSavedCaption(A)||l.createElement("caption");M.insertContent($,A,"end"),b&&l.setSelection($,"in")}_hideTableCaption(l){const b=this.editor.model,M=ro(b.document.selection),A=this.editor.plugins.get("TableCaptionEditing"),$=So(M);A._saveCaption(M,$),b.deleteContent(l.createSelection($,"on"))}}class qo extends f.Plugin{static get pluginName(){return"TableCaptionEditing"}constructor(l){super(l),this._savedCaptionsMap=new WeakMap}init(){const l=this.editor,b=l.model.schema,M=l.editing.view,A=l.t;b.isRegistered("caption")?b.extend("caption",{allowIn:"table"}):b.register("caption",{allowIn:"table",allowContentOf:"$block",isLimit:!0}),l.commands.add("toggleTableCaption",new ur(this.editor)),l.conversion.for("upcast").elementToElement({view:$o,model:"caption"}),l.conversion.for("dataDowncast").elementToElement({model:"caption",view:($,{writer:K})=>Zo($.parent)?K.createContainerElement("figcaption"):null}),l.conversion.for("editingDowncast").elementToElement({model:"caption",view:($,{writer:K})=>{if(!Zo($.parent))return null;const ie=K.createEditableElement("figcaption");return K.setCustomProperty("tableCaption",!0,ie),(0,F.enablePlaceholder)({view:M,element:ie,text:A("Enter table caption"),keepOnFocus:!0}),(0,_.toWidgetEditable)(ie,K)}}),Ao(l.model)}_getSavedCaption(l){const b=this._savedCaptionsMap.get(l);return b?F.Element.fromJSON(b):null}_saveCaption(l,b){this._savedCaptionsMap.set(l,b.toJSON())}}class Eo extends f.Plugin{static get pluginName(){return"TableCaptionUI"}init(){const l=this.editor,b=l.editing.view,M=l.t;l.ui.componentFactory.add("toggleTableCaption",A=>{const $=l.commands.get("toggleTableCaption"),K=new Rt.ButtonView(A);return K.set({icon:f.icons.caption,tooltip:!0,isToggleable:!0}),K.bind("isOn","isEnabled").to($,"value","isEnabled"),K.bind("label").to($,"value",ie=>M(ie?"Toggle caption off":"Toggle caption on")),this.listenTo(K,"execute",()=>{if(l.execute("toggleTableCaption",{focusCaptionOnShow:!0}),$.value){const ie=function(xe){const Oe=ro(xe);return Oe?So(Oe):null}(l.model.document.selection),oe=l.editing.mapper.toViewElement(ie);if(!oe)return;b.scrollToTheSelection(),b.change(xe=>{xe.addClass("table__caption_highlighted",oe)})}l.editing.view.focus()}),K})}}var Io=E(665),Un={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ut()(Io.Z,Un),Io.Z.locals;class Gn extends f.Plugin{static get pluginName(){return"TableCaption"}static get requires(){return[qo,Eo]}}var so="Expected a function";const nn=function(X,l,b){var M=!0,A=!0;if(typeof X!="function")throw new TypeError(so);return li(b)&&(M="leading"in b?!!b.leading:M,A="trailing"in b?!!b.trailing:A),bn(X,l,{leading:M,maxWait:l,trailing:A})};class Pn extends Nn{constructor(l,b){super(l,"tableWidth",b)}refresh(){this.isEnabled=!0}execute(l={}){const b=this.editor.model,M=l.table||b.document.selection.getSelectedElement(),{tableWidth:A,columnWidths:$}=l;b.change(K=>{A?K.setAttribute(this.attributeName,A,M):K.removeAttribute(this.attributeName,M),$?K.setAttribute("columnWidths",$,M):K.removeAttribute("columnWidths",M)})}}class on extends Nn{constructor(l,b){super(l,"columnWidths",b)}refresh(){this.isEnabled=!0}execute(l={}){const b=this.editor.model,M=l.table||b.document.selection.getSelectedElement(),{columnWidths:A}=l;b.change($=>{A?$.setAttribute(this.attributeName,A,M):$.removeAttribute(this.attributeName,M)})}}const Rn=5,Vn=40,si=2;function ao(X,l){return 100*Vn/po(X,l)}function po(X,l){const b=Po(X,"tbody",l)||Po(X,"thead",l);return fo(l.editing.view.domConverter.mapViewToDom(b))}function Po(X,l,b){return[...[...b.editing.mapper.toViewElement(X).getChildren()].find(M=>M.is("element","table")).getChildren()].find(M=>M.is("element",l))}function fo(X){const l=J.global.window.getComputedStyle(X);return l.boxSizing==="border-box"?parseFloat(l.width)-parseFloat(l.paddingLeft)-parseFloat(l.paddingRight)-parseFloat(l.borderLeftWidth)-parseFloat(l.borderRightWidth):parseFloat(l.width)}function An(X){const l=Math.pow(10,si),b=parseFloat(X);return Math.round(b*l)/l}function zt(X){return X.map(l=>parseFloat(l)).filter(l=>!Number.isNaN(l)).reduce((l,b)=>l+b,0)}function bo(X){X=function(b){const M=b.filter(K=>K==="auto").length;if(M===0)return b.map(K=>An(K));const A=zt(b),$=Math.max((100-A)/M,Rn);return b.map(K=>K==="auto"?$:K).map(K=>An(K))}(X);const l=zt(X);return l===100?X:X.map(b=>An(100*b/l)).map((b,M,A)=>M!==A.length-1?b:An(b+100-zt(A)))}function Ko(X){const l=J.global.window.getComputedStyle(X);return l.boxSizing==="border-box"?parseInt(l.width):parseFloat(l.width)+parseFloat(l.paddingLeft)+parseFloat(l.paddingRight)+parseFloat(l.borderWidth)}function wo(){return X=>X.on("attribute:columnWidths:table",(l,b,M)=>{const A=M.writer,$=b.item,K=M.mapper.toViewElement($),ie=K.is("element","table")?K:Array.from(K.getChildren()).find(oe=>oe.is("element","table"));b.attributeNewValue?(function(oe,xe,Oe){const Xe=Oe.split(",");let pt=[...xe.getChildren()].find(Vt=>Vt.is("element","colgroup"));if(pt)for(const Vt of[...pt.getChildren()])oe.remove(Vt);else pt=oe.createContainerElement("colgroup");for(const Vt of Array(Xe.length).keys()){const ei=oe.createEmptyElement("col");oe.setStyle("width",Xe[Vt],ei),oe.insert(oe.createPositionAt(pt,"end"),ei)}oe.insert(oe.createPositionAt(xe,"start"),pt)}(A,ie,b.attributeNewValue),A.addClass("ck-table-resized",ie)):(function(oe,xe){const Oe=[...xe.getChildren()].find(Xe=>Xe.is("element","colgroup"));oe.remove(Oe)}(A,ie),A.removeClass("ck-table-resized",ie))})}class ko extends f.Plugin{static get requires(){return[gi,Dt]}static get pluginName(){return"TableColumnResizeEditing"}constructor(l){super(l),this._isResizingActive=!1,this.set("_isResizingAllowed",!0),this._resizingData=null,this._domEmitter=Object.create(J.DomEmitterMixin),this._tableUtilsPlugin=l.plugins.get("TableUtils"),this.on("change:_isResizingAllowed",(b,M,A)=>{l.editing.view.change($=>{$[A?"removeClass":"addClass"]("ck-column-resize_disabled",l.editing.view.document.getRoot())})})}init(){this._extendSchema(),this._registerPostFixer(),this._registerConverters(),this._registerResizingListeners(),this._registerColgroupFixer(),this._registerResizerInserter();const l=this.editor,b=l.plugins.get("TableColumnResize");l.commands.add("resizeTableWidth",new Pn(l)),l.commands.add("resizeColumnWidths",new on(l));const M=l.commands.get("resizeTableWidth"),A=l.commands.get("resizeColumnWidths");this.bind("_isResizingAllowed").to(l,"isReadOnly",b,"isEnabled",M,"isEnabled",A,"isEnabled",($,K,ie,oe)=>!$&&K&&ie&&oe)}destroy(){this._domEmitter.stopListening(),super.destroy()}_extendSchema(){this.editor.model.schema.extend("table",{allowAttributes:["tableWidth","columnWidths"]})}_registerPostFixer(){const l=this.editor.model;function b(M,A,$){const K=$._tableUtilsPlugin.getColumns(A);if(K-M.length===0)return;const ie=function(xe,Oe){const Xe=new Set;for(const pt of xe.getChanges())if(pt.type=="insert"&&pt.position.nodeAfter&&pt.position.nodeAfter.name=="tableCell"&&pt.position.nodeAfter.getAncestors().includes(Oe))Xe.add(pt.position.nodeAfter);else if(pt.type=="remove"){const Vt=pt.position.nodeBefore||pt.position.nodeAfter;Vt.name=="tableCell"&&Vt.getAncestors().includes(Oe)&&Xe.add(Vt)}return Xe}($.editor.model.document.differ,A);for(const xe of ie){const Oe=K-M.length;if(Oe===0)continue;const Xe=Oe>0,pt=$._tableUtilsPlugin.getCellLocation(xe).column;if(Xe){const Vt=ao(A,$.editor),ei=(oe=Vt,Array(Oe).fill(oe));M.splice(pt,0,...ei)}else{const Vt=M.splice(pt,Math.abs(Oe));M[pt]+=zt(Vt)}}var oe}l.document.registerPostFixer(M=>{let A=!1;for(const $ of function(K){const ie=new Set;for(const oe of K.document.differ.getChanges()){let xe=null;switch(oe.type){case"insert":xe=["table","tableRow","tableCell"].includes(oe.name)?oe.position:null;break;case"remove":xe=["tableRow","tableCell"].includes(oe.name)?oe.position:null;break;case"attribute":oe.range.start.nodeAfter&&(xe=["table","tableRow","tableCell"].includes(oe.range.start.nodeAfter.name)?oe.range.start:null)}if(!xe)continue;const Oe=xe.nodeAfter&&xe.nodeAfter.name==="table"?xe.nodeAfter:xe.findAncestor("table");for(const Xe of K.createRangeOn(Oe).getItems())Xe.is("element")&&Xe.name==="table"&&Xe.hasAttribute("columnWidths")&&ie.add(Xe)}return ie}(l)){const K=bo($.getAttribute("columnWidths").split(","));b(K,$,this);const ie=K.map(oe=>`${oe}%`).join(",");$.getAttribute("columnWidths")!==ie&&(M.setAttribute("columnWidths",ie,$),A=!0)}return A})}_registerConverters(){const l=this.editor.conversion;var b;l.for("upcast").attributeToAttribute({view:{name:"figure",key:"style",value:{width:/[\s\S]+/}},model:{name:"table",key:"tableWidth",value:M=>M.getStyle("width")}}),l.for("upcast").add((b=this._tableUtilsPlugin,M=>M.on("element:colgroup",(A,$,K)=>{const ie=$.viewItem;if(!K.consumable.test(ie,{name:!0}))return;K.consumable.consume(ie,{name:!0});const oe=$.modelCursor.findAncestor("table"),xe=b.getColumns(oe);let Oe=[...Array(xe).keys()].map(Xe=>{const pt=ie.getChild(Xe);if(!pt||!pt.is("element","col"))return"auto";const Vt=pt.getStyle("width");return Vt&&Vt.endsWith("%")?Vt:"auto"});Oe.includes("auto")&&(Oe=bo(Oe).map(Xe=>Xe+"%")),K.writer.setAttribute("columnWidths",Oe.join(","),oe)}))),l.for("downcast").attributeToAttribute({model:{name:"table",key:"tableWidth"},view:M=>({name:"figure",key:"style",value:{width:M}})}),l.for("downcast").add(wo())}_registerResizingListeners(){const l=this.editor.editing.view;l.addObserver(P),l.document.on("mousedown",this._onMouseDownHandler.bind(this),{priority:"high"}),this._domEmitter.listenTo(J.global.window.document,"mousemove",nn(this._onMouseMoveHandler.bind(this),50)),this._domEmitter.listenTo(J.global.window.document,"mouseup",this._onMouseUpHandler.bind(this))}_onMouseDownHandler(l,b){const M=b.target;if(!M.hasClass("ck-table-column-resizer")||!this._isResizingAllowed)return;b.preventDefault(),l.stop();const A=this.editor,$=function(oe,xe,Oe){const Xe=Array(xe.getColumns(oe)),pt=new g(oe);for(const Vt of pt){const ei=Oe.editing.mapper.toViewElement(Vt.cell),qt=Ko(Oe.editing.view.domConverter.mapViewToDom(ei));(!Xe[Vt.column]||qt<Xe[Vt.column])&&(Xe[Vt.column]=An(qt))}return Xe}(A.editing.mapper.toModelElement(M.findAncestor("figure")),this._tableUtilsPlugin,A),K=M.findAncestor("table"),ie=A.editing.view;[...K.getChildren()].find(oe=>oe.is("element","colgroup"))||ie.change(oe=>{(function(xe,Oe,Xe){const pt=xe.createContainerElement("colgroup");for(let Vt=0;Vt<Oe.length;Vt++){const ei=xe.createEmptyElement("col"),qt=`${An(Oe[Vt]/zt(Oe)*100)}%`;xe.setStyle("width",qt,ei),xe.insert(xe.createPositionAt(pt,"end"),ei)}xe.insert(xe.createPositionAt(Xe,"start"),pt)})(oe,$,K)}),this._isResizingActive=!0,this._resizingData=this._getResizingData(b,$),ie.change(oe=>function(xe,Oe,Xe){const pt=Xe.widths.viewFigureWidth/Xe.widths.viewFigureParentWidth;xe.addClass("ck-table-resized",Oe),xe.addClass("ck-table-column-resizer__active",Xe.elements.viewResizer),xe.setStyle("width",`${An(100*pt)}%`,Oe.findAncestor("figure"))}(oe,K,this._resizingData))}_onMouseMoveHandler(l,b){if(!this._isResizingActive)return;if(!this._isResizingAllowed)return void this._onMouseUpHandler();const{columnPosition:M,flags:{isRightEdge:A,isTableCentered:$,isLtrContent:K},elements:{viewFigure:ie,viewLeftColumn:oe,viewRightColumn:xe},widths:{viewFigureParentWidth:Oe,tableWidth:Xe,leftColumnWidth:pt,rightColumnWidth:Vt}}=this._resizingData,ei=-pt+Vn,qt=A?Oe-Xe:Vt-Vn,di=(K?1:-1)*(A&&$?2:1),ki=(Ci=(b.clientX-M)*di,Hi=Math.min(ei,0),Gi=Math.max(qt,0),An(Ci<=Hi?Hi:Ci>=Gi?Gi:Ci));var Ci,Hi,Gi;ki!==0&&this.editor.editing.view.change(un=>{const kn=An(100*(pt+ki)/Xe);if(un.setStyle("width",`${kn}%`,oe),A){const Xi=An(100*(Xe+ki)/Oe);un.setStyle("width",`${Xi}%`,ie)}else{const Xi=An(100*(Vt-ki)/Xe);un.setStyle("width",`${Xi}%`,xe)}})}_onMouseUpHandler(){if(!this._isResizingActive)return;const{viewResizer:l,modelTable:b,viewFigure:M,viewColgroup:A}=this._resizingData.elements,$=this.editor,K=$.editing.view,ie=b.getAttribute("columnWidths"),oe=[...A.getChildren()].map(Vt=>Vt.getStyle("width")).join(","),xe=ie!==oe,Oe=b.getAttribute("tableWidth"),Xe=M.getStyle("width"),pt=Oe!==Xe;(xe||pt)&&(this._isResizingAllowed?pt?$.execute("resizeTableWidth",{table:b,tableWidth:`${An(Xe)}%`,columnWidths:oe}):$.execute("resizeColumnWidths",{columnWidths:oe,table:b}):K.change(Vt=>{if(ie){const ei=ie.split(",");for(const qt of A.getChildren())Vt.setStyle("width",ei.shift(),qt)}else Vt.remove(A);pt&&(Oe?Vt.setStyle("width",Oe,M):Vt.removeStyle("width",M)),ie||Oe||Vt.removeClass("ck-table-resized",[...M.getChildren()].find(ei=>ei.name==="table"))})),K.change(Vt=>{Vt.removeClass("ck-table-column-resizer__active",l)}),this._isResizingActive=!1,this._resizingData=null}_getResizingData(l,b){const M=this.editor,A=l.domEvent.clientX,$=l.target,K=$.findAncestor("td")||$.findAncestor("th"),ie=M.editing.mapper.toModelElement(K),oe=ie.findAncestor("table"),xe=function(Ci,Hi){const Gi=Hi.getCellLocation(Ci).column;return{leftEdge:Gi,rightEdge:Gi+(Ci.getAttribute("colspan")||1)-1}}(ie,this._tableUtilsPlugin).rightEdge,Oe=xe===this._tableUtilsPlugin.getColumns(oe)-1,Xe=!oe.hasAttribute("tableAlignment"),pt=M.locale.contentLanguageDirection!=="rtl",Vt=K.findAncestor("table"),ei=Vt.findAncestor("figure"),qt=[...Vt.getChildren()].find(Ci=>Ci.is("element","colgroup")),di=qt.getChild(xe),ki=Oe?void 0:qt.getChild(xe+1);return{columnPosition:A,flags:{isRightEdge:Oe,isTableCentered:Xe,isLtrContent:pt},elements:{viewResizer:$,modelTable:oe,viewFigure:ei,viewColgroup:qt,viewLeftColumn:di,viewRightColumn:ki},widths:{viewFigureParentWidth:fo(M.editing.view.domConverter.mapViewToDom(ei.parent)),viewFigureWidth:fo(M.editing.view.domConverter.mapViewToDom(ei)),tableWidth:po(oe,M),leftColumnWidth:b[xe],rightColumnWidth:Oe?void 0:b[xe+1]}}}_registerColgroupFixer(){const l=this.editor;this.listenTo(l.editing.view.document,"layoutChanged",()=>{const b=l.editing.view.document.selection.getFirstPosition().getAncestors().reverse().find($=>$.name==="table"),M=b&&[...b.getChildren()].find($=>$.is("element","colgroup")),A=l.model.document.selection.getFirstPosition().findAncestor("table");A&&A.hasAttribute("columnWidths")&&b&&!M&&l.editing.reconvertItem(A)},{priority:"low"})}_registerResizerInserter(){this.editor.conversion.for("editingDowncast").add(l=>{l.on("insert:tableCell",(b,M,A)=>{const $=M.item,K=A.mapper.toViewElement($),ie=A.writer;ie.insert(ie.createPositionAt(K,"end"),ie.createUIElement("div",{class:"ck-table-column-resizer"}))},{priority:"lowest"})})}}var ln=E(975),Go={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ut()(ln.Z,Go),ln.Z.locals;class On extends f.Plugin{static get requires(){return[ko,to]}static get pluginName(){return"TableColumnResize"}}})(),(window.CKEditor5=window.CKEditor5||{}).table=y})()},6653:(ti,Kt,re)=>{(function(ii){const m=ii.en=ii.en||{};m.dictionary=Object.assign(m.dictionary||{},{"Characters: %0":"Characters: %0","Words: %0":"Words: %0"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var ii={704:(f,_,a)=>{f.exports=a(79)("./src/core.js")},273:(f,_,a)=>{f.exports=a(79)("./src/ui.js")},209:(f,_,a)=>{f.exports=a(79)("./src/utils.js")},79:f=>{"use strict";f.exports=CKEditor5.dll}},m={};function E(f){var _=m[f];if(_!==void 0)return _.exports;var a=m[f]={exports:{}};return ii[f](a,a.exports,E),a.exports}E.d=(f,_)=>{for(var a in _)E.o(_,a)&&!E.o(f,a)&&Object.defineProperty(f,a,{enumerable:!0,get:_[a]})},E.o=(f,_)=>Object.prototype.hasOwnProperty.call(f,_),E.r=f=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})};var y={};(()=>{"use strict";E.r(y),E.d(y,{WordCount:()=>$t});var f=E(704),_=E(273),a=E(209);function d(ft){if(ft.is("$text")||ft.is("$textProxy"))return ft.data;const Yt=ft;let _t="",ri=null;for(const ui of Yt.getChildren()){const Ai=d(ui);ri&&ri.is("element")&&(_t+=`
`),_t+=Ai,ri=ui}return _t}const S=function(ft){var Yt=typeof ft;return ft!=null&&(Yt=="object"||Yt=="function")},U=typeof re.g=="object"&&re.g&&re.g.Object===Object&&re.g;var I=typeof self=="object"&&self&&self.Object===Object&&self;const C=U||I||Function("return this")(),ge=function(){return C.Date.now()};var pe=/\s/;const me=function(ft){for(var Yt=ft.length;Yt--&&pe.test(ft.charAt(Yt)););return Yt};var J=/^\s+/;const ee=function(ft){return ft&&ft.slice(0,me(ft)+1).replace(J,"")},Z=C.Symbol;var h=Object.prototype,g=h.hasOwnProperty,r=h.toString,u=Z?Z.toStringTag:void 0;const w=function(ft){var Yt=g.call(ft,u),_t=ft[u];try{ft[u]=void 0;var ri=!0}catch{}var ui=r.call(ft);return ri&&(Yt?ft[u]=_t:delete ft[u]),ui};var v=Object.prototype.toString;const T=function(ft){return v.call(ft)};var z="[object Null]",L="[object Undefined]",x=Z?Z.toStringTag:void 0;const c=function(ft){return ft==null?ft===void 0?L:z:x&&x in Object(ft)?w(ft):T(ft)},D=function(ft){return ft!=null&&typeof ft=="object"};var W="[object Symbol]";const q=function(ft){return typeof ft=="symbol"||D(ft)&&c(ft)==W};var ae=NaN,Ie=/^[-+]0x[0-9a-f]+$/i,Ve=/^0b[01]+$/i,_e=/^0o[0-7]+$/i,Me=parseInt;const Qe=function(ft){if(typeof ft=="number")return ft;if(q(ft))return ae;if(S(ft)){var Yt=typeof ft.valueOf=="function"?ft.valueOf():ft;ft=S(Yt)?Yt+"":Yt}if(typeof ft!="string")return ft===0?ft:+ft;ft=ee(ft);var _t=Ve.test(ft);return _t||_e.test(ft)?Me(ft.slice(2),_t?2:8):Ie.test(ft)?ae:+ft};var ut="Expected a function",rt=Math.max,qe=Math.min;const et=function(ft,Yt,_t){var ri,ui,Ai,bt,be,Ne,$e=0,gt=!1,Tt=!1,Et=!0;if(typeof ft!="function")throw new TypeError(ut);function Xt(Ti){var Rt=ri,Ii=ui;return ri=ui=void 0,$e=Ti,bt=ft.apply(Ii,Rt)}function Ut(Ti){var Rt=Ti-Ne;return Ne===void 0||Rt>=Yt||Rt<0||Tt&&Ti-$e>=Ai}function ni(){var Ti=ge();if(Ut(Ti))return wi(Ti);be=setTimeout(ni,function(Rt){var Ii=Yt-(Rt-Ne);return Tt?qe(Ii,Ai-(Rt-$e)):Ii}(Ti))}function wi(Ti){return be=void 0,Et&&ri?Xt(Ti):(ri=ui=void 0,bt)}function gi(){var Ti=ge(),Rt=Ut(Ti);if(ri=arguments,ui=this,Ne=Ti,Rt){if(be===void 0)return function(Ii){return $e=Ii,be=setTimeout(ni,Yt),gt?Xt(Ii):bt}(Ne);if(Tt)return clearTimeout(be),be=setTimeout(ni,Yt),Xt(Ne)}return be===void 0&&(be=setTimeout(ni,Yt)),bt}return Yt=Qe(Yt)||0,S(_t)&&(gt=!!_t.leading,Ai=(Tt="maxWait"in _t)?rt(Qe(_t.maxWait)||0,Yt):Ai,Et="trailing"in _t?!!_t.trailing:Et),gi.cancel=function(){be!==void 0&&clearTimeout(be),$e=0,ri=Ne=ui=be=void 0},gi.flush=function(){return be===void 0?bt:wi(ge())},gi};var Bt="Expected a function";const Nt=function(ft,Yt,_t){var ri=!0,ui=!0;if(typeof ft!="function")throw new TypeError(Bt);return S(_t)&&(ri="leading"in _t?!!_t.leading:ri,ui="trailing"in _t?!!_t.trailing:ui),et(ft,Yt,{leading:ri,maxWait:Yt,trailing:ui})},xt=function(ft,Yt){return function(_t){return ft(Yt(_t))}}(Object.getPrototypeOf,Object);var tt="[object Object]",Dt=Function.prototype,ye=Object.prototype,Se=Dt.toString,Ke=ye.hasOwnProperty,kt=Se.call(Object);const Lt=function(ft){if(!D(ft)||c(ft)!=tt)return!1;var Yt=xt(ft);if(Yt===null)return!0;var _t=Ke.call(Yt,"constructor")&&Yt.constructor;return typeof _t=="function"&&_t instanceof _t&&Se.call(_t)==kt},Gt=function(ft){return D(ft)&&ft.nodeType===1&&!Lt(ft)};class $t extends f.Plugin{constructor(Yt){super(Yt),this.set("characters",0),this.set("words",0),Object.defineProperties(this,{characters:{get(){return this.characters=this._getCharacters()}},words:{get(){return this.words=this._getWords()}}}),this.set("_wordsLabel",void 0),this.set("_charactersLabel",void 0),this._config=Yt.config.get("wordCount")||{},this._outputView=void 0,this._wordsMatchRegExp=a.env.features.isRegExpUnicodePropertySupported?new RegExp("([\\p{L}\\p{N}]+\\S?)+","gu"):/([a-zA-Z0-9-]+\S?)+/gu}static get pluginName(){return"WordCount"}init(){this.editor.model.document.on("change:data",Nt(this._refreshStats.bind(this),250)),typeof this._config.onUpdate=="function"&&this.on("update",(Yt,_t)=>{this._config.onUpdate(_t)}),Gt(this._config.container)&&this._config.container.appendChild(this.wordCountContainer)}destroy(){this._outputView&&(this._outputView.element.remove(),this._outputView.destroy()),super.destroy()}get wordCountContainer(){const Yt=this.editor,_t=Yt.t,ri=Yt.config.get("wordCount.displayWords"),ui=Yt.config.get("wordCount.displayCharacters"),Ai=_.Template.bind(this,this),bt=[];return this._outputView||(this._outputView=new _.View,(ri||ri===void 0)&&(this.bind("_wordsLabel").to(this,"words",be=>_t("Words: %0",be)),bt.push({tag:"div",children:[{text:[Ai.to("_wordsLabel")]}],attributes:{class:"ck-word-count__words"}})),(ui||ui===void 0)&&(this.bind("_charactersLabel").to(this,"characters",be=>_t("Characters: %0",be)),bt.push({tag:"div",children:[{text:[Ai.to("_charactersLabel")]}],attributes:{class:"ck-word-count__characters"}})),this._outputView.setTemplate({tag:"div",attributes:{class:["ck","ck-word-count"]},children:bt}),this._outputView.render()),this._outputView.element}_getCharacters(){return d(this.editor.model.document.getRoot()).replace(/\n/g,"").length}_getWords(){return(d(this.editor.model.document.getRoot()).match(this._wordsMatchRegExp)||[]).length}_refreshStats(){const Yt=this.words=this._getWords(),_t=this.characters=this._getCharacters();this.fire("update",{words:Yt,characters:_t})}}})(),(window.CKEditor5=window.CKEditor5||{}).wordCount=y})()},47655:()=>{(()=>{var ti={98:(m,E,y)=>{"use strict";y.d(E,{Z:()=>a});var f=y(645),_=y.n(f)()(function(d){return d[1]});_.push([m.id,".ck.ck-editor__editable .ck-maximum-length-excess{background-color:rgba(204,51,51,.3)}",""]);const a=_},645:m=>{"use strict";m.exports=function(E){var y=[];return y.toString=function(){return this.map(function(f){var _=E(f);return f[2]?"@media ".concat(f[2]," {").concat(_,"}"):_}).join("")},y.i=function(f,_,a){typeof f=="string"&&(f=[[null,f,""]]);var d={};if(a)for(var S=0;S<this.length;S++){var U=this[S][0];U!=null&&(d[U]=!0)}for(var I=0;I<f.length;I++){var C=[].concat(f[I]);a&&d[C[0]]||(_&&(C[2]?C[2]="".concat(_," and ").concat(C[2]):C[2]=_),y.push(C))}},y}},379:(m,E,y)=>{"use strict";var f,_=function(){return f===void 0&&(f=Boolean(window&&document&&document.all&&!window.atob)),f},a=function(){var h={};return function(g){if(h[g]===void 0){var r=document.querySelector(g);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch{r=null}h[g]=r}return h[g]}}(),d=[];function S(h){for(var g=-1,r=0;r<d.length;r++)if(d[r].identifier===h){g=r;break}return g}function U(h,g){for(var r={},u=[],w=0;w<h.length;w++){var v=h[w],T=g.base?v[0]+g.base:v[0],z=r[T]||0,L="".concat(T," ").concat(z);r[T]=z+1;var x=S(L),c={css:v[1],media:v[2],sourceMap:v[3]};x!==-1?(d[x].references++,d[x].updater(c)):d.push({identifier:L,updater:Z(c,g),references:1}),u.push(L)}return u}function I(h){var g=document.createElement("style"),r=h.attributes||{};if(r.nonce===void 0){var u=y.nc;u&&(r.nonce=u)}if(Object.keys(r).forEach(function(v){g.setAttribute(v,r[v])}),typeof h.insert=="function")h.insert(g);else{var w=a(h.insert||"head");if(!w)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");w.appendChild(g)}return g}var C,ge=(C=[],function(h,g){return C[h]=g,C.filter(Boolean).join(`
`)});function pe(h,g,r,u){var w=r?"":u.media?"@media ".concat(u.media," {").concat(u.css,"}"):u.css;if(h.styleSheet)h.styleSheet.cssText=ge(g,w);else{var v=document.createTextNode(w),T=h.childNodes;T[g]&&h.removeChild(T[g]),T.length?h.insertBefore(v,T[g]):h.appendChild(v)}}function me(h,g,r){var u=r.css,w=r.media,v=r.sourceMap;if(w?h.setAttribute("media",w):h.removeAttribute("media"),v&&typeof btoa<"u"&&(u+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(v))))," */")),h.styleSheet)h.styleSheet.cssText=u;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(u))}}var J=null,ee=0;function Z(h,g){var r,u,w;if(g.singleton){var v=ee++;r=J||(J=I(g)),u=pe.bind(null,r,v,!1),w=pe.bind(null,r,v,!0)}else r=I(g),u=me.bind(null,r,g),w=function(){(function(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T)})(r)};return u(h),function(T){if(T){if(T.css===h.css&&T.media===h.media&&T.sourceMap===h.sourceMap)return;u(h=T)}else w()}}m.exports=function(h,g){(g=g||{}).singleton||typeof g.singleton=="boolean"||(g.singleton=_());var r=U(h=h||[],g);return function(u){if(u=u||[],Object.prototype.toString.call(u)==="[object Array]"){for(var w=0;w<r.length;w++){var v=S(r[w]);d[v].references--}for(var T=U(u,g),z=0;z<r.length;z++){var L=S(r[z]);d[L].references===0&&(d[L].updater(),d.splice(L,1))}r=T}}}},704:(m,E,y)=>{m.exports=y(79)("./src/core.js")},79:m=>{"use strict";m.exports=CKEditor5.dll}},Kt={};function re(m){var E=Kt[m];if(E!==void 0)return E.exports;var y=Kt[m]={id:m,exports:{}};return ti[m](y,y.exports,re),y.exports}re.n=m=>{var E=m&&m.__esModule?()=>m.default:()=>m;return re.d(E,{a:E}),E},re.d=(m,E)=>{for(var y in E)re.o(E,y)&&!re.o(m,y)&&Object.defineProperty(m,y,{enumerable:!0,get:E[y]})},re.o=(m,E)=>Object.prototype.hasOwnProperty.call(m,E),re.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},re.nc=void 0;var ii={};(()=>{"use strict";re.r(ii),re.d(ii,{MaximumLength:()=>a});var m=re(704),E=re(379),y=re.n(E),f=re(98),_={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};y()(f.Z,_),f.Z.locals;class a extends m.Plugin{static get pluginName(){return"MaximumLength"}static get requires(){return["WordCount"]}init(){const S=this.editor,U=S.plugins.get("WordCount"),I=S.config.get("maximumLength.characters");let C=!1;S.model.document.registerPostFixer(ge=>{const pe=U.characters,me=this._calculateExcessRange(I,pe);me?C?ge.updateMarker("maximumLengthExcess",{range:me,usingOperation:!1}):(ge.addMarker("maximumLengthExcess",{range:me,usingOperation:!1}),C=!0):C&&(ge.removeMarker("maximumLengthExcess"),C=!1)}),S.conversion.for("editingDowncast").markerToHighlight({model:"maximumLengthExcess",view:{classes:"ck-maximum-length-excess"}})}_calculateExcessRange(S,U){if(S>U)return null;const I=this.editor,C=I.model.createRangeIn(I.model.document.getRoot()).getWalker({singleCharacters:!0,direction:"backward"});let ge,pe,me=U;for(const J of C)if(J.type=="text"&&(ge||(ge=J.previousPosition),me--,me<S))return pe=J.previousPosition,I.model.createRange(pe,ge)}}})(),(window.CKEditor5=window.CKEditor5||{}).maximumLength=ii})()},77868:(ti,Kt,re)=>{ti=re.nmd(ti),function(ii){const m=ii.en=ii.en||{};m.dictionary=Object.assign(m.dictionary||{},{"%0 of %1":"%0 of %1",Aquamarine:"Aquamarine",Black:"Black",Blue:"Blue",Cancel:"Cancel","Cannot upload file:":"Cannot upload file:","Dim grey":"Dim grey","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar",Green:"Green",Grey:"Grey","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Next:"Next",Orange:"Orange","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Restore default":"Restore default","Rich Text Editor":"Rich Text Editor","Rich Text Editor. Editing area: %0":"Rich Text Editor. Editing area: %0",Save:"Save","Select all":"Select all","Show more items":"Show more items",Turquoise:"Turquoise",Undo:"Undo","Upload in progress":"Upload in progress",White:"White","Widget toolbar":"Widget toolbar",Yellow:"Yellow"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var ii={"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-clipboard/theme/clipboard.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}',""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-engine/theme/placeholder.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}",""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-engine/theme/renderer.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}",""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/button/button.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}",""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/button/switchbutton.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}",""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorgrid/colorgrid.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}",""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/dropdown.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}",""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/listdropdown.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}",""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/splitbutton.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}",""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/editorui/editorui.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}",""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/formheader/formheader.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}",""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/icon/icon.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}",""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/input/input.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}",""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/label/label.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}",""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}",""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/list/list.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}",""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/balloonpanel.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/balloonrotator.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}",""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/fakepanel.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}",""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/stickypanel.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}",""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}",""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/toolbar/toolbar.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}",""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/tooltip/tooltip.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}",""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/globals/globals.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}",""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widget.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}",""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widgetresize.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}",""]);const U=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widgettypearound.css":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/css-loader/dist/runtime/api.js"),S=a.n(d)()(function(I){return I[1]});S.push([f.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',""]);const U=S},"./node_modules/css-loader/dist/runtime/api.js":f=>{"use strict";f.exports=function(_){var a=[];return a.toString=function(){return this.map(function(d){var S=_(d);return d[2]?"@media ".concat(d[2]," {").concat(S,"}"):S}).join("")},a.i=function(d,S,U){typeof d=="string"&&(d=[[null,d,""]]);var I={};if(U)for(var C=0;C<this.length;C++){var ge=this[C][0];ge!=null&&(I[ge]=!0)}for(var pe=0;pe<d.length;pe++){var me=[].concat(d[pe]);U&&I[me[0]]||(S&&(me[2]?me[2]="".concat(S," and ").concat(me[2]):me[2]=S),a.push(me))}},a}},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":(f,_,a)=>{"use strict";var d,S=function(){return d===void 0&&(d=Boolean(window&&document&&document.all&&!window.atob)),d},U=function(){var u={};return function(w){if(u[w]===void 0){var v=document.querySelector(w);if(window.HTMLIFrameElement&&v instanceof window.HTMLIFrameElement)try{v=v.contentDocument.head}catch{v=null}u[w]=v}return u[w]}}(),I=[];function C(u){for(var w=-1,v=0;v<I.length;v++)if(I[v].identifier===u){w=v;break}return w}function ge(u,w){for(var v={},T=[],z=0;z<u.length;z++){var L=u[z],x=w.base?L[0]+w.base:L[0],c=v[x]||0,D="".concat(x," ").concat(c);v[x]=c+1;var W=C(D),q={css:L[1],media:L[2],sourceMap:L[3]};W!==-1?(I[W].references++,I[W].updater(q)):I.push({identifier:D,updater:r(q,w),references:1}),T.push(D)}return T}function pe(u){var w=document.createElement("style"),v=u.attributes||{};if(v.nonce===void 0){var T=a.nc;T&&(v.nonce=T)}if(Object.keys(v).forEach(function(L){w.setAttribute(L,v[L])}),typeof u.insert=="function")u.insert(w);else{var z=U(u.insert||"head");if(!z)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");z.appendChild(w)}return w}var me,J=(me=[],function(u,w){return me[u]=w,me.filter(Boolean).join(`
`)});function ee(u,w,v,T){var z=v?"":T.media?"@media ".concat(T.media," {").concat(T.css,"}"):T.css;if(u.styleSheet)u.styleSheet.cssText=J(w,z);else{var L=document.createTextNode(z),x=u.childNodes;x[w]&&u.removeChild(x[w]),x.length?u.insertBefore(L,x[w]):u.appendChild(L)}}function Z(u,w,v){var T=v.css,z=v.media,L=v.sourceMap;if(z?u.setAttribute("media",z):u.removeAttribute("media"),L&&typeof btoa<"u"&&(T+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(L))))," */")),u.styleSheet)u.styleSheet.cssText=T;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(T))}}var h=null,g=0;function r(u,w){var v,T,z;if(w.singleton){var L=g++;v=h||(h=pe(w)),T=ee.bind(null,v,L,!1),z=ee.bind(null,v,L,!0)}else v=pe(w),T=Z.bind(null,v,w),z=function(){(function(x){if(x.parentNode===null)return!1;x.parentNode.removeChild(x)})(v)};return T(u),function(x){if(x){if(x.css===u.css&&x.media===u.media&&x.sourceMap===u.sourceMap)return;T(u=x)}else z()}}f.exports=function(u,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=S());var v=ge(u=u||[],w);return function(T){if(T=T||[],Object.prototype.toString.call(T)==="[object Array]"){for(var z=0;z<v.length;z++){var L=C(v[z]);I[L].references--}for(var x=ge(T,w),c=0;c<v.length;c++){var D=C(v[c]);I[D].references===0&&(I[D].updater(),I.splice(D,1))}v=x}}}},"./packages/ckeditor5-core/src/index.ts":(f,_,a)=>{"use strict";a.d(_,{mY:()=>I,_y:()=>me,eO:()=>J,W9:()=>w,ML:()=>g,xK:()=>v,AJ:()=>ge,lR:()=>z,Sy:()=>S,P$:()=>u,ci:()=>L,Nu:()=>T});var d=a("./packages/ckeditor5-utils/src/index.ts");class S extends(0,d.Re)(){constructor(c){super(),this.editor=c,this.set("isEnabled",!0),this._disableStack=new Set}forceDisabled(c){this._disableStack.add(c),this._disableStack.size==1&&(this.on("set:isEnabled",U,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(c){this._disableStack.delete(c),this._disableStack.size==0&&(this.off("set:isEnabled",U),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function U(x){x.return=!1,x.stop()}class I extends(0,d.Re)(){constructor(c){super(),this.editor=c,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",D=>{this.isEnabled||D.stop()},{priority:"high"}),this.listenTo(c,"change:isReadOnly",(D,W,q)=>{q&&this.affectsData?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}get affectsData(){return this._affectsData}set affectsData(c){this._affectsData=c}refresh(){this.isEnabled=!0}forceDisabled(c){this._disableStack.add(c),this._disableStack.size==1&&(this.on("set:isEnabled",C,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(c){this._disableStack.delete(c),this._disableStack.size==0&&(this.off("set:isEnabled",C),this.refresh())}execute(...c){}destroy(){this.stopListening()}}function C(x){x.return=!1,x.stop()}class ge extends I{constructor(c){super(c),this._childCommandsDefinitions=[]}refresh(){}execute(...c){const D=this._getFirstEnabledCommand();return!!D&&D.execute(c)}registerChildCommand(c,D={}){(0,d.VG)(this._childCommandsDefinitions,{command:c,priority:D.priority||"normal"}),c.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const c=this._childCommandsDefinitions.find(({command:D})=>D.isEnabled);return c&&c.command}}class pe extends(0,d.ln)(){constructor(c,D=[],W=[]){super(),this._context=c,this._plugins=new Map,this._availablePlugins=new Map;for(const q of D)q.pluginName&&this._availablePlugins.set(q.pluginName,q);this._contextPlugins=new Map;for(const[q,ae]of W)this._contextPlugins.set(q,ae),this._contextPlugins.set(ae,q),q.pluginName&&this._availablePlugins.set(q.pluginName,q)}*[Symbol.iterator](){for(const c of this._plugins)typeof c[0]=="function"&&(yield c)}get(c){const D=this._plugins.get(c);if(!D){let W=c;throw typeof c=="function"&&(W=c.pluginName||c.name),new d.Bb("plugincollection-plugin-not-loaded",this._context,{plugin:W})}return D}has(c){return this._plugins.has(c)}init(c,D=[],W=[]){const q=this,ae=this._context;(function et(Bt,Nt=new Set){Bt.forEach(xt=>{_e(xt)&&(Nt.has(xt)||(Nt.add(xt),xt.pluginName&&!q._availablePlugins.has(xt.pluginName)&&q._availablePlugins.set(xt.pluginName,xt),xt.requires&&et(xt.requires,Nt)))})})(c),rt(c);const Ie=[...function et(Bt,Nt=new Set){return Bt.map(xt=>_e(xt)?xt:q._availablePlugins.get(xt)).reduce((xt,tt)=>Nt.has(tt)?xt:(Nt.add(tt),tt.requires&&(rt(tt.requires,tt),et(tt.requires,Nt).forEach(Dt=>xt.add(Dt))),xt.add(tt)),new Set)}(c.filter(et=>!Qe(et,D)))];(function(et,Bt){for(const Nt of Bt){if(typeof Nt!="function")throw new d.Bb("plugincollection-replace-plugin-invalid-type",null,{pluginItem:Nt});const xt=Nt.pluginName;if(!xt)throw new d.Bb("plugincollection-replace-plugin-missing-name",null,{pluginItem:Nt});if(Nt.requires&&Nt.requires.length)throw new d.Bb("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:xt});const tt=q._availablePlugins.get(xt);if(!tt)throw new d.Bb("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:xt});const Dt=et.indexOf(tt);if(Dt===-1){if(q._contextPlugins.has(tt))return;throw new d.Bb("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:xt})}if(tt.requires&&tt.requires.length)throw new d.Bb("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:xt});et.splice(Dt,1,Nt),q._availablePlugins.set(xt,Nt)}})(Ie,W);const Ve=function(et){return et.map(Bt=>{let Nt=q._contextPlugins.get(Bt);return Nt=Nt||new Bt(ae),q._add(Bt,Nt),Nt})}(Ie);return qe(Ve,"init").then(()=>qe(Ve,"afterInit")).then(()=>Ve);function _e(et){return typeof et=="function"}function Me(et){return _e(et)&&et.isContextPlugin}function Qe(et,Bt){return Bt.some(Nt=>Nt===et||ut(et)===Nt||ut(Nt)===et)}function ut(et){return _e(et)?et.pluginName||et.name:et}function rt(et,Bt=null){et.map(Nt=>_e(Nt)?Nt:q._availablePlugins.get(Nt)||Nt).forEach(Nt=>{(function(xt,tt){if(!_e(xt))throw tt?new d.Bb("plugincollection-soft-required",ae,{missingPlugin:xt,requiredBy:ut(tt)}):new d.Bb("plugincollection-plugin-not-found",ae,{plugin:xt})})(Nt,Bt),function(xt,tt){if(Me(tt)&&!Me(xt))throw new d.Bb("plugincollection-context-required",ae,{plugin:ut(xt),requiredBy:ut(tt)})}(Nt,Bt),function(xt,tt){if(tt&&Qe(xt,D))throw new d.Bb("plugincollection-required",ae,{plugin:ut(xt),requiredBy:ut(tt)})}(Nt,Bt)})}function qe(et,Bt){return et.reduce((Nt,xt)=>xt[Bt]?q._contextPlugins.has(xt)?Nt:Nt.then(xt[Bt].bind(xt)):Nt,Promise.resolve())}}destroy(){const c=[];for(const[,D]of this)typeof D.destroy!="function"||this._contextPlugins.has(D)||c.push(D.destroy());return Promise.all(c)}_add(c,D){this._plugins.set(c,D);const W=c.pluginName;if(W){if(this._plugins.has(W))throw new d.Bb("plugincollection-plugin-name-conflict",null,{pluginName:W,plugin1:this._plugins.get(W).constructor,plugin2:c});this._plugins.set(W,D)}}}class me{constructor(c){this.config=new d.De(c,this.constructor.defaultConfig);const D=this.constructor.builtinPlugins;this.config.define("plugins",D),this.plugins=new pe(this,D);const W=this.config.get("language")||{};this.locale=new d.go({uiLanguage:typeof W=="string"?W:W.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new d.FE,this._contextOwner=null}initPlugins(){const c=this.config.get("plugins")||[],D=this.config.get("substitutePlugins")||[];for(const W of c.concat(D)){if(typeof W!="function")throw new d.Bb("context-initplugins-constructor-only",null,{Plugin:W});if(W.isContextPlugin!==!0)throw new d.Bb("context-initplugins-invalid-plugin",null,{Plugin:W})}return this.plugins.init(c,[],D)}destroy(){return Promise.all(Array.from(this.editors,c=>c.destroy())).then(()=>this.plugins.destroy())}_addEditor(c,D){if(this._contextOwner)throw new d.Bb("context-addeditor-private-context");this.editors.add(c),D&&(this._contextOwner=c)}_removeEditor(c){return this.editors.has(c)&&this.editors.remove(c),this._contextOwner===c?this.destroy():Promise.resolve()}_getEditorConfig(){const c={};for(const D of this.config.names())["plugins","removePlugins","extraPlugins"].includes(D)||(c[D]=this.config.get(D));return c}static create(c){return new Promise(D=>{const W=new this(c);D(W.initPlugins().then(()=>W))})}}class J extends(0,d.Re)(){constructor(c){super(),this.context=c}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}var ee=a("./packages/ckeditor5-engine/src/index.ts");class Z{constructor(){this._commands=new Map}add(c,D){this._commands.set(c,D)}get(c){return this._commands.get(c)}execute(c,...D){const W=this.get(c);if(!W)throw new d.Bb("commandcollection-command-not-found",this,{commandName:c});return W.execute(...D)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const c of this.commands())c.destroy()}}class h extends d.VD{constructor(c){super(),this.editor=c}set(c,D,W={}){if(typeof D=="string"){const q=D;D=(ae,Ie)=>{this.editor.execute(q),Ie()}}super.set(c,D,W)}}class g extends(0,d.Re)(){constructor(c={}){super();const D=this.constructor,W=c.language||D.defaultConfig&&D.defaultConfig.language;this._context=c.context||new me({language:W}),this._context._addEditor(this,!c.context);const q=Array.from(D.builtinPlugins||[]);this.config=new d.De(c,D.defaultConfig),this.config.define("plugins",q),this.config.define(this._context._getEditorConfig()),this.plugins=new pe(this,q,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new Z,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new ee.Hn;const ae=new ee.A_;this.data=new ee.Yc(this.model,ae),this.editing=new ee.jH(this.model,ae),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new ee.uz([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new h(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(c){throw new d.Bb("editor-isreadonly-has-no-setter")}enableReadOnlyMode(c){if(typeof c!="string"&&typeof c!="symbol")throw new d.Bb("editor-read-only-lock-id-invalid",null,{lockId:c});this._readOnlyLocks.has(c)||(this._readOnlyLocks.add(c),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(c){if(typeof c!="string"&&typeof c!="symbol")throw new d.Bb("editor-read-only-lock-id-invalid",null,{lockId:c});this._readOnlyLocks.has(c)&&(this._readOnlyLocks.delete(c),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const c=this.config,D=c.get("plugins"),W=c.get("removePlugins")||[],q=c.get("extraPlugins")||[],ae=c.get("substitutePlugins")||[];return this.plugins.init(D.concat(q),W,ae)}destroy(){let c=Promise.resolve();return this.state=="initializing"&&(c=new Promise(D=>this.once("ready",D))),c.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(c,...D){try{return this.commands.execute(c,...D)}catch(W){d.Bb.rethrowUnexpectedError(W,this)}}focus(){this.editing.view.focus()}}var r=a("./node_modules/lodash-es/isFunction.js");function u(x){if(!(0,r.Z)(x.updateSourceElement))throw new d.Bb("attachtoform-missing-elementapi-interface",x);const c=x.sourceElement;if(function(D){return!!D&&D.tagName.toLowerCase()==="textarea"}(c)&&c.form){let D;const W=c.form,q=()=>x.updateSourceElement();(0,r.Z)(W.submit)&&(D=W.submit,W.submit=()=>{q(),D.apply(W)}),W.addEventListener("submit",q),x.on("destroy",()=>{W.removeEventListener("submit",q),D&&(W.submit=D)})}}function w(x){return class extends x{setData(c){this.data.set(c)}getData(c){return this.data.get(c)}}}{const x=w(Object);w.setData=x.prototype.setData,w.getData=x.prototype.getData}function v(x){return class extends x{updateSourceElement(c=this.data.get()){if(!this.sourceElement)throw new d.Bb("editor-missing-sourceelement",this);const D=this.config.get("updateSourceElementOnDestroy"),W=this.sourceElement instanceof HTMLTextAreaElement;D||W?(0,d.jS)(this.sourceElement,c):(0,d.jS)(this.sourceElement,"")}}}function T(x){const c=x.sourceElement;if(c){if(c.ckeditorInstance)throw new d.Bb("editor-source-element-already-used",x);c.ckeditorInstance=x,x.once("destroy",()=>{delete c.ckeditorInstance})}}v.updateSourceElement=v(Object).prototype.updateSourceElement;class z extends J{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new d.FE({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(c){if(typeof c!="string")throw new d.Bb("pendingactions-add-invalid-message",this);const D=new((0,d.Re)());return D.set("message",c),this._actions.add(D),this.hasAny=!0,D}remove(c){this._actions.remove(c),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const L={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path clip-rule="evenodd" d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path clip-rule="evenodd" d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'}},"./packages/ckeditor5-engine/src/index.ts":(f,_,a)=>{"use strict";a.d(_,{kW:()=>R,r7:()=>Ei,KU:()=>Gs,uz:()=>Cs,Yc:()=>xs,tn:()=>$o,f4:()=>no,uj:()=>oe,pG:()=>wt,dK:()=>ji,qZ:()=>Wi,qD:()=>Te,jH:()=>vo,W_:()=>on,Ay:()=>Ur,X5:()=>Pr,IZ:()=>xn,jP:()=>Mn,iE:()=>A,zj:()=>Ln,xO:()=>D,Hn:()=>Ks,dM:()=>Ys,Qj:()=>oi,Bz:()=>Nr,Ly:()=>si,e6:()=>zt,Th:()=>j,A_:()=>qi,aY:()=>Eo,xv:()=>nn,Po:()=>Rn,yj:()=>Qs,G7:()=>Io,m1:()=>R,By:()=>N,Ux:()=>Q,y_:()=>se,W2:()=>Ce,y9:()=>F,pc:()=>De,wx:()=>ht,Xj:()=>L,dq:()=>It,QR:()=>ha,sI:()=>ma,vt:()=>pa,J8:()=>fa,DA:()=>pe,ID:()=>ge,KT:()=>ts,I8:()=>cs,mq:()=>er,oz:()=>Xo,YG:()=>de,m0:()=>Sr,uT:()=>wr,$_:()=>J,SB:()=>as,D5:()=>is,G9:()=>os,IT:()=>ns,zz:()=>aa,WK:()=>ss,Zb:()=>rs,PX:()=>ls,Q7:()=>ee,NJ:()=>me,Rf:()=>As});var d=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),S=a.n(d),U=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-engine/theme/placeholder.css"),I={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};S()(U.Z,I),U.Z.locals;const C=new WeakMap;function ge(n){const{view:e,element:t,text:i,isDirectHost:o=!0,keepOnFocus:s=!1}=n,p=e.document;C.has(p)||(C.set(p,new Map),p.registerPostFixer(B=>Z(p,B)),p.on("change:isComposing",()=>{e.change(B=>Z(p,B))},{priority:"high"})),C.get(p).set(t,{text:i,isDirectHost:o,keepOnFocus:s,hostElement:o?t:null}),e.change(B=>Z(p,B))}function pe(n,e){const t=e.document;n.change(i=>{if(!C.has(t))return;const o=C.get(t),s=o.get(e);i.removeAttribute("data-placeholder",s.hostElement),J(i,s.hostElement),o.delete(e)})}function me(n,e){return!e.hasClass("ck-placeholder")&&(n.addClass("ck-placeholder",e),!0)}function J(n,e){return!!e.hasClass("ck-placeholder")&&(n.removeClass("ck-placeholder",e),!0)}function ee(n,e){if(!n.isAttached()||Array.from(n.getChildren()).some(s=>!s.is("uiElement")))return!1;const i=n.document,o=i.selection.anchor;return(!i.isComposing||!o||o.parent!==n)&&(!!e||!i.isFocused||!!o&&o.parent!==n)}function Z(n,e){const t=C.get(n),i=[];let o=!1;for(const[s,p]of t)p.isDirectHost&&(i.push(s),h(e,s,p)&&(o=!0));for(const[s,p]of t){if(p.isDirectHost)continue;const B=g(s);B&&(i.includes(B)||(p.hostElement=B,h(e,s,p)&&(o=!0)))}return o}function h(n,e,t){const{text:i,isDirectHost:o,hostElement:s}=t;let p=!1;return s.getAttribute("data-placeholder")!==i&&(n.setAttribute("data-placeholder",i,s),p=!0),(o||e.childCount==1)&&ee(s,t.keepOnFocus)?me(n,s)&&(p=!0):J(n,s)&&(p=!0),p}function g(n){if(n.childCount){const e=n.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}var r=a("./packages/ckeditor5-utils/src/index.ts");class u{is(){throw new Error("is() method is abstract")}}var w=a("./node_modules/lodash-es/_baseClone.js"),v=4;const T=function(n){return(0,w.Z)(n,v)};a("./packages/ckeditor5-utils/src/version.ts");class z extends(0,r.ln)(u){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new r.Bb("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}getCommonAncestor(e,t={}){const i=this.getAncestors(t),o=e.getAncestors(t);let s=0;for(;i[s]==o[s]&&i[s];)s++;return s===0?null:i[s-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),i=e.getPath(),o=(0,r.Rt)(t,i);switch(o){case"prefix":return!0;case"extension":return!1;default:return t[o]<i[o]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=T(this);return delete e.parent,e}}z.prototype.is=function(n){return n==="node"||n==="view:node"};class L extends z{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof L&&(this===e||this.data===e.data)}_clone(){return new L(this.document,this.data)}}L.prototype.is=function(n){return n==="$text"||n==="view:$text"||n==="text"||n==="view:text"||n==="node"||n==="view:node"};class x extends u{constructor(e,t,i){if(super(),this.textNode=e,t<0||t>e.data.length)throw new r.Bb("view-textproxy-wrong-offsetintext",this);if(i<0||t+i>e.data.length)throw new r.Bb("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+i),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let i=e.includeSelf?this.textNode:this.parent;for(;i!==null;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}}x.prototype.is=function(n){return n==="$textProxy"||n==="view:$textProxy"||n==="textProxy"||n==="view:textProxy"};var c=a("./node_modules/lodash-es/isPlainObject.js");class D{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const i of this._patterns){const o=W(t,i);if(o)return{element:t,pattern:i,match:o}}return null}matchAll(...e){const t=[];for(const i of e)for(const o of this._patterns){const s=W(i,o);s&&t.push({element:i,pattern:o,match:s})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e=="function"||!t||t instanceof RegExp?null:t}}function W(n,e){if(typeof e=="function")return e(n);const t={};return e.name&&(t.name=function(i,o){return i instanceof RegExp?!!o.match(i):i===o}(e.name,n.name),!t.name)||e.attributes&&(t.attributes=function(i,o){const s=new Set(o.getAttributeKeys());return(0,c.Z)(i)?(i.style!==void 0&&(0,r.KE)("matcher-pattern-deprecated-attributes-style-key",i),i.class!==void 0&&(0,r.KE)("matcher-pattern-deprecated-attributes-class-key",i)):(s.delete("style"),s.delete("class")),q(i,s,p=>o.getAttribute(p))}(e.attributes,n),!t.attributes)||e.classes&&(t.classes=function(i,o){return q(i,o.getClassNames(),()=>{})}(e.classes,n),!t.classes)||e.styles&&(t.styles=function(i,o){return q(i,o.getStyleNames(!0),s=>o.getStyle(s))}(e.styles,n),!t.styles)?null:t}function q(n,e,t){const i=function(p){return Array.isArray(p)?p.map(B=>(0,c.Z)(B)?(B.key!==void 0&&B.value!==void 0||(0,r.KE)("matcher-pattern-missing-key-or-value",B),[B.key,B.value]):[B,!0]):(0,c.Z)(p)?Object.entries(p):[[p,!0]]}(n),o=Array.from(e),s=[];if(i.forEach(([p,B])=>{o.forEach(G=>{(function(le,fe){return le===!0||le===fe||le instanceof RegExp&&fe.match(le)})(p,G)&&function(le,fe,We){if(le===!0)return!0;const it=We(fe);return le===it||le instanceof RegExp&&!!String(it).match(le)}(B,G,t)&&s.push(G)})}),i.length&&!(s.length<i.length))return s}var ae=a("./node_modules/lodash-es/isObject.js"),Ie=a("./node_modules/lodash-es/isArray.js"),Ve=a("./node_modules/lodash-es/isSymbol.js"),_e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Me=/^\w*$/;const Qe=function(n,e){if((0,Ie.Z)(n))return!1;var t=typeof n;return!(t!="number"&&t!="symbol"&&t!="boolean"&&n!=null&&!(0,Ve.Z)(n))||Me.test(n)||!_e.test(n)||e!=null&&n in Object(e)};var ut=a("./node_modules/lodash-es/_MapCache.js"),rt="Expected a function";function qe(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(rt);var t=function(){var i=arguments,o=e?e.apply(this,i):i[0],s=t.cache;if(s.has(o))return s.get(o);var p=n.apply(this,i);return t.cache=s.set(o,p)||s,p};return t.cache=new(qe.Cache||ut.Z),t}qe.Cache=ut.Z;const et=qe;var Bt=500,Nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xt=/\\(\\)?/g;const tt=function(n){var e=et(n,function(i){return t.size===Bt&&t.clear(),i}),t=e.cache;return e}(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(Nt,function(t,i,o,s){e.push(o?s.replace(xt,"$1"):i||t)}),e});var Dt=a("./node_modules/lodash-es/toString.js");const ye=function(n,e){return(0,Ie.Z)(n)?n:Qe(n,e)?[n]:tt((0,Dt.Z)(n))},Se=function(n){var e=n==null?0:n.length;return e?n[e-1]:void 0};var Ke=1/0;const kt=function(n){if(typeof n=="string"||(0,Ve.Z)(n))return n;var e=n+"";return e=="0"&&1/n==-Ke?"-0":e},Lt=function(n,e){for(var t=0,i=(e=ye(e,n)).length;n!=null&&t<i;)n=n[kt(e[t++])];return t&&t==i?n:void 0},Gt=function(n,e,t){var i=-1,o=n.length;e<0&&(e=-e>o?0:o+e),(t=t>o?o:t)<0&&(t+=o),o=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(o);++i<o;)s[i]=n[i+e];return s},$t=function(n,e){return e.length<2?n:Lt(n,Gt(e,0,-1))},ft=function(n,e){return e=ye(e,n),(n=$t(n,e))==null||delete n[kt(Se(e))]},Yt=function(n,e){return n==null||ft(n,e)},_t=function(n,e,t){var i=n==null?void 0:Lt(n,e);return i===void 0?t:i};var ri=a("./node_modules/lodash-es/_Stack.js"),ui=a("./node_modules/lodash-es/_baseAssignValue.js"),Ai=a("./node_modules/lodash-es/eq.js");const bt=function(n,e,t){(t!==void 0&&!(0,Ai.Z)(n[e],t)||t===void 0&&!(e in n))&&(0,ui.Z)(n,e,t)},be=function(n){return function(e,t,i){for(var o=-1,s=Object(e),p=i(e),B=p.length;B--;){var G=p[n?B:++o];if(t(s[G],G,s)===!1)break}return e}}();var Ne=a("./node_modules/lodash-es/_cloneBuffer.js"),$e=a("./node_modules/lodash-es/_cloneTypedArray.js"),gt=a("./node_modules/lodash-es/_copyArray.js"),Tt=a("./node_modules/lodash-es/_initCloneObject.js"),Et=a("./node_modules/lodash-es/isArguments.js"),Xt=a("./node_modules/lodash-es/isArrayLike.js"),Ut=a("./node_modules/lodash-es/isObjectLike.js");const ni=function(n){return(0,Ut.Z)(n)&&(0,Xt.Z)(n)};var wi=a("./node_modules/lodash-es/isBuffer.js"),gi=a("./node_modules/lodash-es/isFunction.js"),Ti=a("./node_modules/lodash-es/isTypedArray.js");const Rt=function(n,e){if((e!=="constructor"||typeof n[e]!="function")&&e!="__proto__")return n[e]};var Ii=a("./node_modules/lodash-es/_copyObject.js"),Mi=a("./node_modules/lodash-es/keysIn.js");const Qi=function(n){return(0,Ii.Z)(n,(0,Mi.Z)(n))},Fi=function(n,e,t,i,o,s,p){var B=Rt(n,t),G=Rt(e,t),le=p.get(G);if(le)bt(n,t,le);else{var fe=s?s(B,G,t+"",n,e,p):void 0,We=fe===void 0;if(We){var it=(0,Ie.Z)(G),Pt=!it&&(0,wi.Z)(G),Qt=!it&&!Pt&&(0,Ti.Z)(G);fe=G,it||Pt||Qt?(0,Ie.Z)(B)?fe=B:ni(B)?fe=(0,gt.Z)(B):Pt?(We=!1,fe=(0,Ne.Z)(G,!0)):Qt?(We=!1,fe=(0,$e.Z)(G,!0)):fe=[]:(0,c.Z)(G)||(0,Et.Z)(G)?(fe=B,(0,Et.Z)(B)?fe=Qi(B):(0,ae.Z)(B)&&!(0,gi.Z)(B)||(fe=(0,Tt.Z)(G))):We=!1}We&&(p.set(G,fe),o(fe,G,i,s,p),p.delete(G)),bt(n,t,fe)}},Vi=function n(e,t,i,o,s){e!==t&&be(t,function(p,B){if(s||(s=new ri.Z),(0,ae.Z)(p))Fi(e,t,B,i,n,o,s);else{var G=o?o(Rt(e,B),p,B+"",e,t,s):void 0;G===void 0&&(G=p),bt(e,B,G)}},Mi.Z)},Ji=(0,a("./node_modules/lodash-es/_createAssigner.js").Z)(function(n,e,t){Vi(n,e,t)});var cn=a("./node_modules/lodash-es/_assignValue.js"),Ri=a("./node_modules/lodash-es/_isIndex.js");const pn=function(n,e,t,i){if(!(0,ae.Z)(n))return n;for(var o=-1,s=(e=ye(e,n)).length,p=s-1,B=n;B!=null&&++o<s;){var G=kt(e[o]),le=t;if(G==="__proto__"||G==="constructor"||G==="prototype")return n;if(o!=p){var fe=B[G];(le=i?i(fe,G,B):void 0)===void 0&&(le=(0,ae.Z)(fe)?fe:(0,Ri.Z)(e[o+1])?[]:{})}(0,cn.Z)(B,G,le),B=B[G]}return n},fi=function(n,e,t){return n==null?n:pn(n,e,t)};class pi{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=Array.from(function(i){let o=null,s=0,p=0,B=null;const G=new Map;if(i==="")return G;i.charAt(i.length-1)!=";"&&(i+=";");for(let le=0;le<i.length;le++){const fe=i.charAt(le);if(o===null)switch(fe){case":":B||(B=i.substr(s,le-s),p=le+1);break;case'"':case"'":o=fe;break;case";":{const We=i.substr(p,le-p);B&&G.set(B.trim(),We.trim()),B=null,s=le+1;break}}else fe===o&&(o=null)}return G}(e).entries());for(const[i,o]of t)this._styleProcessor.toNormalizedForm(i,o,this._styles)}has(e){if(this.isEmpty)return!1;const t=this._styleProcessor.getReducedForm(e,this._styles).find(([i])=>i===e);return Array.isArray(t)}set(e,t){if((0,ae.Z)(e))for(const[i,o]of Object.entries(e))this._styleProcessor.toNormalizedForm(i,o,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=ke(e);Yt(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!(0,ae.Z)(this._styles[e]))return this._styles[e];const t=this._styleProcessor.getReducedForm(e,this._styles).find(([i])=>i===e);return Array.isArray(t)?t[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([t])=>t)}clear(){this._styles={}}_getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const i of t)e.push(...this._styleProcessor.getReducedForm(i,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const i=t.splice(0,t.length-1).join("."),o=_t(this._styles,i);o&&!Array.from(Object.keys(o)).length&&this.remove(i)}}class qi{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,i){if((0,ae.Z)(t))V(i,ke(e),t);else if(this._normalizers.has(e)){const o=this._normalizers.get(e),{path:s,value:p}=o(t);V(i,s,p)}else V(i,e,t)}getNormalized(e,t){if(!e)return Ji({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const i=this._extractors.get(e);if(typeof i=="string")return _t(t,i);const o=i(e,t);if(o)return o}return _t(t,ke(e))}getReducedForm(e,t){const i=this.getNormalized(e,t);return i===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(i):[[e,i]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(o=>{const s=this.getNormalized(o,e);return s&&typeof s=="object"?Object.keys(s).length:s}),i=new Set([...t,...Object.keys(e)]);return Array.from(i.values())}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const i of t)this._mapStyleNames(i,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function ke(n){return n.replace("-",".")}function V(n,e,t){let i=t;(0,ae.Z)(t)&&(i=Ji({},_t(n,e),t)),fi(n,e,i)}class F extends z{constructor(e,t,i,o){if(super(e),this.name=t,this._attrs=function(s){const p=(0,r.qL)(s);for(const[B,G]of p)G===null?p.delete(B):typeof G!="string"&&p.set(B,String(G));return p}(i),this._children=[],o&&this._insertChild(0,o),this._classes=new Set,this._attrs.has("class")){const s=this._attrs.get("class");P(this._classes,s),this._attrs.delete("class")}this._styles=new pi(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map,this._unsafeAttributesToRender=[]}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof F))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,i]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==i)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new D(...e);let i=this.parent;for(;i&&!i.is("documentFragment");){if(t.match(i))return i;i=i.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),i=Array.from(this._attrs).map(o=>`${o[0]}="${o[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(i==""?"":` ${i}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const o of this.getChildren())t.push(o._clone(e));const i=new this.constructor(this.document,this.name,this._attrs,t);return i._classes=new Set(this._classes),i._styles.set(this._styles.getNormalized()),i._customProperties=new Map(this._customProperties),i.getFillerOffset=this.getFillerOffset,i._unsafeAttributesToRender=this._unsafeAttributesToRender,i}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let i=0;const o=function(s,p){return typeof p=="string"?[new L(s,p)]:((0,r.TW)(p)||(p=[p]),Array.from(p).map(B=>typeof B=="string"?new L(s,B):B instanceof x?new L(s,B.data):B))}(this.document,t);for(const s of o)s.parent!==null&&s._remove(),s.parent=this,s.document=this.document,this._children.splice(e,0,s),e++,i++;return i}_removeChildren(e,t=1){this._fireChange("children",this);for(let i=e;i<e+t;i++)this._children[i].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const i=String(t);this._fireChange("attributes",this),e=="class"?P(this._classes,i):e=="style"?this._styles.setTo(i):this._attrs.set(e,i)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of(0,r.qo)(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of(0,r.qo)(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),(0,c.Z)(e)?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of(0,r.qo)(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function P(n,e){const t=e.split(/\s+/);n.clear(),t.forEach(i=>n.add(i))}F.prototype.is=function(n,e){return e?e===this.name&&(n==="element"||n==="view:element"):n==="element"||n==="view:element"||n==="node"||n==="view:node"};class N extends F{constructor(...e){super(...e),this.getFillerOffset=de}}function de(){const n=[...this.getChildren()],e=n[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of n)if(!t.is("uiElement"))return null;return this.childCount}N.prototype.is=function(n,e){return e?e===this.name&&(n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class Ce extends(0,r.Re)(N){constructor(...e){super(...e);const t=e[0];this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",i=>i&&t.selection.editableElement==this),this.listenTo(t.selection,"change",()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this})}destroy(){this.stopListening()}}Ce.prototype.is=function(n,e){return e?e===this.name&&(n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};const Ze=Symbol("rootName");class st extends Ce{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(Ze)}set rootName(e){this._setCustomProperty(Ze,e)}set _name(e){this.name=e}}st.prototype.is=function(n,e){return e?e===this.name&&(n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class Ct{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new r.Bb("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new r.Bb("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this.position=Ge._createAt(e.startPosition):this.position=Ge._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(e){let t,i,o;do o=this.position,{done:t,value:i}=this.next();while(!t&&e(i));t||(this.position=o)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,i=e.parent;if(i.parent===null&&e.offset===i.childCount)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let o;if(i instanceof L){if(e.isAtEnd)return this.position=Ge._createAfter(i),this._next();o=i.data[e.offset]}else o=i.getChild(e.offset);if(o instanceof F)return this.shallow?e.offset++:e=new Ge(o,0),this.position=e,this._formatReturnValue("elementStart",o,t,e,1);if(o instanceof L){if(this.singleCharacters)return e=new Ge(o,0),this.position=e,this._next();{let s,p=o.data.length;return o==this._boundaryEndParent?(p=this.boundaries.end.offset,s=new x(o,0,p),e=Ge._createAfter(s)):(s=new x(o,0,o.data.length),e.offset++),this.position=e,this._formatReturnValue("text",s,t,e,p)}}if(typeof o=="string"){let s;this.singleCharacters?s=1:s=(i===this._boundaryEndParent?this.boundaries.end.offset:i.data.length)-e.offset;const p=new x(i,e.offset,s);return e.offset+=s,this.position=e,this._formatReturnValue("text",p,t,e,s)}return e=Ge._createAfter(i),this.position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",i,t,e)}_previous(){let e=this.position.clone();const t=this.position,i=e.parent;if(i.parent===null&&e.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let o;if(i instanceof L){if(e.isAtStart)return this.position=Ge._createBefore(i),this._previous();o=i.data[e.offset-1]}else o=i.getChild(e.offset-1);if(o instanceof F)return this.shallow?(e.offset--,this.position=e,this._formatReturnValue("elementStart",o,t,e,1)):(e=new Ge(o,o.childCount),this.position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",o,t,e));if(o instanceof L){if(this.singleCharacters)return e=new Ge(o,o.data.length),this.position=e,this._previous();{let s,p=o.data.length;if(o==this._boundaryStartParent){const B=this.boundaries.start.offset;s=new x(o,B,o.data.length-B),p=s.data.length,e=Ge._createBefore(s)}else s=new x(o,0,o.data.length),e.offset--;return this.position=e,this._formatReturnValue("text",s,t,e,p)}}if(typeof o=="string"){let s;if(this.singleCharacters)s=1;else{const B=i===this._boundaryStartParent?this.boundaries.start.offset:0;s=e.offset-B}e.offset-=s;const p=new x(i,e.offset,s);return this.position=e,this._formatReturnValue("text",p,t,e,s)}return e=Ge._createBefore(i),this.position=e,this._formatReturnValue("elementStart",i,t,e,1)}_formatReturnValue(e,t,i,o,s){return t instanceof x&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?i=Ge._createAfter(t.textNode):(o=Ge._createAfter(t.textNode),this.position=o)),t.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?i=Ge._createBefore(t.textNode):(o=Ge._createBefore(t.textNode),this.position=o))),{done:!1,value:{type:e,item:t,previousPosition:i,nextPosition:o,length:s}}}}class Ge extends u{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Ce);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const t=Ge._createAt(this),i=t.offset+e;return t.offset=i<0?0:i,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const i=new Ct(t);return i.skip(e),i.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),i=e.getAncestors();let o=0;for(;t[o]==i[o]&&t[o];)o++;return o===0?null:t[o-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],i=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),i.push(e.offset);const o=(0,r.Rt)(t,i);switch(o){case"prefix":return"before";case"extension":return"after";default:return t[o]<i[o]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Ct(e)}clone(){return new Ge(this.parent,this.offset)}static _createAt(e,t){if(e instanceof Ge)return new this(e.parent,e.offset);{const i=e;if(t=="end")t=i.is("$text")?i.data.length:i.childCount;else{if(t=="before")return this._createBefore(i);if(t=="after")return this._createAfter(i);if(t!==0&&!t)throw new r.Bb("view-createpositionat-offset-required",i)}return new Ge(i,t)}}static _createAfter(e){if(e.is("$textProxy"))return new Ge(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new r.Bb("view-position-after-root",e,{root:e});return new Ge(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Ge(e.textNode,e.offsetInText);if(!e.parent)throw new r.Bb("view-position-before-root",e,{root:e});return new Ge(e.parent,e.index)}}Ge.prototype.is=function(n){return n==="position"||n==="view:position"};class Ft extends u{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new Ct({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(ci,{direction:"backward"}),t=this.end.getLastMatchingPosition(ci);return e.parent.is("$text")&&e.isAtStart&&(e=Ge._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=Ge._createAfter(t.parent)),new Ft(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(ci);if(e.isAfter(this.end)||e.isEqual(this.end))return new Ft(e,e);let t=this.end.getLastMatchingPosition(ci,{direction:"backward"});const i=e.nodeAfter,o=t.nodeBefore;return i&&i.is("$text")&&(e=new Ge(i,0)),o&&o.is("$text")&&(t=new Ge(o,o.data.length)),new Ft(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),o=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&o}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Ft(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Ft(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,i=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(i=e.end),new Ft(t,i)}return null}getWalker(e={}){return e.boundaries=this,new Ct(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new Ft(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Ct(e);for(const i of t)yield i.item}*getPositions(e={}){e.boundaries=this;const t=new Ct(e);yield t.position;for(const i of t)yield i.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,i,o){return new this(new Ge(e,t),new Ge(i,o))}static _createFromPositionAndShift(e,t){const i=e,o=e.getShiftedBy(t);return t>0?new this(i,o):new this(o,i)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Ge._createBefore(e),t)}}function ci(n){return!(!n.item.is("attributeElement")&&!n.item.is("uiElement"))}Ft.prototype.is=function(n){return n==="range"||n==="view:range"};class yi extends(0,r.ln)(u){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let i=!1;for(const o of e._ranges)if(t.isEqual(o)){i=!0;break}if(!i)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=(0,r.QX)(this.getRanges());if(t!=(0,r.QX)(e.getRanges()))return!1;if(t==0)return!0;for(let i of this.getRanges()){i=i.getTrimmed();let o=!1;for(let s of e.getRanges())if(s=s.getTrimmed(),i.start.isEqual(s.start)&&i.end.isEqual(s.end)){o=!0;break}if(!o)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,i,o]=e;if(typeof i=="object"&&(o=i,i=void 0),t===null)this._setRanges([]),this._setFakeOptions(o);else if(t instanceof yi||t instanceof Oi)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof Ft)this._setRanges([t],o&&o.backward),this._setFakeOptions(o);else if(t instanceof Ge)this._setRanges([new Ft(t)]),this._setFakeOptions(o);else if(t instanceof z){const s=!!o&&!!o.backward;let p;if(i===void 0)throw new r.Bb("view-selection-setto-required-second-parameter",this);p=i=="in"?Ft._createIn(t):i=="on"?Ft._createOn(t):new Ft(Ge._createAt(t,i)),this._setRanges([p],s),this._setFakeOptions(o)}else{if(!(0,r.TW)(t))throw new r.Bb("view-selection-setto-not-selectable",this);this._setRanges(t,o&&o.backward),this._setFakeOptions(o)}this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new r.Bb("view-selection-setfocus-no-ranges",this);const i=Ge._createAt(e,t);if(i.compareWith(this.focus)=="same")return;const o=this.anchor;this._ranges.pop(),i.compareWith(o)=="before"?this._addRange(new Ft(i,o),!0):this._addRange(new Ft(o,i)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const i of e)this._addRange(i);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof Ft))throw new r.Bb("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new r.Bb("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new Ft(e.start,e.end))}}yi.prototype.is=function(n){return n==="selection"||n==="view:selection"};class Oi extends(0,r.ln)(u){constructor(...e){super(),this._selection=new yi,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}Oi.prototype.is=function(n){return n==="selection"||n=="documentSelection"||n=="view:selection"||n=="view:documentSelection"};class Ei extends r.M3{constructor(e,t,i){super(e,t),this.startRange=i,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Bi=Symbol("bubbling contexts");function Li(n){return class extends n{fire(e,...t){try{const i=e instanceof r.M3?e:new r.M3(this,e),o=He(this);if(!o.size)return;if(Ui(i,"capturing",this),Ht(o,"$capture",i,...t))return i.return;const s=i.startRange||this.selection.getFirstRange(),p=s?s.getContainedElement():null,B=!!p&&Boolean(we(o,p));let G=p||function(le){if(!le)return null;const fe=le.start.parent,We=le.end.parent,it=fe.getPath(),Pt=We.getPath();return it.length>Pt.length?fe:We}(s);if(Ui(i,"atTarget",G),!B){if(Ht(o,"$text",i,...t))return i.return;Ui(i,"bubbling",G)}for(;G;){if(G.is("rootElement")){if(Ht(o,"$root",i,...t))return i.return}else if(G.is("element")&&Ht(o,G.name,i,...t))return i.return;if(Ht(o,G,i,...t))return i.return;G=G.parent,Ui(i,"bubbling",G)}return Ui(i,"bubbling",this),Ht(o,"$document",i,...t),i.return}catch(i){r.Bb.rethrowUnexpectedError(i,this)}}_addEventListener(e,t,i){const o=(0,r.qo)(i.context||"$document"),s=He(this);for(const p of o){let B=s.get(p);B||(B=new((0,r.ln)()),s.set(p,B)),this.listenTo(B,e,t,i)}}_removeEventListener(e,t){const i=He(this);for(const o of i.values())this.stopListening(o,e,t)}}}{const n=Li(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{Li[e]=n.prototype[e]})}function Ui(n,e,t){n instanceof Ei&&(n._eventPhase=e,n._currentTarget=t)}function Ht(n,e,t,...i){const o=typeof e=="string"?n.get(e):we(n,e);return!!o&&(o.fire(t,...i),t.stop.called)}function we(n,e){for(const[t,i]of n)if(typeof t=="function"&&t(e))return i;return null}function He(n){return n[Bi]||(n[Bi]=new Map),n[Bi]}class Q extends Li((0,r.Re)()){constructor(e){super(),this.selection=new Oi,this.roots=new r.FE({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const i of this._postFixers)if(t=i(e),t)break;while(t)}}class R extends F{constructor(...e){super(...e),this.getFillerOffset=Y,this._priority=10,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new r.Bb("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}function Y(){if(ve(this))return null;let n=this.parent;for(;n&&n.is("attributeElement");){if(ve(n)>1)return null;n=n.parent}return!n||ve(n)>1?null:this.childCount}function ve(n){return Array.from(n.getChildren()).filter(e=>!e.is("uiElement")).length}R.DEFAULT_PRIORITY=10,R.prototype.is=function(n,e){return e?e===this.name&&(n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"):n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class De extends F{constructor(e,t,i,o){super(e,t,i,o),this.getFillerOffset=nt}_insertChild(e,t){if(t&&(t instanceof z||Array.from(t).length>0))throw new r.Bb("view-emptyelement-cannot-add",[this,t]);return 0}}function nt(){return null}De.prototype.is=function(n,e){return e?e===this.name&&(n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"):n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class It extends F{constructor(...e){super(...e),this.getFillerOffset=bi}_insertChild(e,t){if(t&&(t instanceof z||Array.from(t).length>0))throw new r.Bb("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const i of this.getAttributeKeys())t.setAttribute(i,this.getAttribute(i));return t}}function ai(n){n.document.on("arrowKey",(e,t)=>function(i,o,s){if(o.keyCode==r.Do.arrowright){const p=o.domTarget.ownerDocument.defaultView.getSelection(),B=p.rangeCount==1&&p.getRangeAt(0).collapsed;if(B||o.shiftKey){const G=p.focusNode,le=p.focusOffset,fe=s.domPositionToView(G,le);if(fe===null)return;let We=!1;const it=fe.getLastMatchingPosition(Pt=>(Pt.item.is("uiElement")&&(We=!0),!(!Pt.item.is("uiElement")&&!Pt.item.is("attributeElement"))));if(We){const Pt=s.viewPositionToDom(it);B?p.collapse(Pt.parent,Pt.offset):p.extend(Pt.parent,Pt.offset)}}}}(0,t,n.domConverter),{priority:"low"})}function bi(){return null}It.prototype.is=function(n,e){return e?e===this.name&&(n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"):n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class ht extends F{constructor(...e){super(...e),this.getFillerOffset=H}_insertChild(e,t){if(t&&(t instanceof z||Array.from(t).length>0))throw new r.Bb("view-rawelement-cannot-add",[this,t]);return 0}render(){}}function H(){return null}ht.prototype.is=function(n,e){return e?e===this.name&&(n==="rawElement"||n==="view:rawElement"||n==="element"||n==="view:element"):n==="rawElement"||n==="view:rawElement"||n===this.name||n==="view:"+this.name||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class se extends(0,r.ln)(u){constructor(e,t){super(),this.document=e,this._children=[],t&&this._insertChild(0,t),this._customProperties=new Map}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let i=0;const o=function(s,p){return typeof p=="string"?[new L(s,p)]:((0,r.TW)(p)||(p=[p]),Array.from(p).map(B=>typeof B=="string"?new L(s,B):B instanceof x?new L(s,B.data):B))}(this.document,t);for(const s of o)s.parent!==null&&s._remove(),s.parent=this,this._children.splice(e,0,s),e++,i++;return i}_removeChildren(e,t=1){this._fireChange("children",this);for(let i=e;i<e+t;i++)this._children[i].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}se.prototype.is=function(n){return n==="documentFragment"||n==="view:documentFragment"};class Te{constructor(e){this.document=e,this._cloneGroups=new Map,this._slotFactory=null}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(...e){this.document.selection._setFocus(...e)}createDocumentFragment(e){return new se(this.document,e)}createText(e){return new L(this.document,e)}createAttributeElement(e,t,i={}){const o=new R(this.document,e,t);return typeof i.priority=="number"&&(o._priority=i.priority),i.id&&(o._id=i.id),i.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),o}createContainerElement(e,t,i={},o={}){let s=null;(0,c.Z)(i)?o=i:s=i;const p=new N(this.document,e,t,s);return o.renderUnsafeAttributes&&p._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),p}createEditableElement(e,t,i={}){const o=new Ce(this.document,e,t);return i.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),o}createEmptyElement(e,t,i={}){const o=new De(this.document,e,t);return i.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),o}createUIElement(e,t,i){const o=new It(this.document,e,t);return i&&(o.render=i),o}createRawElement(e,t,i,o={}){const s=new ht(this.document,e,t);return i&&(s.render=i),o.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),s}setAttribute(e,t,i){i._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,i){(0,c.Z)(e)&&i===void 0?t._setStyle(e):i._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,i){i._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof Ge?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new r.Bb("view-writer-break-non-container-element",this.document);if(!t.parent)throw new r.Bb("view-writer-break-root",this.document);if(e.isAtStart)return Ge._createBefore(t);if(!e.isAtEnd){const i=t._clone(!1);this.insert(Ge._createAfter(t),i);const o=new Ft(e,Ge._createAt(t,"end")),s=new Ge(i,0);this.move(o,s)}return Ge._createAfter(t)}mergeAttributes(e){const t=e.offset,i=e.parent;if(i.is("$text"))return e;if(i.is("attributeElement")&&i.childCount===0){const p=i.parent,B=i.index;return i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new Ge(p,B))}const o=i.getChild(t-1),s=i.getChild(t);if(!o||!s)return e;if(o.is("$text")&&s.is("$text"))return vt(o,s);if(o.is("attributeElement")&&s.is("attributeElement")&&o.isSimilar(s)){const p=o.childCount;return o._appendChild(s.getChildren()),s._remove(),this._removeFromClonedElementsGroup(s),this.mergeAttributes(new Ge(o,p))}return e}mergeContainers(e){const t=e.nodeBefore,i=e.nodeAfter;if(!(t&&i&&t.is("containerElement")&&i.is("containerElement")))throw new r.Bb("view-writer-merge-containers-invalid-position",this.document);const o=t.getChild(t.childCount-1),s=o instanceof L?Ge._createAt(o,"end"):Ge._createAt(t,"end");return this.move(Ft._createIn(i),Ge._createAt(t,"end")),this.remove(Ft._createOn(i)),s}insert(e,t){jt(t=(0,r.TW)(t)?[...t]:[t],this.document);const i=t.reduce((p,B)=>{const G=p[p.length-1],le=!B.is("uiElement");return G&&G.breakAttributes==le?G.nodes.push(B):p.push({breakAttributes:le,nodes:[B]}),p},[]);let o=null,s=e;for(const{nodes:p,breakAttributes:B}of i){const G=this._insertNodes(s,p,B);o||(o=G.start),s=G.end}return o?new Ft(o,s):new Ft(e)}remove(e){const t=e instanceof Ft?e:Ft._createOn(e);if(li(t,this.document),t.isCollapsed)return new se(this.document);const{start:i,end:o}=this._breakAttributesRange(t,!0),s=i.parent,p=o.offset-i.offset,B=s._removeChildren(i.offset,p);for(const le of B)this._removeFromClonedElementsGroup(le);const G=this.mergeAttributes(i);return t.start=G,t.end=G.clone(),new se(this.document,B)}clear(e,t){li(e,this.document);const i=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const o of i){const s=o.item;let p;if(s.is("element")&&t.isSimilar(s))p=Ft._createOn(s);else if(!o.nextPosition.isAfter(e.start)&&s.is("$textProxy")){const B=s.getAncestors().find(G=>G.is("element")&&t.isSimilar(G));B&&(p=Ft._createIn(B))}p&&(p.end.isAfter(e.end)&&(p.end=e.end),p.start.isBefore(e.start)&&(p.start=e.start),this.remove(p))}}move(e,t){let i;if(t.isAfter(e.end)){const o=(t=this._breakAttributes(t,!0)).parent,s=o.childCount;e=this._breakAttributesRange(e,!0),i=this.remove(e),t.offset+=o.childCount-s}else i=this.remove(e);return this.insert(t,i)}wrap(e,t){if(!(t instanceof R))throw new r.Bb("view-writer-wrap-invalid-attribute",this.document);if(li(e,this.document),e.isCollapsed){let o=e.start;o.parent.is("element")&&(i=o.parent,!Array.from(i.getChildren()).some(p=>!p.is("uiElement")))&&(o=o.getLastMatchingPosition(p=>p.item.is("uiElement"))),o=this._wrapPosition(o,t);const s=this.document.selection;return s.isCollapsed&&s.getFirstPosition().isEqual(e.start)&&this.setSelection(o),new Ft(o)}return this._wrapRange(e,t);var i}unwrap(e,t){if(!(t instanceof R))throw new r.Bb("view-writer-unwrap-invalid-attribute",this.document);if(li(e,this.document),e.isCollapsed)return e;const{start:i,end:o}=this._breakAttributesRange(e,!0),s=i.parent,p=this._unwrapChildren(s,i.offset,o.offset,t),B=this.mergeAttributes(p.start);B.isEqual(p.start)||p.end.offset--;const G=this.mergeAttributes(p.end);return new Ft(B,G)}rename(e,t){const i=new N(this.document,e,t.getAttributes());return this.insert(Ge._createAfter(t),i),this.move(Ft._createIn(t),Ge._createAt(i,0)),this.remove(Ft._createOn(t)),i}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return Ge._createAt(e,t)}createPositionAfter(e){return Ge._createAfter(e)}createPositionBefore(e){return Ge._createBefore(e)}createRange(...e){return new Ft(...e)}createRangeOn(e){return Ft._createOn(e)}createRangeIn(e){return Ft._createIn(e)}createSelection(...e){return new yi(...e)}createSlot(e){if(!this._slotFactory)throw new r.Bb("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,i){let o,s;if(o=i?Le(e):e.parent.is("$text")?e.parent.parent:e.parent,!o)throw new r.Bb("view-writer-invalid-position-container",this.document);s=i?this._breakAttributes(e,!0):e.parent.is("$text")?At(e):e;const p=o._insertChild(s.offset,t);for(const fe of t)this._addToClonedElementsGroup(fe);const B=s.getShiftedBy(p),G=this.mergeAttributes(s);G.isEqual(s)||B.offset--;const le=this.mergeAttributes(B);return new Ft(G,le)}_wrapChildren(e,t,i,o){let s=t;const p=[];for(;s<i;){const G=e.getChild(s),le=G.is("$text"),fe=G.is("attributeElement");if(fe&&this._wrapAttributeElement(o,G))p.push(new Ge(e,s));else if(le||!fe||Ye(o,G)){const We=o._clone();G._remove(),We._appendChild(G),e._insertChild(s,We),this._addToClonedElementsGroup(We),p.push(new Ge(e,s))}else this._wrapChildren(G,0,G.childCount,o);s++}let B=0;for(const G of p)G.offset-=B,G.offset!=t&&(this.mergeAttributes(G).isEqual(G)||(B++,i--));return Ft._createFromParentsAndOffsets(e,t,e,i)}_unwrapChildren(e,t,i,o){let s=t;const p=[];for(;s<i;){const G=e.getChild(s);if(G.is("attributeElement"))if(G.isSimilar(o)){const le=G.getChildren(),fe=G.childCount;G._remove(),e._insertChild(s,le),this._removeFromClonedElementsGroup(G),p.push(new Ge(e,s),new Ge(e,s+fe)),s+=fe,i+=fe-1}else this._unwrapAttributeElement(o,G)?(p.push(new Ge(e,s),new Ge(e,s+1)),s++):(this._unwrapChildren(G,0,G.childCount,o),s++);else s++}let B=0;for(const G of p)G.offset-=B,!(G.offset==t||G.offset==i)&&(this.mergeAttributes(G).isEqual(G)||(B++,i--));return Ft._createFromParentsAndOffsets(e,t,e,i)}_wrapRange(e,t){const{start:i,end:o}=this._breakAttributesRange(e,!0),s=i.parent,p=this._wrapChildren(s,i.offset,o.offset,t),B=this.mergeAttributes(p.start);B.isEqual(p.start)||p.end.offset--;const G=this.mergeAttributes(p.end);return new Ft(B,G)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return Je(e.clone());e.parent.is("$text")&&(e=At(e));const i=this.createAttributeElement("_wrapPosition-fake-element");i._priority=Number.POSITIVE_INFINITY,i.isSimilar=()=>!1,e.parent._insertChild(e.offset,i);const o=new Ft(e,e.getShiftedBy(1));this.wrap(o,t);const s=new Ge(i.parent,i.index);i._remove();const p=s.nodeBefore,B=s.nodeAfter;return p instanceof L&&B instanceof L?vt(p,B):Je(s)}_wrapAttributeElement(e,t){if(!xi(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const i of e.getAttributeKeys())if(i!=="class"&&i!=="style"&&t.hasAttribute(i)&&t.getAttribute(i)!==e.getAttribute(i))return!1;for(const i of e.getStyleNames())if(t.hasStyle(i)&&t.getStyle(i)!==e.getStyle(i))return!1;for(const i of e.getAttributeKeys())i!=="class"&&i!=="style"&&(t.hasAttribute(i)||this.setAttribute(i,e.getAttribute(i),t));for(const i of e.getStyleNames())t.hasStyle(i)||this.setStyle(i,e.getStyle(i),t);for(const i of e.getClassNames())t.hasClass(i)||this.addClass(i,t);return!0}_unwrapAttributeElement(e,t){if(!xi(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const i of e.getAttributeKeys())if(i!=="class"&&i!=="style"&&(!t.hasAttribute(i)||t.getAttribute(i)!==e.getAttribute(i)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const i of e.getStyleNames())if(!t.hasStyle(i)||t.getStyle(i)!==e.getStyle(i))return!1;for(const i of e.getAttributeKeys())i!=="class"&&i!=="style"&&this.removeAttribute(i,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const i=e.start,o=e.end;if(li(e,this.document),e.isCollapsed){const G=this._breakAttributes(e.start,t);return new Ft(G,G)}const s=this._breakAttributes(o,t),p=s.parent.childCount,B=this._breakAttributes(i,t);return s.offset+=s.parent.childCount-p,new Ft(B,s)}_breakAttributes(e,t=!1){const i=e.offset,o=e.parent;if(e.parent.is("emptyElement"))throw new r.Bb("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new r.Bb("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new r.Bb("view-writer-cannot-break-raw-element",this.document);if(!t&&o.is("$text")&&Wt(o.parent)||Wt(o))return e.clone();if(o.is("$text"))return this._breakAttributes(At(e),t);if(i==o.childCount){const s=new Ge(o.parent,o.index+1);return this._breakAttributes(s,t)}if(i===0){const s=new Ge(o.parent,o.index);return this._breakAttributes(s,t)}{const s=o.index+1,p=o._clone();o.parent._insertChild(s,p),this._addToClonedElementsGroup(p);const B=o.childCount-i,G=o._removeChildren(i,B);p._appendChild(G);const le=new Ge(o.parent,s);return this._breakAttributes(le,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const o of e.getChildren())this._addToClonedElementsGroup(o);const t=e.id;if(!t)return;let i=this._cloneGroups.get(t);i||(i=new Set,this._cloneGroups.set(t,i)),i.add(e),e._clonesGroup=i}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const o of e.getChildren())this._removeFromClonedElementsGroup(o);const t=e.id;if(!t)return;const i=this._cloneGroups.get(t);i&&i.delete(e)}}function Le(n){let e=n.parent;for(;!Wt(e);){if(!e)return;e=e.parent}return e}function Ye(n,e){return n.priority<e.priority||!(n.priority>e.priority)&&n.getIdentity()<e.getIdentity()}function Je(n){const e=n.nodeBefore;if(e&&e.is("$text"))return new Ge(e,e.data.length);const t=n.nodeAfter;return t&&t.is("$text")?new Ge(t,0):n}function At(n){if(n.offset==n.parent.data.length)return new Ge(n.parent.parent,n.parent.index+1);if(n.offset===0)return new Ge(n.parent.parent,n.parent.index);const e=n.parent.data.slice(n.offset);return n.parent._data=n.parent.data.slice(0,n.offset),n.parent.parent._insertChild(n.parent.index+1,new L(n.root.document,e)),new Ge(n.parent.parent,n.parent.index+1)}function vt(n,e){const t=n.data.length;return n._data+=e.data,e._remove(),new Ge(n,t)}const Mt=[L,R,N,De,ht,It];function jt(n,e){for(const t of n){if(!Mt.some(i=>t instanceof i))throw new r.Bb("view-writer-insert-invalid-node-type",e);t.is("$text")||jt(t.getChildren(),e)}}function Wt(n){return n&&(n.is("containerElement")||n.is("documentFragment"))}function li(n,e){const t=Le(n.start),i=Le(n.end);if(!t||!i||t!==i)throw new r.Bb("view-writer-invalid-range-container",e)}function xi(n,e){return n.id===null&&e.id===null}const hi=n=>n.createTextNode("\xA0"),Di=n=>{const e=n.createElement("span");return e.dataset.ckeFiller="true",e.innerText="\xA0",e},dn=n=>{const e=n.createElement("br");return e.dataset.ckeFiller="true",e},sn=7,Cn="\u2060".repeat(sn);function fn(n){return(0,r.Gs)(n)&&n.data.substr(0,sn)===Cn}function Tn(n){return n.data.length==sn&&fn(n)}function In(n){return fn(n)?n.data.slice(sn):n.data}function Dn(n,e){if(e.keyCode==r.Do.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const i=t.getRangeAt(0).startContainer,o=t.getRangeAt(0).startOffset;fn(i)&&o<=sn&&t.collapse(i,0)}}}var Fn=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-engine/theme/renderer.css"),Be={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};S()(Fn.Z,Be),Fn.Z.locals;class j extends(0,r.Re)(){constructor(e,t){super(),this.domDocuments=new Set,this.domConverter=e,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),r.OB.isBlink&&!r.OB.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()}),this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else{if(e!=="children")throw new r.Bb("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}render(){if(this.isComposing&&!r.OB.isAndroid)return;let e=null;const t=!(r.OB.isBlink&&!r.OB.isAndroid)||!this.isSelecting;for(const i of this.markedChildren)this._updateChildrenMappings(i);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Ge._createBefore(e.parent)));for(const i of this.markedAttributes)this._updateAttrs(i);for(const i of this.markedChildren)this._updateChildren(i,{inlineFillerPosition:e});for(const i of this.markedTexts)!this.markedChildren.has(i.parent)&&this.domConverter.mapViewToDom(i.parent)&&this._updateText(i,{inlineFillerPosition:e});if(t)if(e){const i=this.domConverter.viewPositionToDom(e),o=i.parent.ownerDocument;fn(i.parent)?this._inlineFiller=i.parent:this._inlineFiller=te(o,i.parent,i.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){if(!this.domConverter.mapViewToDom(e))return;const t=Array.from(this.domConverter.mapViewToDom(e).childNodes),i=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),o=this._diffNodeLists(t,i),s=this._findReplaceActions(o,t,i);if(s.indexOf("replace")!==-1){const p={equal:0,insert:0,delete:0};for(const B of s)if(B==="replace"){const G=p.equal+p.insert,le=p.equal+p.delete,fe=e.getChild(G);!fe||fe.is("uiElement")||fe.is("rawElement")||this._updateElementMappings(fe,t[le]),(0,r.Od)(i[G]),p.equal++}else p[B]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Ge._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&(0,r.Gs)(t.parent)&&fn(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!fn(e))throw new r.Bb("view-renderer-filler-was-lost",this);Tn(e)?e.remove():e.data=e.data.substr(sn),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,i=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!function(p){if(p.getAttribute("contenteditable")=="false")return!1;const B=p.findAncestor(G=>G.hasAttribute("contenteditable"));return!B||B.getAttribute("contenteditable")=="true"}(t)||i===t.getFillerOffset())return!1;const o=e.nodeBefore,s=e.nodeAfter;return!(o instanceof L||s instanceof L)&&(!r.OB.isAndroid||!o&&!s)}_updateText(e,t){const i=this.domConverter.findCorrespondingDomText(e);let o=this.domConverter.viewToDom(e).data;const s=t.inlineFillerPosition;s&&s.parent==e.parent&&s.offset==e.index&&(o=Cn+o),ze(i,o)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const i=Array.from(t.attributes).map(s=>s.name),o=e.getAttributeKeys();for(const s of o)this.domConverter.setDomElementAttribute(t,s,e.getAttribute(s),e);for(const s of i)e.hasAttribute(s)||this.domConverter.removeDomElementAttribute(t,s)}_updateChildren(e,t){const i=this.domConverter.mapViewToDom(e);if(!i)return;if(r.OB.isAndroid){let We=null;for(const it of Array.from(i.childNodes)){if(We&&(0,r.Gs)(We)&&(0,r.Gs)(it)){i.normalize();break}We=it}}const o=t.inlineFillerPosition,s=i.childNodes,p=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));o&&o.parent===e&&te(i.ownerDocument,p,o.offset);const B=this._diffNodeLists(s,p),G=r.OB.isAndroid?this._findReplaceActions(B,s,p,{replaceText:!0}):B;let le=0;const fe=new Set;for(const We of G)We==="delete"?(fe.add(s[le]),(0,r.Od)(s[le])):We!=="equal"&&We!=="replace"||le++;le=0;for(const We of G)We==="insert"?((0,r.ZQ)(i,le,p[le]),le++):We==="replace"?(ze(s[le],p[le].data),le++):We==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(p[le])),le++);for(const We of fe)We.parentNode||this.domConverter.unbindDomElement(We)}_diffNodeLists(e,t){return e=function(i,o){const s=Array.from(i);return s.length==0||!o||s[s.length-1]==o&&s.pop(),s}(e,this._fakeSelectionContainer),(0,r.Hg)(e,t,Re.bind(null,this.domConverter))}_findReplaceActions(e,t,i,o={}){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let s=[],p=[],B=[];const G={equal:0,insert:0,delete:0};for(const le of e)le==="insert"?B.push(i[G.equal+G.insert]):le==="delete"?p.push(t[G.equal+G.delete]):(s=s.concat((0,r.Hg)(p,B,o.replaceText?Ee:ue).map(fe=>fe==="equal"?"replace":fe)),s.push("equal"),p=[],B=[]),G[le]++;return s.concat((0,r.Hg)(p,B,o.replaceText?Ee:ue).map(le=>le==="equal"?"replace":le))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(r.OB.isBlink&&!r.OB.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&r.OB.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(p){const B=p.createElement("div");return B.className="ck-fake-selection-container",Object.assign(B.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),B.textContent="\xA0",B}(t));const i=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(i,this.selection),!this._fakeSelectionNeedsUpdate(e))return;i.parentElement&&i.parentElement==e||e.appendChild(i),i.textContent=this.selection.fakeSelectionLabel||"\xA0";const o=t.getSelection(),s=t.createRange();o.removeAllRanges(),s.selectNodeContents(i),o.addRange(s)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const i=this.domConverter.viewPositionToDom(this.selection.anchor),o=this.domConverter.viewPositionToDom(this.selection.focus);t.collapse(i.parent,i.offset),t.extend(o.parent,o.offset),r.OB.isGecko&&function(s,p){const B=s.parent;if(B.nodeType!=Node.ELEMENT_NODE||s.offset!=B.childNodes.length-1)return;const G=B.childNodes[s.offset];G&&G.tagName=="BR"&&p.addRange(p.getRangeAt(0))}(o,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return(!t||!this.selection.isEqual(t))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,i=e.ownerDocument.getSelection();return!t||t.parentElement!==e||i.anchorNode!==t&&!t.contains(i.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const i=e.activeElement,o=this.domConverter.mapDomToView(i);i&&o&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function te(n,e,t){const i=e instanceof Array?e:e.childNodes,o=i[t];if((0,r.Gs)(o))return o.data=Cn+o.data,o;{const s=n.createTextNode(Cn);return Array.isArray(e)?i.splice(t,0,s):(0,r.ZQ)(e,t,s),s}}function ue(n,e){return(0,r.UG)(n)&&(0,r.UG)(e)&&!(0,r.Gs)(n)&&!(0,r.Gs)(e)&&!(0,r.C3)(n)&&!(0,r.C3)(e)&&n.tagName.toLowerCase()===e.tagName.toLowerCase()}function Ee(n,e){return(0,r.UG)(n)&&(0,r.UG)(e)&&(0,r.Gs)(n)&&(0,r.Gs)(e)}function Re(n,e,t){return e===t||((0,r.Gs)(e)&&(0,r.Gs)(t)?e.data===t.data:!(!n.isBlockFiller(e)||!n.isBlockFiller(t)))}function ze(n,e){const t=n.data;if(t==e)return;const i=(0,r.HZ)(t,e);for(const o of i)o.type==="insert"?n.insertData(o.index,o.values.join("")):n.deleteData(o.index,o.howMany)}const je=dn(r.CO.document),Fe=hi(r.CO.document),at=Di(r.CO.document),mt="data-ck-unsafe-attribute-",ct="data-ck-unsafe-element";class wt{constructor(e,t={}){this.document=e,this.renderingMode=t.renderingMode||"editing",this.blockFillerMode=t.blockFillerMode||(this.renderingMode==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?r.CO.document:r.CO.document.implementation.createHTMLDocument(""),this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new D,this._encounteredRawContentDomNodes=new WeakSet}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new yi(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const i of Array.from(e.children))this.unbindDomElement(i)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,i){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(i==="img"&&(e==="src"||e==="srcset")||i==="source"&&e==="srcset"||!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data")return void(e.innerHTML=t);const i=new DOMParser().parseFromString(t,"text/html"),o=i.createDocumentFragment(),s=i.body.childNodes;for(;s.length>0;)o.appendChild(s[0]);const p=i.createTreeWalker(o,NodeFilter.SHOW_ELEMENT),B=[];let G;for(;G=p.nextNode();)B.push(G);for(const le of B){for(const We of le.getAttributeNames())this.setDomElementAttribute(le,We,le.getAttribute(We));const fe=le.tagName.toLowerCase();this._shouldRenameElement(fe)&&(yt(fe),le.replaceWith(this._createReplacementDomElement(fe,le)))}for(;e.firstChild;)e.firstChild.remove();e.append(o)}viewToDom(e,t={}){if(e.is("$text")){const i=this._processDataFromViewText(e);return this._domDocument.createTextNode(i)}{if(this.mapViewToDom(e))return this.mapViewToDom(e);let i;if(e.is("documentFragment"))i=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(i,e);else{if(e.is("uiElement"))return i=e.name==="$comment"?this._domDocument.createComment(e.getCustomProperty("$rawContent")):e.render(this._domDocument,this),t.bind&&this.bindElements(i,e),i;this._shouldRenameElement(e.name)?(yt(e.name),i=this._createReplacementDomElement(e.name)):i=e.hasAttribute("xmlns")?this._domDocument.createElementNS(e.getAttribute("xmlns"),e.name):this._domDocument.createElement(e.name),e.is("rawElement")&&e.render(i,this),t.bind&&this.bindElements(i,e);for(const o of e.getAttributeKeys())this.setDomElementAttribute(i,o,e.getAttribute(o),e)}if(t.withChildren!==!1)for(const o of this.viewChildrenToDom(e,t))i.appendChild(o);return i}}setDomElementAttribute(e,t,i,o){const s=this.shouldRenderAttribute(t,i,e.tagName.toLowerCase())||o&&o.shouldRenderUnsafeAttribute(t);s||(0,r.KE)("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:i}),e.hasAttribute(t)&&!s?e.removeAttribute(t):e.hasAttribute(mt+t)&&s&&e.removeAttribute(mt+t),e.setAttribute(s?t:mt+t,i)}removeDomElementAttribute(e,t){t!=ct&&(e.removeAttribute(t),e.removeAttribute(mt+t))}*viewChildrenToDom(e,t={}){const i=e.getFillerOffset&&e.getFillerOffset();let o=0;for(const s of e.getChildren()){i===o&&(yield this._getBlockFiller());const p=s.is("element")&&!!s.getCustomProperty("dataPipeline:transparentRendering")&&!(0,r.Ps)(s.getAttributes());p&&this.renderingMode=="data"?yield*this.viewChildrenToDom(s,t):(p&&(0,r.KE)("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:s}),yield this.viewToDom(s,t)),o++}i===o&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),i=this.viewPositionToDom(e.end),o=this._domDocument.createRange();return o.setStart(t.parent,t.offset),o.setEnd(i.parent,i.offset),o}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const i=this.findCorrespondingDomText(t);if(!i)return null;let o=e.offset;return fn(i)&&(o+=sn),{parent:i,offset:o}}{let i,o,s;if(e.offset===0){if(i=this.mapViewToDom(t),!i)return null;s=i.childNodes[0]}else{const p=e.nodeBefore;if(o=p.is("$text")?this.findCorrespondingDomText(p):this.mapViewToDom(p),!o)return null;i=o.parentNode,s=o.nextSibling}return(0,r.Gs)(s)&&fn(s)?{parent:s,offset:sn}:{parent:i,offset:o?(0,r.cq)(o)+1:0}}}domToView(e,t={}){if(this.isBlockFiller(e))return null;const i=this.getHostViewElement(e);if(i)return i;if((0,r.C3)(e)&&t.skipComments)return null;if((0,r.Gs)(e)){if(Tn(e))return null;{const o=this._processDataFromDomText(e);return o===""?null:new L(this.document,o)}}{if(this.mapDomToView(e))return this.mapDomToView(e);let o;if(this.isDocumentFragment(e))o=new se(this.document),t.bind&&this.bindDocumentFragments(e,o);else{o=this._createViewElement(e,t),t.bind&&this.bindElements(e,o);const s=e.attributes;if(s)for(let p=s.length,B=0;B<p;B++)o._setAttribute(s[B].name,s[B].value);if(this._isViewElementWithRawContent(o,t)||(0,r.C3)(e)){const p=(0,r.C3)(e)?e.data:e.innerHTML;return o._setCustomProperty("$rawContent",p),this._encounteredRawContentDomNodes.add(e),o}}if(t.withChildren!==!1)for(const s of this.domChildrenToView(e,t))o._appendChild(s);return o}}*domChildrenToView(e,t){for(let i=0;i<e.childNodes.length;i++){const o=e.childNodes[i],s=this.domToView(o,t);s!==null&&(yield s)}}domSelectionToView(e){if(e.rangeCount===1){let o=e.getRangeAt(0).startContainer;(0,r.Gs)(o)&&(o=o.parentNode);const s=this.fakeSelectionToView(o);if(s)return s}const t=this.isDomSelectionBackward(e),i=[];for(let o=0;o<e.rangeCount;o++){const s=e.getRangeAt(o),p=this.domRangeToView(s);p&&i.push(p)}return new yi(i,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),i=this.domPositionToView(e.endContainer,e.endOffset);return t&&i?new Ft(t,i):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,(0,r.cq)(e));const i=this.mapDomToView(e);if(i&&(i.is("uiElement")||i.is("rawElement")))return Ge._createBefore(i);if((0,r.Gs)(e)){if(Tn(e))return this.domPositionToView(e.parentNode,(0,r.cq)(e));const o=this.findCorrespondingViewText(e);let s=t;return o?(fn(e)&&(s-=sn,s=s<0?0:s),new Ge(o,s)):null}if(t===0){const o=this.mapDomToView(e);if(o)return new Ge(o,0)}else{const o=e.childNodes[t-1];if((0,r.Gs)(o)&&Tn(o))return this.domPositionToView(o.parentNode,(0,r.cq)(o));const s=(0,r.Gs)(o)?this.findCorrespondingViewText(o):this.mapDomToView(o);if(s&&s.parent)return new Ge(s.parent,s.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Tn(e))return null;const t=this.getHostViewElement(e);if(t)return t;const i=e.previousSibling;if(i){if(!this.isElement(i))return null;const o=this.mapDomToView(i);if(o){const s=o.nextSibling;return s instanceof L?s:null}}else{const o=this.mapDomToView(e.parentNode);if(o){const s=o.getChild(0);return s instanceof L?s:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:i,scrollY:o}=r.CO.window,s=[];Ot(t,p=>{const{scrollLeft:B,scrollTop:G}=p;s.push([B,G])}),t.focus(),Ot(t,p=>{const[B,G]=s.shift();p.scrollLeft=B,p.scrollTop=G}),r.CO.window.scrollTo(i,o)}}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(je):!(e.tagName!=="BR"||!Jt(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(at)||function(t,i){return t.isEqualNode(Fe)&&Jt(t,i)&&t.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const i=t.collapsed;return t.detach(),i}getHostViewElement(e){const t=(0,r.dk)(e);for(t.pop();t.length;){const i=t.pop(),o=this._domToViewMapping.get(i);if(o&&(o.is("uiElement")||o.is("rawElement")))return o}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return hi(this._domDocument);case"markedNbsp":return Di(this._domDocument);case"br":return dn(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if((0,r.Gs)(e)&&fn(e)&&t<sn||this.isElement(e)&&fn(e.childNodes[t]))return!1;const i=this.mapDomToView(e);return!i||!i.is("uiElement")&&!i.is("rawElement")}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(i=>this.preElements.includes(i.name)))return t;if(t.charAt(0)==" "){const i=this._getTouchingInlineViewNode(e,!1);!(i&&i.is("$textProxy")&&this._nodeEndsWithSpace(i))&&i||(t="\xA0"+t.substr(1))}if(t.charAt(t.length-1)==" "){const i=this._getTouchingInlineViewNode(e,!0),o=i&&i.is("$textProxy")&&i.data.charAt(0)==" ";t.charAt(t.length-2)!=" "&&i&&!o||(t=t.substr(0,t.length-1)+"\xA0")}return t.replace(/ {2}/g," \xA0")}_nodeEndsWithSpace(e){if(e.getAncestors().some(i=>this.preElements.includes(i.name)))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_processDataFromDomText(e){let t=e.data;if(function(le,fe){return(0,r.dk)(le).some(it=>it.tagName&&fe.includes(it.tagName.toLowerCase()))}(e,this.preElements))return In(e);t=t.replace(/[ \n\t\r]{1,}/g," ");const i=this._getTouchingInlineDomNode(e,!1),o=this._getTouchingInlineDomNode(e,!0),s=this._checkShouldLeftTrimDomText(e,i),p=this._checkShouldRightTrimDomText(e,o);s&&(t=t.replace(/^ /,"")),p&&(t=t.replace(/ $/,"")),t=In(new Text(t)),t=t.replace(/ \u00A0/g,"  ");const B=o&&this.isElement(o)&&o.tagName!="BR",G=o&&(0,r.Gs)(o)&&o.data.charAt(0)==" ";return(/( |\u00A0)\u00A0$/.test(t)||!o||B||G)&&(t=t.replace(/\u00A0$/," ")),(s||i&&this.isElement(i)&&i.tagName!="BR")&&(t=t.replace(/^\u00A0/," ")),t}_checkShouldLeftTrimDomText(e,t){return!t||(this.isElement(t)?t.tagName==="BR":!this._encounteredRawContentDomNodes.has(e.previousSibling)&&/[^\S\u00A0]/.test(t.data.charAt(t.data.length-1)))}_checkShouldRightTrimDomText(e,t){return!t&&!fn(e)}_getTouchingInlineViewNode(e,t){const i=new Ct({startPosition:t?Ge._createAfter(e):Ge._createBefore(e),direction:t?"forward":"backward"});for(const o of i){if(o.item.is("element")&&this.inlineObjectElements.includes(o.item.name))return o.item;if(o.item.is("containerElement")||o.item.is("element","br"))return null;if(o.item.is("$textProxy"))return o.item}return null}_getTouchingInlineDomNode(e,t){if(!e.parentNode)return null;const i=t?"firstChild":"lastChild",o=t?"nextSibling":"previousSibling";let s=!0,p=e;do if(!s&&p[i]?p=p[i]:p[o]?(p=p[o],s=!1):(p=p.parentNode,s=!0),!p||this._isBlockElement(p))return null;while(!(0,r.Gs)(p)&&p.tagName!="BR"&&!this._isInlineObjectElement(p));return p}_isBlockElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isInlineObjectElement(e){return this.isElement(e)&&this.inlineObjectElements.includes(e.tagName.toLowerCase())}_createViewElement(e,t){if((0,r.C3)(e))return new It(this.document,"$comment");const i=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new F(this.document,i)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const i=this._domDocument.createElement("span");if(i.setAttribute(ct,e),t){for(;t.firstChild;)i.appendChild(t.firstChild);for(const o of t.getAttributeNames())i.setAttribute(o,t.getAttribute(o))}return i}}function Ot(n,e){let t=n;for(;t;)e(t),t=t.parentElement}function Jt(n,e){const t=n.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function yt(n){n==="script"&&(0,r.KE)("domconverter-unsafe-script-element-detected"),n==="style"&&(0,r.KE)("domconverter-unsafe-style-element-detected")}class oi extends(0,r.Xu)(){constructor(e){super(),this.view=e,this.document=e.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}var vi=a("./node_modules/lodash-es/assignIn.js");class ji{constructor(e,t,i){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,(0,vi.Z)(this,i)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Wi extends oi{constructor(e){super(e),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(t=>{this.listenTo(e,t,(i,o)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(o.target)&&this.onDomEvent(o)},{useCapture:this.useCapture})})}fire(e,t,i){this.isEnabled&&this.document.fire(e,new ji(this.view,t,i))}}class tn extends Wi{constructor(e){super(e),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return(0,r.Cq)(this)}};this.fire(e.type,e,t)}}var bn=a("./node_modules/lodash-es/debounce.js");class Pe extends oi{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=(0,bn.Z)(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,i)=>{e.selection.isFake&&this.isEnabled&&i.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,i)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(i.keyCode)},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,i=new yi(t.getRanges(),{backward:t.isBackward,fake:!1});e!=r.Do.arrowleft&&e!=r.Do.arrowup||i.setTo(i.getFirstPosition()),e!=r.Do.arrowright&&e!=r.Do.arrowdown||i.setTo(i.getLastPosition());const o={oldSelection:t,newSelection:i,domSelection:null};this.document.fire("selectionChange",o),this._fireSelectionChangeDoneDebounced(o)}}var k="__lodash_hash_undefined__";const O=function(n){return this.__data__.set(n,k),this},he=function(n){return this.__data__.has(n)};function Ae(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new ut.Z;++e<t;)this.add(n[e])}Ae.prototype.add=Ae.prototype.push=O,Ae.prototype.has=he;const dt=Ae,lt=function(n,e){for(var t=-1,i=n==null?0:n.length;++t<i;)if(e(n[t],t,n))return!0;return!1},ot=function(n,e){return n.has(e)};var Zt=1,Pi=2;const Ki=function(n,e,t,i,o,s){var p=t&Zt,B=n.length,G=e.length;if(B!=G&&!(p&&G>B))return!1;var le=s.get(n),fe=s.get(e);if(le&&fe)return le==e&&fe==n;var We=-1,it=!0,Pt=t&Pi?new dt:void 0;for(s.set(n,e),s.set(e,n);++We<B;){var Qt=n[We],mi=e[We];if(i)var _i=p?i(mi,Qt,We,e,n,s):i(Qt,mi,We,n,e,s);if(_i!==void 0){if(_i)continue;it=!1;break}if(Pt){if(!lt(e,function(Yi,Ni){if(!ot(Pt,Ni)&&(Qt===Yi||o(Qt,Yi,t,i,s)))return Pt.push(Ni)})){it=!1;break}}else if(Qt!==mi&&!o(Qt,mi,t,i,s)){it=!1;break}}return s.delete(n),s.delete(e),it};var hn=a("./node_modules/lodash-es/_Symbol.js"),eo=a("./node_modules/lodash-es/_Uint8Array.js");const to=function(n){var e=-1,t=Array(n.size);return n.forEach(function(i,o){t[++e]=[o,i]}),t},uo=function(n){var e=-1,t=Array(n.size);return n.forEach(function(i){t[++e]=i}),t};var Ro=1,Oo=2,jo="[object Boolean]",ir="[object Date]",nr="[object Error]",or="[object Map]",rr="[object Number]",No="[object RegExp]",Hn="[object Set]",ho="[object String]",sr="[object Symbol]",Nn="[object ArrayBuffer]",Vo="[object DataView]",mo=hn.Z?hn.Z.prototype:void 0,yo=mo?mo.valueOf:void 0;const ar=function(n,e,t,i,o,s,p){switch(t){case Vo:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case Nn:return!(n.byteLength!=e.byteLength||!s(new eo.Z(n),new eo.Z(e)));case jo:case ir:case rr:return(0,Ai.Z)(+n,+e);case nr:return n.name==e.name&&n.message==e.message;case No:case ho:return n==e+"";case or:var B=to;case Hn:var G=i&Ro;if(B||(B=uo),n.size!=e.size&&!G)return!1;var le=p.get(n);if(le)return le==e;i|=Oo,p.set(n,e);var fe=Ki(B(n),B(e),i,o,s,p);return p.delete(n),fe;case sr:if(yo)return yo.call(n)==yo.call(e)}return!1};var Bo=a("./node_modules/lodash-es/_getAllKeys.js"),zo=1,Do=Object.prototype.hasOwnProperty;const lr=function(n,e,t,i,o,s){var p=t&zo,B=(0,Bo.Z)(n),G=B.length;if(G!=(0,Bo.Z)(e).length&&!p)return!1;for(var le=G;le--;){var fe=B[le];if(!(p?fe in e:Do.call(e,fe)))return!1}var We=s.get(n),it=s.get(e);if(We&&it)return We==e&&it==n;var Pt=!0;s.set(n,e),s.set(e,n);for(var Qt=p;++le<G;){var mi=n[fe=B[le]],_i=e[fe];if(i)var Yi=p?i(_i,mi,fe,e,n,s):i(mi,_i,fe,n,e,s);if(!(Yi===void 0?mi===_i||o(mi,_i,t,i,s):Yi)){Pt=!1;break}Qt||(Qt=fe=="constructor")}if(Pt&&!Qt){var Ni=n.constructor,en=e.constructor;Ni==en||!("constructor"in n)||!("constructor"in e)||typeof Ni=="function"&&Ni instanceof Ni&&typeof en=="function"&&en instanceof en||(Pt=!1)}return s.delete(n),s.delete(e),Pt};var Fo=a("./node_modules/lodash-es/_getTag.js"),Ho=1,xo="[object Arguments]",Co="[object Array]",go="[object Object]",Uo=Object.prototype.hasOwnProperty;const cr=function(n,e,t,i,o,s){var p=(0,Ie.Z)(n),B=(0,Ie.Z)(e),G=p?Co:(0,Fo.Z)(n),le=B?Co:(0,Fo.Z)(e),fe=(G=G==xo?go:G)==go,We=(le=le==xo?go:le)==go,it=G==le;if(it&&(0,wi.Z)(n)){if(!(0,wi.Z)(e))return!1;p=!0,fe=!1}if(it&&!fe)return s||(s=new ri.Z),p||(0,Ti.Z)(n)?Ki(n,e,t,i,o,s):ar(n,e,G,t,i,o,s);if(!(t&Ho)){var Pt=fe&&Uo.call(n,"__wrapped__"),Qt=We&&Uo.call(e,"__wrapped__");if(Pt||Qt){var mi=Pt?n.value():n,_i=Qt?e.value():e;return s||(s=new ri.Z),o(mi,_i,t,i,s)}}return!!it&&(s||(s=new ri.Z),lr(n,e,t,i,o,s))},oo=function n(e,t,i,o,s){return e===t||(e==null||t==null||!(0,Ut.Z)(e)&&!(0,Ut.Z)(t)?e!=e&&t!=t:cr(e,t,i,o,n,s))},Wo=function(n,e,t){var i=(t=typeof t=="function"?t:void 0)?t(n,e):void 0;return i===void 0?oo(n,e,void 0,t):!!i};class To extends oi{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.push(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,i=new Set,o=new Set;for(const p of e){const B=t.mapDomToView(p.target);B&&(B.is("uiElement")||B.is("rawElement")||p.type!=="childList"||this._isBogusBrMutation(p)||o.add(B))}for(const p of e){const B=t.mapDomToView(p.target);if((!B||!B.is("uiElement")&&!B.is("rawElement"))&&p.type==="characterData"){const G=t.findCorrespondingViewText(p.target);G&&!o.has(G.parent)?i.add(G):!G&&fn(p.target)&&o.add(t.mapDomToView(p.target.parentNode))}}let s=!1;for(const p of i)s=!0,this.renderer.markToSync("text",p);for(const p of o){const B=t.mapViewToDom(p),G=Array.from(p.getChildren()),le=Array.from(t.domChildrenToView(B,{withChildren:!1}));Wo(G,le,dr)||(s=!0,this.renderer.markToSync("children",p))}s&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function dr(n,e){if(!Array.isArray(n))return n===e||!(!n.is("$text")||!e.is("$text"))&&n.data===e.data}class Ao extends Wi{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),t.on("blur",(i,o)=>{const s=t.selection.editableElement;s!==null&&s!==o.target||(t.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Zo extends oi{constructor(e){super(e),this.mutationObserver=e.getObserver(To),this.focusObserver=e.getObserver(Ao),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=(0,bn.Z)(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=(0,bn.Z)(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,i=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",i,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",i,{priority:"highest",useCapture:!0}),this._documents.has(t)||(this.listenTo(t,"mouseup",i,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(o,s)=>{this.document.isComposing&&!r.OB.isAndroid||(this._handleSelectionChange(s,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_handleSelectionChange(e,t){if(!this.isEnabled)return;const i=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(i.anchorNode))return;this.mutationObserver.flush();const o=this.domConverter.domSelectionToView(i);if(o.rangeCount!=0){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(o)&&this.domConverter.isDomSelectionCorrect(i)||++this._loopbackCounter>60))if(this.focusObserver.flush(),this.selection.isSimilar(o))this.view.forceRender();else{const s={oldSelection:this.selection,newSelection:o,domSelection:i};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class So extends Wi{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class $o{constructor(e,t={}){this._files=t.cacheFiles?ro(e):null,this._native=e}get files(){return this._files||(this._files=ro(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function ro(n){const e=Array.from(n.files||[]),t=Array.from(n.items||[]);return e.length?e:t.filter(i=>i.kind==="file").map(i=>i.getAsFile())}class ur extends Wi{constructor(e){super(e),this.domEventType=["beforeinput"]}onDomEvent(e){const t=e.getTargetRanges(),i=this.view,o=i.document;let s=null,p=null,B=[];if(e.dataTransfer&&(s=new $o(e.dataTransfer)),e.data!==null?p=e.data:s&&(p=s.getData("text/plain")),o.selection.isFake)B=Array.from(o.selection.getRanges());else if(t.length)B=t.map(G=>i.domConverter.domRangeToView(G));else if(r.OB.isAndroid){const G=e.target.ownerDocument.defaultView.getSelection();B=Array.from(i.domConverter.domSelectionToView(G).getRanges())}if(r.OB.isAndroid&&e.inputType=="insertCompositionText"&&p&&p.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[i.createRange(B[0].end)]});else if(e.inputType=="insertText"&&p&&p.includes(`
`)){const G=p.split(/\n{1,2}/g);let le=B;for(let fe=0;fe<G.length;fe++){const We=G[fe];We!=""&&(this.fire(e.type,e,{data:We,dataTransfer:s,targetRanges:le,inputType:e.inputType,isComposing:e.isComposing}),le=[o.selection.getFirstRange()]),fe+1<G.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:le}),le=[o.selection.getFirstRange()])}}else this.fire(e.type,e,{data:p,dataTransfer:s,targetRanges:B,inputType:e.inputType,isComposing:e.isComposing})}}class qo extends oi{constructor(e){super(e),this.document.on("keydown",(t,i)=>{if(this.isEnabled&&(0,r.dj)(i.keyCode)){const o=new Ei(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(o,i),o.stop.called&&t.stop()}})}observe(){}}class Eo extends oi{constructor(e){super(e);const t=this.document;t.on("keydown",(i,o)=>{if(!this.isEnabled||o.keyCode!=r.Do.tab||o.ctrlKey)return;const s=new Ei(t,"tab",t.selection.getFirstRange());t.fire(s,o),s.stop.called&&i.stop()})}observe(){}}class Io extends(0,r.Re)(){constructor(e){super(),this.document=new Q(e),this.domConverter=new wt(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new j(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new Te(this.document),this.addObserver(To),this.addObserver(Ao),this.addObserver(Zo),this.addObserver(tn),this.addObserver(Pe),this.addObserver(So),this.addObserver(qo),this.addObserver(ur),this.addObserver(Eo),this.document.on("arrowKey",Dn,{priority:"low"}),ai(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(e,t="main"){const i=this.document.getRoot(t);i._name=e.tagName.toLowerCase();const o={};for(const{name:p,value:B}of Array.from(e.attributes))o[p]=B,p==="class"?this._writer.addClass(B.split(" "),i):this._writer.setAttribute(p,B,i);this._initialDomRootAttributes.set(e,o);const s=()=>{this._writer.setAttribute("contenteditable",(!i.isReadOnly).toString(),i),i.isReadOnly?this._writer.addClass("ck-read-only",i):this._writer.removeClass("ck-read-only",i)};s(),this.domRoots.set(t,e),this.domConverter.bindElements(e,i),this._renderer.markToSync("children",i),this._renderer.markToSync("attributes",i),this._renderer.domDocuments.add(e.ownerDocument),i.on("change:children",(p,B)=>this._renderer.markToSync("children",B)),i.on("change:attributes",(p,B)=>this._renderer.markToSync("attributes",B)),i.on("change:text",(p,B)=>this._renderer.markToSync("text",B)),i.on("change:isReadOnly",()=>this.change(s)),i.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const p of this._observers.values())p.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:o})=>t.removeAttribute(o));const i=this._initialDomRootAttributes.get(t);for(const o in i)t.setAttribute(o,i[o]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[i,o]of this.domRoots)t.observe(o,i);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection(){const e=this.document.selection.getFirstRange();e&&(0,r.mR)({target:this.domConverter.viewRangeToDom(e),viewportOffset:20})}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new r.Bb("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){r.Bb.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Ao).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return Ge._createAt(e,t)}createPositionAfter(e){return Ge._createAfter(e)}createPositionBefore(e){return Ge._createBefore(e)}createRange(...e){return new Ft(...e)}createRangeOn(e){return Ft._createOn(e)}createRangeIn(e){return Ft._createIn(e)}createSelection(...e){return new yi(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Un{is(){throw new Error("is() method is abstract")}}class Gn extends Un{constructor(e){super(),this.parent=null,this._attrs=(0,r.qL)(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new r.Bb("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new r.Bb("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}getCommonAncestor(e,t={}){const i=this.getAncestors(t),o=e.getAncestors(t);let s=0;for(;i[s]==o[s]&&i[s];)s++;return s===0?null:i[s-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),i=e.getPath(),o=(0,r.Rt)(t,i);switch(o){case"prefix":return!0;case"extension":return!1;default:return t[o]<i[o]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,i)=>(t[i[0]]=i[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=(0,r.qL)(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}Gn.prototype.is=function(n){return n==="node"||n==="model:node"};class so{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((i,o)=>i+o.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new r.Bb("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const i of this._nodes){if(e>=t&&e<t+i.offsetSize)return this.getNodeIndex(i);t+=i.offsetSize}if(t!=e)throw new r.Bb("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const i of t)if(!(i instanceof Gn))throw new r.Bb("model-nodelist-insertnodes-not-node",this);this._nodes=(0,r.x)(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class nn extends Gn{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new nn(this.data,this.getAttributes())}static fromJSON(e){return new nn(e.data,e.attributes)}}nn.prototype.is=function(n){return n==="$text"||n==="model:$text"||n==="text"||n==="model:text"||n==="node"||n==="model:node"};class Pn extends Un{constructor(e,t,i){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new r.Bb("model-textproxy-wrong-offsetintext",this);if(i<0||t+i>e.offsetSize)throw new r.Bb("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+i),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Pn.prototype.is=function(n){return n==="$textProxy"||n==="model:$textProxy"||n==="textProxy"||n==="model:textProxy"};class on extends Gn{constructor(e,t,i){super(t),this._children=new so,this.name=e,i&&this._insertChild(0,i)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const i of e)t=t.getChild(t.offsetToIndex(i));return t}findAncestor(e,t={}){let i=t.includeSelf?this:this.parent;for(;i;){if(i.name===e)return i;i=i.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(i=>i._clone(!0)):void 0;return new on(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const i=function(o){return typeof o=="string"?[new nn(o)]:((0,r.TW)(o)||(o=[o]),Array.from(o).map(s=>typeof s=="string"?new nn(s):s instanceof Pn?new nn(s.data,s.getAttributes()):s))}(t);for(const o of i)o.parent!==null&&o._remove(),o.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,t=1){const i=this._children._removeNodes(e,t);for(const o of i)o.parent=null;return i}static fromJSON(e){let t;if(e.children){t=[];for(const i of e.children)i.name?t.push(on.fromJSON(i)):t.push(nn.fromJSON(i))}return new on(e.name,e.attributes,t)}}on.prototype.is=function(n,e){return e?e===this.name&&(n==="element"||n==="model:element"):n==="element"||n==="model:element"||n==="node"||n==="model:node"};class Rn{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new r.Bb("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new r.Bb("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this.position=e.startPosition.clone():this.position=si._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(e){let t,i,o,s;do o=this.position,s=this._visitedParent,{done:t,value:i}=this.next();while(!t&&e(i));t||(this.position=o,this._visitedParent=s)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),i=this._visitedParent;if(i.parent===null&&t.offset===i.maxOffset)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const o=ao(t,i),s=o||po(t,i,o);if(s instanceof on)return this.shallow?t.offset++:(t.path.push(0),this._visitedParent=s),this.position=t,Vn("elementStart",s,e,t,1);if(s instanceof nn){let p;if(this.singleCharacters)p=1;else{let le=s.endOffset;this._boundaryEndParent==i&&this.boundaries.end.offset<le&&(le=this.boundaries.end.offset),p=le-t.offset}const B=t.offset-s.startOffset,G=new Pn(s,B,p);return t.offset+=p,this.position=t,Vn("text",G,e,t,p)}return t.path.pop(),t.offset++,this.position=t,this._visitedParent=i.parent,this.ignoreElementEnd?this._next():Vn("elementEnd",i,e,t)}_previous(){const e=this.position,t=this.position.clone(),i=this._visitedParent;if(i.parent===null&&t.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const o=t.parent,s=ao(t,o),p=s||Po(t,o,s);if(p instanceof on)return t.offset--,this.shallow?(this.position=t,Vn("elementStart",p,e,t,1)):(t.path.push(p.maxOffset),this.position=t,this._visitedParent=p,this.ignoreElementEnd?this._previous():Vn("elementEnd",p,e,t));if(p instanceof nn){let B;if(this.singleCharacters)B=1;else{let fe=p.startOffset;this._boundaryStartParent==i&&this.boundaries.start.offset>fe&&(fe=this.boundaries.start.offset),B=t.offset-fe}const G=t.offset-p.startOffset,le=new Pn(p,G-B,B);return t.offset-=B,this.position=t,Vn("text",le,e,t,B)}return t.path.pop(),this.position=t,this._visitedParent=i.parent,Vn("elementStart",i,e,t,1)}}function Vn(n,e,t,i,o){return{done:!1,value:{type:n,item:e,previousPosition:t,nextPosition:i,length:o}}}class si extends Un{constructor(e,t,i="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new r.Bb("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new r.Bb("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=i}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new r.Bb("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new r.Bb("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return ao(this,this.parent)}get nodeAfter(){const e=this.parent;return po(this,e,ao(this,e))}get nodeBefore(){const e=this.parent;return Po(this,e,ao(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=(0,r.Rt)(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const i=new Rn(t);return i.skip(e),i.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=(0,r.Rt)(this.path,e.path),i=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,i)}getCommonAncestor(e){const t=this.getAncestors(),i=e.getAncestors();let o=0;for(;t[o]==i[o]&&t[o];)o++;return o===0?null:t[o-1]}getShiftedBy(e){const t=this.clone(),i=t.offset+e;return t.offset=i<0?0:i,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let i=0;i<t;i++){const o=this.path[i]-e.path[i];if(o<-1||o>1)return!1;if(o===1)return fo(e,this,i);if(o===-1)return fo(this,e,i)}return this.path.length===e.path.length||(this.path.length>e.path.length?An(this.path,t):An(e.path,t))}hasSameParentAs(e){if(this.root!==e.root)return!1;const t=this.getParentPath(),i=e.getParentPath();return(0,r.Rt)(t,i)=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=si._createAt(this)}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange;let i;return t.containsPosition(this)||t.start.isEqual(this)?(i=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(i=i._getTransformedByDeletion(e.deletionPosition,1))):i=this.isEqual(e.deletionPosition)?si._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),i}_getTransformedByDeletion(e,t){const i=si._createAt(this);if(this.root!=e.root)return i;if((0,r.Rt)(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;i.offset-=t}}else if((0,r.Rt)(e.getParentPath(),this.getParentPath())=="prefix"){const o=e.path.length-1;if(e.offset<=this.path[o]){if(e.offset+t>this.path[o])return null;i.path[o]-=t}}return i}_getTransformedByInsertion(e,t){const i=si._createAt(this);if(this.root!=e.root)return i;if((0,r.Rt)(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(i.offset+=t);else if((0,r.Rt)(e.getParentPath(),this.getParentPath())=="prefix"){const o=e.path.length-1;e.offset<=this.path[o]&&(i.path[o]+=t)}return i}_getTransformedByMove(e,t,i){if(t=t._getTransformedByDeletion(e,i),e.isEqual(t))return si._createAt(this);const o=this._getTransformedByDeletion(e,i);return o===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(i).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):o._getTransformedByInsertion(t,i)}_getCombined(e,t){const i=e.path.length-1,o=si._createAt(t);return o.stickiness=this.stickiness,o.offset=o.offset+this.path[i]-e.offset,o.path=[...o.path,...this.path.slice(i+1)],o}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,i="toNone"){if(e instanceof si)return new si(e.root,e.path,e.stickiness);{const o=e;if(t=="end")t=o.maxOffset;else{if(t=="before")return this._createBefore(o,i);if(t=="after")return this._createAfter(o,i);if(t!==0&&!t)throw new r.Bb("model-createpositionat-offset-required",[this,e])}if(!o.is("element")&&!o.is("documentFragment"))throw new r.Bb("model-position-parent-incorrect",[this,e]);const s=o.getPath();return s.push(t),new this(o.root,s,i)}}static _createAfter(e,t){if(!e.parent)throw new r.Bb("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new r.Bb("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const i=new si(t.graveyard,e.path);return i.stickiness=e.stickiness,i}if(!t.getRoot(e.root))throw new r.Bb("model-position-fromjson-no-root",t,{rootName:e.root});return new si(t.getRoot(e.root),e.path,e.stickiness)}}function ao(n,e){const t=e.getChild(e.offsetToIndex(n.offset));return t&&t.is("$text")&&t.startOffset<n.offset?t:null}function po(n,e,t){return t!==null?null:e.getChild(e.offsetToIndex(n.offset))}function Po(n,e,t){return t!==null?null:e.getChild(e.offsetToIndex(n.offset)-1)}function fo(n,e,t){return t+1!==n.path.length&&!!An(e.path,t+1)&&!!function(i,o){let s=i.parent,p=i.path.length-1,B=0;for(;p>=o;){if(i.path[p]+B!==s.maxOffset)return!1;B=1,p--,s=s.parent}return!0}(n,t+1)}function An(n,e){for(;e<n.length;){if(n[e]!==0)return!1;e++}return!0}si.prototype.is=function(n){return n==="position"||n==="model:position"};class zt extends Un{constructor(e,t){super(),this.start=si._createAt(e),this.end=t?si._createAt(t):si._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Rn({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),t=this.end.getParentPath();return(0,r.Rt)(e,t)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),o=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&o}containsItem(e){const t=si._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new zt(this.start,e.start)),this.containsPosition(e.end)&&t.push(new zt(e.end,this.end))):t.push(new zt(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,i=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(i=e.end),new zt(t,i)}return null}getJoined(e,t=!1){let i=this.isIntersecting(e);if(i||(i=this.start.isBefore(e.start)?t?this.end.isTouching(e.start):this.end.isEqual(e.start):t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!i)return null;let o=this.start,s=this.end;return e.start.isBefore(o)&&(o=e.start),e.end.isAfter(s)&&(s=e.end),new zt(o,s)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,i=si._createAt(this.start);let o=i.parent;for(;i.path.length>t+1;){const s=o.maxOffset-i.offset;s!==0&&e.push(new zt(i,i.getShiftedBy(s))),i.path=i.path.slice(0,-1),i.offset++,o=o.parent}for(;i.path.length<=this.end.path.length;){const s=this.end.path[i.path.length-1],p=s-i.offset;p!==0&&e.push(new zt(i,i.getShiftedBy(p))),i.offset=s,i.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Rn(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Rn(e);for(const i of t)yield i.item}*getPositions(e={}){e.boundaries=this;const t=new Rn(e);yield t.position;for(const i of t)yield i.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new zt(this.start,this.end)]}getTransformedByOperations(e){const t=[new zt(this.start,this.end)];for(const i of e)for(let o=0;o<t.length;o++){const s=t[o].getTransformedByOperation(i);t.splice(o,1,...s),o+=s.length-1}for(let i=0;i<t.length;i++){const o=t[i];for(let s=i+1;s<t.length;s++){const p=t[s];(o.containsRange(p)||p.containsRange(o)||o.isEqual(p))&&t.splice(s,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const i=e.sourcePosition,o=e.howMany,s=e.targetPosition;return this._getTransformedByMove(i,s,o,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let i=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(i=this.end.getShiftedBy(1)),t.root!=i.root&&(i=this.end.getShiftedBy(-1)),new zt(t,i)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new zt(this.start);let t=this.start._getTransformedByMergeOperation(e),i=this.end._getTransformedByMergeOperation(e);return t.root!=i.root&&(i=this.end.getShiftedBy(-1)),t.isAfter(i)?(e.sourcePosition.isBefore(e.targetPosition)?(t=si._createAt(i),t.offset=0):(e.deletionPosition.isEqual(t)||(i=e.deletionPosition),t=e.targetPosition),new zt(t,i)):new zt(t,i)}_getTransformedByInsertion(e,t,i=!1){if(i&&this.containsPosition(e))return[new zt(this.start,e),new zt(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const o=new zt(this.start,this.end);return o.start=o.start._getTransformedByInsertion(e,t),o.end=o.end._getTransformedByInsertion(e,t),[o]}}_getTransformedByMove(e,t,i,o=!1){if(this.isCollapsed){const We=this.start._getTransformedByMove(e,t,i);return[new zt(We)]}const s=zt._createFromPositionAndShift(e,i),p=t._getTransformedByDeletion(e,i);if(this.containsPosition(t)&&!o&&(s.containsPosition(this.start)||s.containsPosition(this.end))){const We=this.start._getTransformedByMove(e,t,i),it=this.end._getTransformedByMove(e,t,i);return[new zt(We,it)]}let B;const G=this.getDifference(s);let le=null;const fe=this.getIntersection(s);if(G.length==1?le=new zt(G[0].start._getTransformedByDeletion(e,i),G[0].end._getTransformedByDeletion(e,i)):G.length==2&&(le=new zt(this.start,this.end._getTransformedByDeletion(e,i))),B=le?le._getTransformedByInsertion(p,i,fe!==null||o):[],fe){const We=new zt(fe.start._getCombined(s.start,p),fe.end._getCombined(s.start,p));B.length==2?B.splice(1,0,We):B.push(We)}return B}_getTransformedByDeletion(e,t){let i=this.start._getTransformedByDeletion(e,t),o=this.end._getTransformedByDeletion(e,t);return i==null&&o==null?null:(i==null&&(i=e),o==null&&(o=e),new zt(i,o))}static _createFromPositionAndShift(e,t){const i=e,o=e.getShiftedBy(t);return t>0?new this(i,o):new this(o,i)}static _createIn(e){return new this(si._createAt(e,0),si._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(si._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new r.Bb("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((s,p)=>s.start.isAfter(p.start)?1:-1);const i=e.indexOf(t),o=new this(t.start,t.end);if(i>0)for(let s=i-1;e[s].end.isEqual(o.start);s++)o.start=si._createAt(e[s].start);for(let s=i+1;s<e.length&&e[s].start.isEqual(o.end);s++)o.end=si._createAt(e[s].end);return o}static fromJSON(e,t){return new this(si.fromJSON(e.start,t),si.fromJSON(e.end,t))}}zt.prototype.is=function(n){return n==="range"||n==="model:range"};class bo extends(0,r.ln)(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const i=this._modelToViewMapping.get(t.modelPosition.parent);if(!i)throw new r.Bb("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(i,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const i=this.findMappedViewAncestor(t.viewPosition),o=this._viewToModelMapping.get(i),s=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,i);t.modelPosition=si._createAt(o,s)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const i=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const o of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(o);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(i)==e&&this._modelToViewMapping.delete(i))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const i=this._markerNameToElements.get(t)||new Set;i.add(e);const o=this._elementToMarkerNames.get(e)||new Set;o.add(t),this._markerNameToElements.set(t,i),this._elementToMarkerNames.set(e,o)}unbindElementFromMarkerName(e,t){const i=this._markerNameToElements.get(t);i&&(i.delete(e),i.size==0&&this._markerNameToElements.delete(t));const o=this._elementToMarkerNames.get(e);o&&(o.delete(t),o.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new zt(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Ft(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const i={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",i),i.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const i=new Set;for(const o of t)if(o.is("attributeElement"))for(const s of o.getElementsWithSameId())i.add(s);else i.add(o);return i}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,i){if(i!=e)return this._toModelOffset(e.parent,e.index,i)+this._toModelOffset(e,t,e);if(e.is("$text"))return t;let o=0;for(let s=0;s<t;s++)o+=this.getModelLength(e.getChild(s));return o}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const i of e.getChildren())t+=this.getModelLength(i);return t}}findPositionIn(e,t){let i,o=0,s=0,p=0;if(e.is("$text"))return new Ge(e,t);for(;s<t;)i=e.getChild(p),o=this.getModelLength(i),s+=o,p++;return s==t?this._moveViewPositionToTextNode(new Ge(e,p)):this.findPositionIn(i,t-(s-o))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,i=e.nodeAfter;return t instanceof L?new Ge(t,t.data.length):i instanceof L?new Ge(i,0):e}}class Ko{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=wo(t),e instanceof Pn&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=wo(t),e instanceof Pn&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=wo(t),e instanceof Pn&&(e=this._getSymbolForTextProxy(e));const i=this._consumable.get(e);if(i===void 0)return null;const o=i.get(t);return o===void 0?null:o}revert(e,t){t=wo(t),e instanceof Pn&&(e=this._getSymbolForTextProxy(e));const i=this.test(e,t);return i===!1?(this._consumable.get(e).set(t,!0),!0):i!==!0&&null}verifyAllConsumed(e){const t=[];for(const[i,o]of this._consumable)for(const[s,p]of o){const B=s.split(":")[0];p&&e==B&&t.push({event:s,item:i.name||i.description})}if(t.length)throw new r.Bb("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const i=this._textProxyRegistry.get(e.startOffset);if(i){const o=i.get(e.endOffset);o&&(t=o.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,i=e.endOffset,o=e.parent,s=Symbol("$textProxy:"+e.data);let p,B;return p=this._textProxyRegistry.get(t),p||(p=new Map,this._textProxyRegistry.set(t,p)),B=p.get(i),B||(B=new Map,p.set(i,B)),B.set(o,s),s}}function wo(n){const e=n.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?n:e.length>1?e[0]+":"+e[1]:e[0]}class ko extends(0,r.ln)(){constructor(e){super(),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,t,i){const o=this._createConversionApi(i,e.getRefreshedItems());for(const p of e.getMarkersToRemove())this._convertMarkerRemove(p.name,p.range,o);const s=this._reduceChanges(e.getChanges());for(const p of s)p.type==="insert"?this._convertInsert(zt._createFromPositionAndShift(p.position,p.length),o):p.type==="reinsert"?this._convertReinsert(zt._createFromPositionAndShift(p.position,p.length),o):p.type==="remove"?this._convertRemove(p.position,p.length,p.name,o):this._convertAttribute(p.range,p.attributeKey,p.attributeOldValue,p.attributeNewValue,o);for(const p of o.mapper.flushUnboundMarkerNames()){const B=t.get(p).getRange();this._convertMarkerRemove(p,B,o),this._convertMarkerAdd(p,B,o)}for(const p of e.getMarkersToAdd())this._convertMarkerAdd(p.name,p.range,o);o.mapper.flushDeferredBindings(),o.consumable.verifyAllConsumed("insert")}convert(e,t,i,o={}){const s=this._createConversionApi(i,void 0,o);this._convertInsert(e,s);for(const[p,B]of t)this._convertMarkerAdd(p,B,s);s.consumable.verifyAllConsumed("insert")}convertSelection(e,t,i){const o=Array.from(t.getMarkersAtPosition(e.getFirstPosition())),s=this._createConversionApi(i);if(this._addConsumablesForSelection(s.consumable,e,o),this.fire("selection",{selection:e},s),e.isCollapsed){for(const p of o){const B=p.getRange();if(!ln(e.getFirstPosition(),p,s.mapper))continue;const G={item:e,markerName:p.name,markerRange:B};s.consumable.test(e,"addMarker:"+p.name)&&this.fire(`addMarker:${p.name}`,G,s)}for(const p of e.getAttributeKeys()){const B={item:e,range:e.getFirstRange(),attributeKey:p,attributeOldValue:null,attributeNewValue:e.getAttribute(p)};s.consumable.test(e,"attribute:"+B.attributeKey)&&this.fire(`attribute:${B.attributeKey}:$text`,B,s)}}}_convertInsert(e,t,i={}){i.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,Array.from(e));for(const o of Array.from(e.getWalker({shallow:!0})).map(Go))this._testAndFire("insert",o,t)}_convertRemove(e,t,i,o){this.fire(`remove:${i}`,{position:e,length:t},o)}_convertAttribute(e,t,i,o,s){this._addConsumablesForRange(s.consumable,e,`attribute:${t}`);for(const p of e){const B={item:p.item,range:zt._createFromPositionAndShift(p.previousPosition,p.length),attributeKey:t,attributeOldValue:i,attributeNewValue:o};this._testAndFire(`attribute:${t}`,B,s)}}_convertReinsert(e,t){const i=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,i);for(const o of i.map(Go))this._testAndFire("insert",{...o,reconversion:!0},t)}_convertMarkerAdd(e,t,i){if(t.root.rootName=="$graveyard")return;const o=`addMarker:${e}`;if(i.consumable.add(t,o),this.fire(o,{markerName:e,markerRange:t},i),i.consumable.consume(t,o)){this._addConsumablesForRange(i.consumable,t,o);for(const s of t.getItems()){if(!i.consumable.test(s,o))continue;const p={item:s,range:zt._createOn(s),markerName:e,markerRange:t};this.fire(o,p,i)}}}_convertMarkerRemove(e,t,i){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},i)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const i of t){const o=i.item;if(e.test(o,"insert")===null){e.add(o,"insert");for(const s of o.getAttributeKeys())e.add(o,"attribute:"+s)}}return e}_addConsumablesForRange(e,t,i){for(const o of t.getItems())e.add(o,i);return e}_addConsumablesForSelection(e,t,i){e.add(t,"selection");for(const o of i)e.add(t,"addMarker:"+o.name);for(const o of t.getAttributeKeys())e.add(t,"attribute:"+o);return e}_testAndFire(e,t,i){const o=function(G,le){const fe=le.item.is("element")?le.item.name:"$text";return`${G}:${fe}`}(e,t),s=t.item.is("$textProxy")?i.consumable._getSymbolForTextProxy(t.item):t.item,p=this._firedEventsMap.get(i),B=p.get(s);if(B){if(B.has(o))return;B.add(o)}else p.set(s,new Set([o]));this.fire(o,t,i)}_testAndFireAddAttributes(e,t){const i={item:e,range:zt._createOn(e)};for(const o of i.item.getAttributeKeys())i.attributeKey=o,i.attributeOldValue=null,i.attributeNewValue=i.item.getAttribute(o),this._testAndFire(`attribute:${o}`,i,t)}_createConversionApi(e,t=new Set,i={}){const o={...this._conversionApi,consumable:new Ko,writer:e,options:i,convertItem:s=>this._convertInsert(zt._createOn(s),o),convertChildren:s=>this._convertInsert(zt._createIn(s),o,{doNotAddConsumables:!0}),convertAttributes:s=>this._testAndFireAddAttributes(s,o),canReuseView:s=>!t.has(o.mapper.toModelElement(s))};return this._firedEventsMap.set(o,new Map),o}}function ln(n,e,t){const i=e.getRange(),o=Array.from(n.getAncestors());return o.shift(),o.reverse(),!o.some(s=>{if(i.containsItem(s))return!!t.toViewElement(s).getCustomProperty("addHighlight")})}function Go(n){return{item:n.item,range:zt._createFromPositionAndShift(n.previousPosition,n.length)}}class On extends(0,r.ln)(Un){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let i=!1;for(const o of e._ranges)if(t.isEqual(o)){i=!0;break}if(!i)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new zt(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?new zt(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?new zt(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,i,o]=e;if(typeof i=="object"&&(o=i,i=void 0),t===null)this._setRanges([]);else if(t instanceof On)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof zt)this._setRanges([t],!!o&&!!o.backward);else if(t instanceof si)this._setRanges([new zt(t)]);else if(t instanceof Gn){const s=!!o&&!!o.backward;let p;if(i=="in")p=zt._createIn(t);else if(i=="on")p=zt._createOn(t);else{if(i===void 0)throw new r.Bb("model-selection-setto-required-second-parameter",[this,t]);p=new zt(si._createAt(t,i))}this._setRanges([p],s)}else{if(!(0,r.TW)(t))throw new r.Bb("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,o&&!!o.backward)}}_setRanges(e,t=!1){const i=Array.from(e),o=i.some(s=>{if(!(s instanceof zt))throw new r.Bb("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(p=>!p.isEqual(s))});(i.length!==this._ranges.length||o)&&(this._replaceAllRanges(i),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new r.Bb("model-selection-setfocus-no-ranges",[this,e]);const i=si._createAt(e,t);if(i.compareWith(this.focus)=="same")return;const o=this.anchor;this._ranges.length&&this._popRange(),i.compareWith(o)=="before"?(this._pushRange(new zt(i,o)),this._lastRangeBackward=!0):(this._pushRange(new zt(o,i)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const i=b(t.start,e);i&&M(i,t)&&(yield i);for(const s of t.getWalker()){const p=s.item;s.type=="elementEnd"&&l(p,e,t)&&(yield p)}const o=b(t.end,e);o&&!t.end.isTouching(si._createAt(o,0))&&M(o,t)&&(yield o)}}containsEntireContent(e=this.anchor.root){const t=si._createAt(e,0),i=si._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&i.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new zt(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new r.Bb("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function X(n,e){return!e.has(n)&&(e.add(n),n.root.document.model.schema.isBlock(n)&&!!n.parent)}function l(n,e,t){return X(n,e)&&M(n,t)}function b(n,e){const t=n.parent.root.document.model.schema,i=n.parent.getAncestors({parentFirst:!0,includeSelf:!0});let o=!1;const s=i.find(p=>!o&&(o=t.isLimit(p),!o&&X(p,e)));return i.forEach(p=>e.add(p)),s}function M(n,e){const t=function(i){const o=i.root.document.model.schema;let s=i.parent;for(;s;){if(o.isBlock(s))return s;s=s.parent}}(n);return t?!e.containsRange(zt._createOn(t),!0):!0}On.prototype.is=function(n){return n==="selection"||n==="model:selection"};class A extends(0,r.ln)(zt){constructor(e,t){super(e,t),$.call(this)}detach(){this.stopListening()}toRange(){return new zt(this.start,this.end)}static fromRange(e){return new A(e.start,e.end)}}function $(){this.listenTo(this.root.document.model,"applyOperation",(n,e)=>{const t=e[0];t.isDocumentOperation&&K.call(this,t)},{priority:"low"})}function K(n){const e=this.getTransformedByOperation(n),t=zt._createFromRanges(e),i=!t.isEqual(this),o=function(p,B){switch(B.type){case"insert":return p.containsPosition(B.position);case"move":case"remove":case"reinsert":case"merge":return p.containsPosition(B.sourcePosition)||p.start.isEqual(B.sourcePosition)||p.containsPosition(B.targetPosition);case"split":return p.containsPosition(B.splitPosition)||p.containsPosition(B.insertionPosition)}return!1}(this,n);let s=null;if(i){t.root.rootName=="$graveyard"&&(s=n.type=="remove"?n.sourcePosition:n.deletionPosition);const p=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",p,{deletionPosition:s})}else o&&this.fire("change:content",this.toRange(),{deletionPosition:s})}A.prototype.is=function(n){return n==="liveRange"||n==="model:liveRange"||n=="range"||n==="model:range"};const ie="selection:";class oe extends(0,r.ln)(Un){constructor(e){super(),this._selection=new xe(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return ie+e}static _isStoreAttributeKey(e){return e.startsWith(ie)}}oe.prototype.is=function(n){return n==="selection"||n=="model:selection"||n=="documentSelection"||n=="model:documentSelection"};class xe extends On{constructor(e){super(),this.markers=new r.FE({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,i)=>{const o=i[0];o.isDocumentOperation&&o.type!="marker"&&o.type!="rename"&&o.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,i,o,s)=>{this._updateMarker(i,s)}),this.listenTo(this._document,"change",(t,i)=>{(function(o,s){const p=o.document.differ;for(const B of p.getChanges()){if(B.type!="insert")continue;const G=B.position.parent;B.length===G.maxOffset&&o.enqueueChange(s,le=>{const fe=Array.from(G.getAttributeKeys()).filter(We=>We.startsWith(ie));for(const We of fe)le.removeAttribute(We,G)})}})(this._model,i)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const i=[e];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=(0,r.hQ)();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new r.Bb("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new r.Bb("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=A.fromRange(e);return t.on("change:range",(i,o,s)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=s.deletionPosition;const p=this._ranges.indexOf(t);this._ranges.splice(p,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const o of this._model.markers){const s=o.name.split(":",1)[0];if(!this._observedMarkers.has(s))continue;const p=o.getRange();for(const B of this.getRanges())p.containsRange(B,!B.isCollapsed)&&e.push(o)}const i=Array.from(this.markers);for(const o of e)this.markers.has(o)||(this.markers.add(o),t=!0);for(const o of Array.from(this.markers))e.includes(o)||(this.markers.remove(o),t=!0);t&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}_updateMarker(e,t){const i=e.name.split(":",1)[0];if(!this._observedMarkers.has(i))return;let o=!1;const s=Array.from(this.markers),p=this.markers.has(e);if(t){let B=!1;for(const G of this.getRanges())if(t.containsRange(G,!G.isCollapsed)){B=!0;break}B&&!p?(this.markers.add(e),o=!0):!B&&p&&(this.markers.remove(e),o=!0)}else p&&(this.markers.remove(e),o=!0);o&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateAttributes(e){const t=(0,r.qL)(this._getSurroundingAttributes()),i=(0,r.qL)(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[s,p]of this._attributePriority)p=="low"&&(this._attrs.delete(s),this._attributePriority.delete(s));this._setAttributesTo(t);const o=[];for(const[s,p]of this.getAttributes())i.has(s)&&i.get(s)===p||o.push(s);for(const[s]of i)this.hasAttribute(s)||o.push(s);o.length>0&&this.fire("change:attribute",{attributeKeys:o,directChange:!1})}_setAttribute(e,t,i=!0){const o=i?"normal":"low";return o=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,o),!0)}_removeAttribute(e,t=!0){const i=t?"normal":"low";return(i!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,i),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const t=new Set;for(const[i,o]of this.getAttributes())e.get(i)!==o&&this._removeAttribute(i,!1);for(const[i,o]of e)this._setAttribute(i,o,!1)&&t.add(i);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(ie)&&(yield[t.substr(ie.length),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;let i=null;if(this.isCollapsed){const o=e.textNode?e.textNode:e.nodeBefore,s=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(i=Oe(o)),i||(i=Oe(s)),!this.isGravityOverridden&&!i){let p=o;for(;p&&!t.isInline(p)&&!i;)p=p.previousSibling,i=Oe(p)}if(!i){let p=s;for(;p&&!t.isInline(p)&&!i;)p=p.nextSibling,i=Oe(p)}i||(i=this.getStoredAttributes())}else{const o=this.getFirstRange();for(const s of o){if(s.item.is("element")&&t.isObject(s.item))break;if(s.type=="text"){i=s.item.getAttributes();break}}}return i}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function Oe(n){return n instanceof Pn||n instanceof nn?n.getAttributes():null}class Xe{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}var pt=1,Vt=4;const ei=function(n){return(0,w.Z)(n,pt|Vt)};class qt extends Xe{elementToElement(e){return this.add(function(t){const i=Ci(t.model),o=Hi(t.view,"container");return i.attributes.length&&(i.children=!0),s=>{s.on(`insert:${i.name}`,function(p,B=Ue){return(G,le,fe)=>{if(!B(le.item,fe.consumable,{preflight:!0}))return;const We=p(le.item,fe,le);if(!We)return;B(le.item,fe.consumable);const it=fe.mapper.toViewPosition(le.range.start);fe.mapper.bindElements(le.item,We),fe.writer.insert(it,We),fe.convertAttributes(le.item),ne(We,le.item.getChildren(),fe,{reconversion:le.reconversion})}}(o,Yn(i)),{priority:t.converterPriority||"normal"}),(i.children||i.attributes.length)&&s.on("reduceChanges",Xi(i),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(t){const i=Ci(t.model),o=Hi(t.view,"container");return i.children=!0,s=>{if(s._conversionApi.schema.checkChild(i.name,"$text"))throw new r.Bb("conversion-element-to-structure-disallowed-text",s,{elementName:i.name});var p,B;s.on(`insert:${i.name}`,(p=o,B=Yn(i),(G,le,fe)=>{if(!B(le.item,fe.consumable,{preflight:!0}))return;const We=new Map;fe.writer._registerSlotFactory(function(Qt,mi,_i){return(Yi,Ni="children")=>{const en=Yi.createContainerElement("$slot");let En=null;if(Ni==="children")En=Array.from(Qt.getChildren());else{if(typeof Ni!="function")throw new r.Bb("conversion-slot-mode-unknown",_i.dispatcher,{modeOrFilter:Ni});En=Array.from(Qt.getChildren()).filter(_o=>Ni(_o))}return mi.set(en,En),en}}(le.item,We,fe));const it=p(le.item,fe,le);if(fe.writer._clearSlotFactory(),!it)return;(function(Qt,mi,_i){const Yi=Array.from(mi.values()).flat(),Ni=new Set(Yi);if(Ni.size!=Yi.length)throw new r.Bb("conversion-slot-filter-overlap",_i.dispatcher,{element:Qt});if(Ni.size!=Qt.childCount)throw new r.Bb("conversion-slot-filter-incomplete",_i.dispatcher,{element:Qt})})(le.item,We,fe),B(le.item,fe.consumable);const Pt=fe.mapper.toViewPosition(le.range.start);fe.mapper.bindElements(le.item,it),fe.writer.insert(Pt,it),fe.convertAttributes(le.item),function(Qt,mi,_i,Yi){_i.mapper.on("modelToViewPosition",En,{priority:"highest"});let Ni=null,en=null;for([Ni,en]of mi)ne(Qt,en,_i,Yi),_i.writer.move(_i.writer.createRangeIn(Ni),_i.writer.createPositionBefore(Ni)),_i.writer.remove(Ni);function En(_o,Kn){const ba=Kn.modelPosition.nodeAfter,us=en.indexOf(ba);us<0||(Kn.viewPosition=Kn.mapper.findPositionIn(Ni,us))}_i.mapper.off("modelToViewPosition",En)}(it,We,fe,{reconversion:le.reconversion})}),{priority:t.converterPriority||"normal"}),s.on("reduceChanges",Xi(i),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(t){t=ei(t);let i=t.model;typeof i=="string"&&(i={key:i});let o=`attribute:${i.key}`;if(i.name&&(o+=":"+i.name),i.values)for(const p of i.values)t.view[p]=Hi(t.view[p],"attribute");else t.view=Hi(t.view,"attribute");const s=Gi(t);return p=>{p.on(o,function(B){return(G,le,fe)=>{if(!fe.consumable.test(le.item,G.name))return;const We=B(le.attributeOldValue,fe,le),it=B(le.attributeNewValue,fe,le);if(!We&&!it)return;fe.consumable.consume(le.item,G.name);const Pt=fe.writer,Qt=Pt.document.selection;if(le.item instanceof On||le.item instanceof oe)Pt.wrap(Qt.getFirstRange(),it);else{let mi=fe.mapper.toViewRange(le.range);le.attributeOldValue!==null&&We&&(mi=Pt.unwrap(mi,We)),le.attributeNewValue!==null&&it&&Pt.wrap(mi,it)}}}(s),{priority:t.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=ei(t);let i=t.model;typeof i=="string"&&(i={key:i});let o=`attribute:${i.key}`;if(i.name&&(o+=":"+i.name),i.values)for(const p of i.values)t.view[p]=un(t.view[p]);else t.view=un(t.view);const s=Gi(t);return p=>{var B;p.on(o,(B=s,(G,le,fe)=>{if(!fe.consumable.test(le.item,G.name))return;const We=B(le.attributeOldValue,fe,le),it=B(le.attributeNewValue,fe,le);if(!We&&!it)return;fe.consumable.consume(le.item,G.name);const Pt=fe.mapper.toViewElement(le.item),Qt=fe.writer;if(!Pt)throw new r.Bb("conversion-attribute-to-attribute-on-text",fe.dispatcher,le);if(le.attributeOldValue!==null&&We)if(We.key=="class"){const mi=(0,r.qo)(We.value);for(const _i of mi)Qt.removeClass(_i,Pt)}else if(We.key=="style"){const mi=Object.keys(We.value);for(const _i of mi)Qt.removeStyle(_i,Pt)}else Qt.removeAttribute(We.key,Pt);if(le.attributeNewValue!==null&&it)if(it.key=="class"){const mi=(0,r.qo)(it.value);for(const _i of mi)Qt.addClass(_i,Pt)}else if(it.key=="style"){const mi=Object.keys(it.value);for(const _i of mi)Qt.setStyle(_i,it.value[_i],Pt)}else Qt.setAttribute(it.key,it.value,Pt)}),{priority:t.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(t){const i=Hi(t.view,"ui");return o=>{var s;o.on(`addMarker:${t.model}`,(s=i,(p,B,G)=>{B.isOpening=!0;const le=s(B,G);B.isOpening=!1;const fe=s(B,G);if(!le||!fe)return;const We=B.markerRange;if(We.isCollapsed&&!G.consumable.consume(We,p.name))return;for(const Qt of We)if(!G.consumable.consume(Qt.item,p.name))return;const it=G.mapper,Pt=G.writer;Pt.insert(it.toViewPosition(We.start),le),G.mapper.bindElementToMarker(le,B.markerName),We.isCollapsed||(Pt.insert(it.toViewPosition(We.end),fe),G.mapper.bindElementToMarker(fe,B.markerName)),p.stop()}),{priority:t.converterPriority||"normal"}),o.on(`removeMarker:${t.model}`,(p,B,G)=>{const le=G.mapper.markerNameToElements(B.markerName);if(le){for(const fe of le)G.mapper.unbindElementFromMarkerName(fe,B.markerName),G.writer.clear(G.writer.createRangeOn(fe),fe);G.writer.clearClonedElementsGroup(B.markerName),p.stop()}},{priority:t.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(t){return i=>{var o;i.on(`addMarker:${t.model}`,(o=t.view,(s,p,B)=>{if(!p.item||!(p.item instanceof On||p.item instanceof oe||p.item.is("$textProxy")))return;const G=kn(o,p,B);if(!G||!B.consumable.consume(p.item,s.name))return;const le=B.writer,fe=di(le,G),We=le.document.selection;if(p.item instanceof On||p.item instanceof oe)le.wrap(We.getFirstRange(),fe);else{const it=B.mapper.toViewRange(p.range),Pt=le.wrap(it,fe);for(const Qt of Pt.getItems())if(Qt.is("attributeElement")&&Qt.isSimilar(fe)){B.mapper.bindElementToMarker(Qt,p.markerName);break}}}),{priority:t.converterPriority||"normal"}),i.on(`addMarker:${t.model}`,function(s){return(p,B,G)=>{if(!B.item||!(B.item instanceof on))return;const le=kn(s,B,G);if(!le||!G.consumable.test(B.item,p.name))return;const fe=G.mapper.toViewElement(B.item);if(fe&&fe.getCustomProperty("addHighlight")){G.consumable.consume(B.item,p.name);for(const We of zt._createIn(B.item))G.consumable.consume(We.item,p.name);fe.getCustomProperty("addHighlight")(fe,le,G.writer),G.mapper.bindElementToMarker(fe,B.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),i.on(`removeMarker:${t.model}`,function(s){return(p,B,G)=>{if(B.markerRange.isCollapsed)return;const le=kn(s,B,G);if(!le)return;const fe=di(G.writer,le),We=G.mapper.markerNameToElements(B.markerName);if(We){for(const it of We)G.mapper.unbindElementFromMarkerName(it,B.markerName),it.is("attributeElement")?G.writer.unwrap(G.writer.createRangeOn(it),fe):it.getCustomProperty("removeHighlight")(it,le.id,G.writer);G.writer.clearClonedElementsGroup(B.markerName),p.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(t){t=ei(t);const i=t.model;let o=t.view;return o||(o=s=>({group:i,name:s.substr(t.model.length+1)})),s=>{var p;s.on(`addMarker:${i}`,(p=o,(B,G,le)=>{const fe=p(G.markerName,le);if(!fe)return;const We=G.markerRange;le.consumable.consume(We,B.name)&&(ki(We,!1,le,G,fe),ki(We,!0,le,G,fe),B.stop())}),{priority:t.converterPriority||"normal"}),s.on(`removeMarker:${i}`,function(B){return(G,le,fe)=>{const We=B(le.markerName,fe);if(!We)return;const it=fe.mapper.markerNameToElements(le.markerName);if(it){for(const Qt of it)fe.mapper.unbindElementFromMarkerName(Qt,le.markerName),Qt.is("containerElement")?(Pt(`data-${We.group}-start-before`,Qt),Pt(`data-${We.group}-start-after`,Qt),Pt(`data-${We.group}-end-before`,Qt),Pt(`data-${We.group}-end-after`,Qt)):fe.writer.clear(fe.writer.createRangeOn(Qt),Qt);fe.writer.clearClonedElementsGroup(le.markerName),G.stop()}function Pt(Qt,mi){if(mi.hasAttribute(Qt)){const _i=new Set(mi.getAttribute(Qt).split(","));_i.delete(We.name),_i.size==0?fe.writer.removeAttribute(Qt,mi):fe.writer.setAttribute(Qt,Array.from(_i).join(","),mi)}}}}(o),{priority:t.converterPriority||"normal"})}}(e))}}function di(n,e){const t=n.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function ki(n,e,t,i,o){const s=e?n.start:n.end,p=s.nodeAfter&&s.nodeAfter.is("element")?s.nodeAfter:null,B=s.nodeBefore&&s.nodeBefore.is("element")?s.nodeBefore:null;if(p||B){let G,le;e&&p||!e&&!B?(G=p,le=!0):(G=B,le=!1);const fe=t.mapper.toViewElement(G);if(fe)return void function(We,it,Pt,Qt,mi,_i){const Yi=`data-${_i.group}-${it?"start":"end"}-${Pt?"before":"after"}`,Ni=We.hasAttribute(Yi)?We.getAttribute(Yi).split(","):[];Ni.unshift(_i.name),Qt.writer.setAttribute(Yi,Ni.join(","),We),Qt.mapper.bindElementToMarker(We,mi.markerName)}(fe,e,le,t,i,o)}(function(G,le,fe,We,it){const Pt=`${it.group}-${le?"start":"end"}`,Qt=it.name?{name:it.name}:null,mi=fe.writer.createUIElement(Pt,Qt);fe.writer.insert(G,mi),fe.mapper.bindElementToMarker(mi,We.markerName)})(t.mapper.toViewPosition(s),e,t,i,o)}function Ci(n){return typeof n=="string"&&(n={name:n}),n.attributes?Array.isArray(n.attributes)||(n.attributes=[n.attributes]):n.attributes=[],n.children=!!n.children,n}function Hi(n,e){return typeof n=="function"?n:(t,i)=>function(o,s,p){typeof o=="string"&&(o={name:o});let B;const G=s.writer,le=Object.assign({},o.attributes);if(p=="container")B=G.createContainerElement(o.name,le);else if(p=="attribute"){const fe={priority:o.priority||R.DEFAULT_PRIORITY};B=G.createAttributeElement(o.name,le,fe)}else B=G.createUIElement(o.name,le);if(o.styles){const fe=Object.keys(o.styles);for(const We of fe)G.setStyle(We,o.styles[We],B)}if(o.classes){const fe=o.classes;if(typeof fe=="string")G.addClass(fe,B);else for(const We of fe)G.addClass(We,B)}return B}(n,i,e)}function Gi(n){return n.model.values?(e,t,i)=>{const o=n.view[e];return o?o(e,t,i):null}:n.view}function un(n){return typeof n=="string"?e=>({key:n,value:e}):typeof n=="object"?n.value?()=>n:e=>({key:n.key,value:e}):n}function kn(n,e,t){const i=typeof n=="function"?n(e,t):n;return i?(i.priority||(i.priority=10),i.id||(i.id=e.markerName),i):null}function Xi(n){const e=function(t){return(i,o)=>{if(!i.is("element",t.name))return!1;if(o.type=="attribute"){if(t.attributes.includes(o.attributeKey))return!0}else if(t.children)return!0;return!1}}(n);return(t,i)=>{const o=[];i.reconvertedElements||(i.reconvertedElements=new Set);for(const s of i.changes){const p=s.type=="attribute"?s.range.start.nodeAfter:s.position.parent;if(p&&e(p,s)){if(!i.reconvertedElements.has(p)){i.reconvertedElements.add(p);const B=si._createBefore(p);o.push({type:"remove",name:p.name,position:B,length:1},{type:"reinsert",name:p.name,position:B,length:1})}}else o.push(s)}i.changes=o}}function Yn(n){return(e,t,i={})=>{const o=["insert"];for(const s of n.attributes)e.hasAttribute(s)&&o.push(`attribute:${s}`);return!!o.every(s=>t.test(e,s))&&(i.preflight||o.forEach(s=>t.consume(e,s)),!0)}}function ne(n,e,t,i){for(const o of e)ce(n.root,o,t,i)||t.convertItem(o)}function ce(n,e,t,i){const{writer:o,mapper:s}=t;if(!i.reconversion)return!1;const p=s.toViewElement(e);return!(!p||p.root==n)&&!!t.canReuseView(p)&&(o.move(o.createRangeOn(p),s.toViewPosition(si._createBefore(e))),!0)}function Ue(n,e,{preflight:t}={}){return t?e.test(n,"insert"):e.consume(n,"insert")}function St(n){const{schema:e,document:t}=n.model;for(const i of t.getRootNames()){const o=t.getRoot(i);if(o.isEmpty&&!e.checkChild(o,"$text")&&e.checkChild(o,"paragraph"))return n.insertElement("paragraph",o),!0}return!1}function Si(n,e,t){const i=t.createContext(n);return!!t.checkChild(i,"paragraph")&&!!t.checkChild(i.push("paragraph"),e)}function zi(n,e){const t=e.createElement("paragraph");return e.insert(t,n),e.createPositionAt(t,0)}class Zi extends Xe{elementToElement(e){return this.add($i(e))}elementToAttribute(e){return this.add(function(t){t=ei(t),Lo(t);const i=io(t,!1),o=mn(t.view),s=o?`element:${o}`:"element";return p=>{p.on(s,i,{priority:t.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=ei(t);let i=null;(typeof t.view=="string"||t.view.key)&&(i=function(s){typeof s.view=="string"&&(s.view={key:s.view});const p=s.view.key;let B;return p=="class"||p=="style"?B={[p=="class"?"classes":"styles"]:s.view.value}:B={attributes:{[p]:s.view.value===void 0?/[\s\S]*/:s.view.value}},s.view.name&&(B.name=s.view.name),s.view=B,p}(t)),Lo(t,i);const o=io(t,!0);return s=>{s.on("element",o,{priority:t.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(t){const i=function(o){return(s,p)=>{const B=typeof o=="string"?o:o(s,p);return p.writer.createElement("$marker",{"data-name":B})}}(t.model);return $i({...t,model:i})}(e))}dataToMarker(e){return this.add(function(t){t=ei(t),t.model||(t.model=p=>p?t.view+":"+p:t.view);const i={view:t.view,model:t.model},o=wn(Bn(i,"start")),s=wn(Bn(i,"end"));return p=>{p.on(`element:${t.view}-start`,o,{priority:t.converterPriority||"normal"}),p.on(`element:${t.view}-end`,s,{priority:t.converterPriority||"normal"});const B=r.tA.get("low"),G=r.tA.get("highest"),le=r.tA.get(t.converterPriority)/G;p.on("element",function(fe){return(We,it,Pt)=>{const Qt=`data-${fe.view}`;function mi(_i,Yi){for(const Ni of Yi){const en=fe.model(Ni,Pt),En=Pt.writer.createElement("$marker",{"data-name":en});Pt.writer.insert(En,_i),it.modelCursor.isEqual(_i)?it.modelCursor=it.modelCursor.getShiftedBy(1):it.modelCursor=it.modelCursor._getTransformedByInsertion(_i,1),it.modelRange=it.modelRange._getTransformedByInsertion(_i,1)[0]}}(Pt.consumable.test(it.viewItem,{attributes:Qt+"-end-after"})||Pt.consumable.test(it.viewItem,{attributes:Qt+"-start-after"})||Pt.consumable.test(it.viewItem,{attributes:Qt+"-end-before"})||Pt.consumable.test(it.viewItem,{attributes:Qt+"-start-before"}))&&(it.modelRange||Object.assign(it,Pt.convertChildren(it.viewItem,it.modelCursor)),Pt.consumable.consume(it.viewItem,{attributes:Qt+"-end-after"})&&mi(it.modelRange.end,it.viewItem.getAttribute(Qt+"-end-after").split(",")),Pt.consumable.consume(it.viewItem,{attributes:Qt+"-start-after"})&&mi(it.modelRange.end,it.viewItem.getAttribute(Qt+"-start-after").split(",")),Pt.consumable.consume(it.viewItem,{attributes:Qt+"-end-before"})&&mi(it.modelRange.start,it.viewItem.getAttribute(Qt+"-end-before").split(",")),Pt.consumable.consume(it.viewItem,{attributes:Qt+"-start-before"})&&mi(it.modelRange.start,it.viewItem.getAttribute(Qt+"-start-before").split(",")))}}(i),{priority:B+le})}}(e))}}function $i(n){const e=wn(n=ei(n)),t=mn(n.view),i=t?`element:${t}`:"element";return o=>{o.on(i,e,{priority:n.converterPriority||"normal"})}}function mn(n){return typeof n=="string"?n:typeof n=="object"&&typeof n.name=="string"?n.name:null}function wn(n){const e=new D(n.view);return(t,i,o)=>{const s=e.match(i.viewItem);if(!s)return;const p=s.match;if(p.name=!0,!o.consumable.test(i.viewItem,p))return;const B=function(G,le,fe){return G instanceof Function?G(le,fe):fe.writer.createElement(G)}(n.model,i.viewItem,o);B&&o.safeInsert(B,i.modelCursor)&&(o.consumable.consume(i.viewItem,p),o.convertChildren(i.viewItem,B),o.updateConversionResult(B,i))}}function Lo(n,e=null){const t=e===null||(s=>s.getAttribute(e)),i=typeof n.model!="object"?n.model:n.model.key,o=typeof n.model!="object"||n.model.value===void 0?t:n.model.value;n.model={key:i,value:o}}function io(n,e){const t=new D(n.view);return(i,o,s)=>{if(!o.modelRange&&e)return;const p=t.match(o.viewItem);if(!p||(function(fe,We){const it=typeof fe=="function"?fe(We):fe;return typeof it=="object"&&!mn(it)?!1:!it.classes&&!it.attributes&&!it.styles}(n.view,o.viewItem)?p.match.name=!0:delete p.match.name,!s.consumable.test(o.viewItem,p.match)))return;const B=n.model.key,G=typeof n.model.value=="function"?n.model.value(o.viewItem,s):n.model.value;if(G===null)return;o.modelRange||Object.assign(o,s.convertChildren(o.viewItem,o.modelCursor)),function(fe,We,it,Pt){let Qt=!1;for(const mi of Array.from(fe.getItems({shallow:it})))Pt.schema.checkAttribute(mi,We.key)&&(Qt=!0,mi.hasAttribute(We.key)||Pt.writer.setAttribute(We.key,We.value,mi));return Qt}(o.modelRange,{key:B,value:G},e,s)&&(s.consumable.test(o.viewItem,{name:!0})&&(p.match.name=!0),s.consumable.consume(o.viewItem,p.match))}}function Bn(n,e){return{view:`${n.view}-${e}`,model:(t,i)=>{const o=t.getAttribute("name"),s=n.model(o,i);return i.writer.createElement("$marker",{"data-name":s})}}}class vo extends(0,r.Re)(){constructor(e,t){super(),this.model=e,this.view=new Io(t),this.mapper=new bo,this.downcastDispatcher=new ko({mapper:this.mapper,schema:e.schema});const i=this.model.document,o=i.selection,s=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(i,"change",()=>{this.view.change(p=>{this.downcastDispatcher.convertChanges(i.differ,s,p),this.downcastDispatcher.convertSelection(o,s,p)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(p,B){return(G,le)=>{const fe=le.newSelection,We=[];for(const Pt of fe.getRanges())We.push(B.toModelRange(Pt));const it=p.createSelection(We,{backward:fe.isBackward});it.isEqual(p.document.selection)||p.change(Pt=>{Pt.setSelection(it)})}}(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",(p,B,G)=>{if(!G.consumable.consume(B.item,p.name))return;const le=G.writer,fe=G.mapper.toViewPosition(B.range.start),We=le.createText(B.item.data);le.insert(fe,We)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(p,B,G)=>{G.convertAttributes(B.item),B.reconversion||!B.item.is("element")||B.item.isEmpty||G.convertChildren(B.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(p,B,G)=>{const le=G.mapper.toViewPosition(B.position),fe=B.position.getShiftedBy(B.length),We=G.mapper.toViewPosition(fe,{isPhantom:!0}),it=G.writer.createRange(le,We),Pt=G.writer.remove(it.getTrimmed());for(const Qt of G.writer.createRangeIn(Pt).getItems())G.mapper.unbindViewElement(Qt,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("selection",(p,B,G)=>{const le=G.writer,fe=le.document.selection;for(const We of fe.getRanges())We.isCollapsed&&We.end.parent.isAttached()&&G.writer.mergeAttributes(We.start);le.setSelection(null)},{priority:"high"}),this.downcastDispatcher.on("selection",(p,B,G)=>{const le=B.selection;if(le.isCollapsed||!G.consumable.consume(le,"selection"))return;const fe=[];for(const We of le.getRanges())fe.push(G.mapper.toViewRange(We));G.writer.setSelection(fe,{backward:le.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(p,B,G)=>{const le=B.selection;if(!le.isCollapsed||!G.consumable.consume(le,"selection"))return;const fe=G.writer,We=le.getFirstPosition(),it=G.mapper.toViewPosition(We),Pt=fe.breakAttributes(it);fe.setSelection(Pt)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(p=>{if(p.rootName=="$graveyard")return null;const B=new st(this.view.document,p.name);return B.rootName=p.rootName,this.mapper.bindElements(p,B),B})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,i=this.model.markers.get(t);if(!i)throw new r.Bb("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(i)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class Qn{constructor(){this._consumables=new Map}add(e,t){let i;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?i=this._consumables.get(e):(i=new zn(e),this._consumables.set(e,i)),i.add(t))}test(e,t){const i=this._consumables.get(e);return i===void 0?null:e.is("$text")||e.is("documentFragment")?i:i.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const i=this._consumables.get(e);i!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):i.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},i=e.getAttributeKeys();for(const p of i)p!="style"&&p!="class"&&t.attributes.push(p);const o=e.getClassNames();for(const p of o)t.classes.push(p);const s=e.getStyleNames();for(const p of s)t.styles.push(p);return t}static createFrom(e,t){if(t||(t=new Qn),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,Qn.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const i of e.getChildren())t=Qn.createFrom(i,t);return t}}const Wn=["attributes","classes","styles"];class zn{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of Wn)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of Wn)if(t in e){const i=this._test(t,e[t]);if(i!==!0)return i}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of Wn)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of Wn)t in e&&this._revert(t,e[t])}_add(e,t){const i=(0,Ie.Z)(t)?t:[t],o=this._consumables[e];for(const s of i){if(e==="attributes"&&(s==="class"||s==="style"))throw new r.Bb("viewconsumable-invalid-attribute",this);if(o.set(s,!0),e==="styles")for(const p of this.element.document.stylesProcessor.getRelatedStyles(s))o.set(p,!0)}}_test(e,t){const i=(0,Ie.Z)(t)?t:[t],o=this._consumables[e];for(const s of i)if(e!=="attributes"||s!=="class"&&s!=="style"){const p=o.get(s);if(p===void 0)return null;if(!p)return!1}else{const p=s=="class"?"classes":"styles",B=this._test(p,[...this._consumables[p].keys()]);if(B!==!0)return B}return!0}_consume(e,t){const i=(0,Ie.Z)(t)?t:[t],o=this._consumables[e];for(const s of i)if(e!=="attributes"||s!=="class"&&s!=="style"){if(o.set(s,!1),e=="styles")for(const p of this.element.document.stylesProcessor.getRelatedStyles(s))o.set(p,!1)}else{const p=s=="class"?"classes":"styles";this._consume(p,[...this._consumables[p].keys()])}}_revert(e,t){const i=(0,Ie.Z)(t)?t:[t],o=this._consumables[e];for(const s of i)if(e!=="attributes"||s!=="class"&&s!=="style")o.get(s)===!1&&o.set(s,!0);else{const p=s=="class"?"classes":"styles";this._revert(p,[...this._consumables[p].keys()])}}}class Zn extends(0,r.Re)(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new _n(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new _n(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new r.Bb("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new r.Bb("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!(!t||!t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!!t&&!(!t.isLimit&&!t.isObject)}isObject(e){const t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}isInline(e){const t=this.getDefinition(e);return!(!t||!t.isInline)}isSelectable(e){const t=this.getDefinition(e);return!!t&&!(!t.isSelectable&&!t.isObject)}isContent(e){const t=this.getDefinition(e);return!!t&&!(!t.isContent&&!t.isObject)}checkChild(e,t){return!!t&&this._checkContextMatch(t,e)}checkAttribute(e,t){const i=this.getDefinition(e.last);return!!i&&i.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof si){const i=e.nodeBefore,o=e.nodeAfter;if(!(i instanceof on))throw new r.Bb("schema-check-merge-no-element-before",this);if(!(o instanceof on))throw new r.Bb("schema-check-merge-no-element-after",this);return this.checkMerge(i,o)}for(const i of t.getChildren())if(!this.checkChild(e,i))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[i,o])=>{if(!o)return;const s=e(i,o);typeof s=="boolean"&&(t.stop(),t.return=s)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[i,o])=>{const s=e(i,o);typeof s=="boolean"&&(t.stop(),t.return=s)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(e instanceof si?t=e.parent:t=(e instanceof zt?[e]:Array.from(e.getRanges())).reduce((i,o)=>{const s=o.getCommonAncestor();return i?i.getCommonAncestor(s,{includeSelf:!0}):s},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const i=[...e.getFirstPosition().getAncestors(),new nn("",e.getAttributes())];return this.checkAttribute(i,t)}{const i=e.getRanges();for(const o of i)for(const s of o)if(this.checkAttribute(s.item,t))return!0}return!1}*getValidRanges(e,t){e=function*(i){for(const o of i)yield*o.getMinimalFlatRanges()}(e);for(const i of e)yield*this._getValidRangesForRange(i,t)}getNearestSelectionRange(e,t="both"){if(this.checkChild(e,"$text"))return new zt(e);let i,o;const s=e.getAncestors().reverse().find(p=>this.isLimit(p))||e.root;t!="both"&&t!="backward"||(i=new Rn({boundaries:zt._createIn(s),startPosition:e,direction:"backward"})),t!="both"&&t!="forward"||(o=new Rn({boundaries:zt._createIn(s),startPosition:e}));for(const p of function*(B,G){let le=!1;for(;!le;){if(le=!0,B){const fe=B.next();fe.done||(le=!1,yield{walker:B,value:fe.value})}if(G){const fe=G.next();fe.done||(le=!1,yield{walker:G,value:fe.value})}}}(i,o)){const B=p.walker==i?"elementEnd":"elementStart",G=p.value;if(G.type==B&&this.isObject(G.item))return zt._createOn(G.item);if(this.checkChild(G.nextPosition,"$text"))return new zt(G.nextPosition)}return null}findAllowedParent(e,t){let i=e.parent;for(;i;){if(this.checkChild(i,t))return i;if(this.isLimit(i))return null;i=i.parent}return null}setAllowedAttributes(e,t,i){const o=i.model;for(const[s,p]of Object.entries(t))o.schema.checkAttribute(e,s)&&i.setAttribute(s,p,e)}removeDisallowedAttributes(e,t){for(const i of e)if(i.is("$text"))Ir(this,i,t);else{const o=zt._createIn(i).getPositions();for(const s of o)Ir(this,s.nodeBefore||s.parent,t)}}getAttributesWithProperty(e,t,i){const o={};for(const[s,p]of e.getAttributes()){const B=this.getAttributeProperties(s);B[t]!==void 0&&(i!==void 0&&i!==B[t]||(o[s]=p))}return o}createContext(e){return new _n(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,i=Object.keys(t);for(const o of i)e[o]=Jn(t[o],o);for(const o of i)lo(e,o);for(const o of i)hs(e,o);for(const o of i)ms(e,o);for(const o of i)gs(e,o),ps(e,o);for(const o of i)fs(e,o),bs(e,o),ws(e,o);this._compiledDefinitions=e}_checkContextMatch(e,t,i=t.length-1){const o=t.getItem(i);if(e.allowIn.includes(o.name)){if(i==0)return!0;{const s=this.getDefinition(o);return this._checkContextMatch(s,t,i-1)}}return!1}*_getValidRangesForRange(e,t){let i=e.start,o=e.start;for(const s of e.getItems({shallow:!0}))s.is("element")&&(yield*this._getValidRangesForRange(zt._createIn(s),t)),this.checkAttribute(s,t)||(i.isEqual(o)||(yield new zt(i,o)),i=si._createAfter(s)),o=si._createAfter(s);i.isEqual(o)||(yield new zt(i,o))}}class _n{constructor(e){if(e instanceof _n)return e;let t;t=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=t.map(vs)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new _n([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function Jn(n,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(i,o){for(const s of i){const p=Object.keys(s).filter(B=>B.startsWith("is"));for(const B of p)o[B]=!!s[B]}}(n,t),Mo(n,t,"allowIn"),Mo(n,t,"allowContentOf"),Mo(n,t,"allowWhere"),Mo(n,t,"allowAttributes"),Mo(n,t,"allowAttributesOf"),Mo(n,t,"allowChildren"),Mo(n,t,"inheritTypesFrom"),function(i,o){for(const s of i){const p=s.inheritAllFrom;p&&(o.allowContentOf.push(p),o.allowWhere.push(p),o.allowAttributesOf.push(p),o.inheritTypesFrom.push(p))}}(n,t),t}function lo(n,e){const t=n[e];for(const i of t.allowChildren){const o=n[i];o&&o.allowIn.push(e)}t.allowChildren.length=0}function hs(n,e){for(const t of n[e].allowContentOf)n[t]&&ks(n,t).forEach(i=>{i.allowIn.push(e)});delete n[e].allowContentOf}function ms(n,e){for(const t of n[e].allowWhere){const i=n[t];if(i){const o=i.allowIn;n[e].allowIn.push(...o)}}delete n[e].allowWhere}function gs(n,e){for(const t of n[e].allowAttributesOf){const i=n[t];if(i){const o=i.allowAttributes;n[e].allowAttributes.push(...o)}}delete n[e].allowAttributesOf}function ps(n,e){const t=n[e];for(const i of t.inheritTypesFrom){const o=n[i];if(o){const s=Object.keys(o).filter(p=>p.startsWith("is"));for(const p of s)p in t||(t[p]=o[p])}}delete t.inheritTypesFrom}function fs(n,e){const t=n[e],i=t.allowIn.filter(o=>n[o]);t.allowIn=Array.from(new Set(i))}function bs(n,e){const t=n[e];for(const i of t.allowIn)n[i].allowChildren.push(e)}function ws(n,e){const t=n[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function Mo(n,e,t){for(const i of n){const o=i[t];typeof o=="string"?e[t].push(o):Array.isArray(o)&&e[t].push(...o)}}function ks(n,e){const t=n[e];return(i=n,Object.keys(i).map(o=>i[o])).filter(o=>o.allowIn.includes(t.name));var i}function vs(n){return typeof n=="string"||n.is("documentFragment")?{name:typeof n=="string"?n:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:n.is("element")?n.name:"$text",*getAttributeKeys(){yield*n.getAttributeKeys()},getAttribute:e=>n.getAttribute(e)}}function Ir(n,e,t){for(const i of e.getAttributeKeys())n.checkAttribute(e,i)||t.removeAttribute(i,e)}class _s extends(0,r.ln)(){constructor(e){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(t,i)=>this._convertItem(t,i),convertChildren:(t,i)=>this._convertChildren(t,i),safeInsert:(t,i)=>this._safeInsert(t,i),updateConversionResult:(t,i)=>this._updateConversionResult(t,i),splitToAllowedParent:(t,i)=>this._splitToAllowedParent(t,i),getSplitParts:t=>this._getSplitParts(t),keepEmptyElement:t=>this._keepEmptyElement(t)}}convert(e,t,i=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(p,B){let G;for(const le of new _n(p)){const fe={};for(const it of le.getAttributeKeys())fe[it]=le.getAttribute(it);const We=B.createElement(le.name,fe);G&&B.insert(We,G),G=si._createAt(We,0)}return G}(i,t),this.conversionApi.writer=t,this.conversionApi.consumable=Qn.createFrom(e),this.conversionApi.store={};const{modelRange:o}=this._convertItem(e,this._modelCursor),s=t.createDocumentFragment();if(o){this._removeEmptyElements();for(const p of Array.from(this._modelCursor.parent.getChildren()))t.append(p,s);s.markers=function(p,B){const G=new Set,le=new Map,fe=zt._createIn(p).getItems();for(const We of fe)We.is("element","$marker")&&G.add(We);for(const We of G){const it=We.getAttribute("data-name"),Pt=B.createPositionBefore(We);le.has(it)?le.get(it).end=Pt.clone():le.set(it,new zt(Pt.clone())),B.remove(We)}return le}(s,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,s}_convertItem(e,t){const i={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,i,this.conversionApi):e.is("$text")?this.fire("text",i,this.conversionApi):this.fire("documentFragment",i,this.conversionApi),i.modelRange&&!(i.modelRange instanceof zt))throw new r.Bb("view-conversion-dispatcher-incorrect-result",this);return{modelRange:i.modelRange,modelCursor:i.modelCursor}}_convertChildren(e,t){let i=t.is("position")?t:si._createAt(t,0);const o=new zt(i);for(const s of Array.from(e.getChildren())){const p=this._convertItem(s,i);p.modelRange instanceof zt&&(o.end=p.modelRange.end,i=p.modelCursor)}return{modelRange:o,modelCursor:i}}_safeInsert(e,t){const i=this._splitToAllowedParent(e,t);return!!i&&(this.conversionApi.writer.insert(e,i.position),!0)}_updateConversionResult(e,t){const i=this._getSplitParts(e),o=this.conversionApi.writer;t.modelRange||(t.modelRange=o.createRange(o.createPositionBefore(e),o.createPositionAfter(i[i.length-1])));const s=this._cursorParents.get(e);t.modelCursor=s?o.createPositionAt(s,0):t.modelRange.end}_splitToAllowedParent(e,t){const{schema:i,writer:o}=this.conversionApi;let s=i.findAllowedParent(t,e);if(s){if(s===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(s)&&(s=null)}if(!s)return Si(t,e,i)?{position:zi(t,o)}:null;const p=this.conversionApi.writer.split(t,s),B=[];for(const le of p.range.getWalker())if(le.type=="elementEnd")B.push(le.item);else{const fe=B.pop(),We=le.item;this._registerSplitPair(fe,We)}const G=p.range.end.parent;return this._cursorParents.set(e,G),{position:p.position,cursorParent:G}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const i=this._splitParts.get(e);this._splitParts.set(t,i),i.push(t)}_getSplitParts(e){let t;return t=this._splitParts.has(e)?this._splitParts.get(e):[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}class ys{getHtml(e){const t=document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}class Pr{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new wt(e,{renderingMode:"data"}),this.htmlWriter=new ys}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),i=t.createDocumentFragment(),o=t.body.childNodes;for(;o.length>0;)i.appendChild(o[0]);return i}}class xs extends(0,r.ln)(){constructor(e,t){super(),this.model=e,this.mapper=new bo,this.downcastDispatcher=new ko({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(i,o,s)=>{if(!s.consumable.consume(o.item,i.name))return;const p=s.writer,B=s.mapper.toViewPosition(o.range.start),G=p.createText(o.item.data);p.insert(B,G)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(i,o,s)=>{s.convertAttributes(o.item),o.reconversion||!o.item.is("element")||o.item.isEmpty||s.convertChildren(o.item)},{priority:"lowest"}),this.upcastDispatcher=new _s({schema:e.schema}),this.viewDocument=new Q(t),this.stylesProcessor=t,this.htmlProcessor=new Pr(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Te(this.viewDocument),this.upcastDispatcher.on("text",(i,o,{schema:s,consumable:p,writer:B})=>{let G=o.modelCursor;if(!p.test(o.viewItem))return;if(!s.checkChild(G,"$text")){if(!Si(G,"$text",s)||o.viewItem.data.trim().length==0)return;const fe=G.nodeBefore;G=zi(G,B),fe&&fe.is("element","$marker")&&(B.move(B.createRangeOn(fe),G),G=B.createPositionAfter(fe))}p.consume(o.viewItem);const le=B.createText(o.viewItem.data);B.insert(le,G),o.modelRange=B.createRange(G,G.getShiftedBy(le.offsetSize)),o.modelCursor=o.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(i,o,s)=>{if(!o.modelRange&&s.consumable.consume(o.viewItem,{name:!0})){const{modelRange:p,modelCursor:B}=s.convertChildren(o.viewItem,o.modelCursor);o.modelRange=p,o.modelCursor=B}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(i,o,s)=>{if(!o.modelRange&&s.consumable.consume(o.viewItem,{name:!0})){const{modelRange:p,modelCursor:B}=s.convertChildren(o.viewItem,o.modelCursor);o.modelRange=p,o.modelCursor=B}},{priority:"lowest"}),(0,r.Re)().prototype.decorate.call(this,"init"),(0,r.Re)().prototype.decorate.call(this,"set"),(0,r.Re)().prototype.decorate.call(this,"get"),(0,r.Re)().prototype.decorate.call(this,"toView"),(0,r.Re)().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},St)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:i="empty"}=e;if(!this._checkIfRootsExists([t]))throw new r.Bb("datacontroller-get-non-existent-root",this);const o=this.model.document.getRoot(t);return i!=="empty"||this.model.hasContent(o,{ignoreWhitespaces:!0})?this.stringify(o,e):""}stringify(e,t={}){const i=this.toView(e,t);return this.processor.toData(i)}toView(e,t={}){const i=this.viewDocument,o=this._viewWriter;this.mapper.clearBindings();const s=zt._createIn(e),p=new se(i);this.mapper.bindElements(e,p);const B=e.is("documentFragment")?e.markers:function(G){const le=[],fe=G.root.document;if(!fe)return new Map;const We=zt._createIn(G);for(const it of fe.model.markers){const Pt=it.getRange(),Qt=Pt.isCollapsed,mi=Pt.start.isEqual(We.start)||Pt.end.isEqual(We.end);if(Qt&&mi)le.push([it.name,Pt]);else{const _i=We.getIntersection(Pt);_i&&le.push([it.name,_i])}}return le.sort(([it,Pt],[Qt,mi])=>{if(Pt.end.compareWith(mi.start)!=="after")return 1;if(Pt.start.compareWith(mi.end)!=="before")return-1;switch(Pt.start.compareWith(mi.start)){case"before":return 1;case"after":return-1;default:switch(Pt.end.compareWith(mi.end)){case"before":return 1;case"after":return-1;default:return Qt.localeCompare(it)}}}),new Map(le)}(e);return this.downcastDispatcher.convert(s,B,o,t),p}init(e){if(this.model.document.version)throw new r.Bb("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new r.Bb("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},i=>{for(const o of Object.keys(t)){const s=this.model.document.getRoot(o);i.insert(this.parse(t[o],s),s,0)}}),Promise.resolve()}set(e,t={}){let i={};if(typeof e=="string"?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new r.Bb("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},o=>{o.setSelection(null),o.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const s of Object.keys(i)){const p=this.model.document.getRoot(s);o.remove(o.createRangeIn(p)),o.insert(this.parse(i[s],p),p,0)}})}parse(e,t="$root"){const i=this.processor.toView(e);return this.toModel(i,t)}toModel(e,t="$root"){return this.model.change(i=>this.upcastDispatcher.convert(e,i,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRootNames().includes(t))return!1;return!0}}class Cs{constructor(e,t){this._helpers=new Map,this._downcast=(0,r.qo)(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=(0,r.qo)(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const i=this._downcast.includes(t);if(!this._upcast.includes(t)&&!i)throw new r.Bb("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:i})}for(e){if(!this._helpers.has(e))throw new r.Bb("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:i}of yr(e))this.for("upcast").elementToElement({model:t,view:i,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:i}of yr(e))this.for("upcast").elementToAttribute({view:i,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:i}of yr(e))this.for("upcast").attributeToAttribute({view:i,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:i}){if(this._helpers.has(e))throw new r.Bb("conversion-group-exists",this);const o=i?new qt(t):new Zi(t);this._helpers.set(e,o)}}function*yr(n){if(n.model.values)for(const e of n.model.values){const t={key:n.model.key,value:e},i=n.view[e],o=n.upcastAlso?n.upcastAlso[e]:void 0;yield*Lr(t,i,o)}else yield*Lr(n.model,n.view,n.upcastAlso)}function*Lr(n,e,t){if(yield{model:n,view:e},t)for(const i of(0,r.qo)(t))yield{model:n,view:i}}class $n{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function xr(n,e){const t=Rr(e),i=t.reduce((p,B)=>p+B.offsetSize,0),o=n.parent;gr(n);const s=n.index;return o._insertChild(s,t),mr(o,s+t.length),mr(o,s),new zt(n,n.getShiftedBy(i))}function Mr(n){if(!n.isFlat)throw new r.Bb("operation-utils-remove-range-not-flat",this);const e=n.start.parent;gr(n.start),gr(n.end);const t=e._removeChildren(n.start.index,n.end.index-n.start.index);return mr(e,n.start.index),t}function hr(n,e){if(!n.isFlat)throw new r.Bb("operation-utils-move-range-not-flat",this);const t=Mr(n);return xr(e=e._getTransformedByDeletion(n.start,n.end.offset-n.start.offset),t)}function Rr(n){const e=[];(function t(i){if(typeof i=="string")e.push(new nn(i));else if(i instanceof Pn)e.push(new nn(i.data,i.getAttributes()));else if(i instanceof Gn)e.push(i);else if((0,r.TW)(i))for(const o of i)t(o)})(n);for(let t=1;t<e.length;t++){const i=e[t],o=e[t-1];i instanceof nn&&o instanceof nn&&Or(i,o)&&(e.splice(t-1,2,new nn(o.data+i.data,o.getAttributes())),t--)}return e}function mr(n,e){const t=n.getChild(e-1),i=n.getChild(e);if(t&&i&&t.is("$text")&&i.is("$text")&&Or(t,i)){const o=new nn(t.data+i.data,t.getAttributes());n._removeChildren(e-1,2),n._insertChild(e-1,o)}}function gr(n){const e=n.textNode,t=n.parent;if(e){const i=n.offset-e.startOffset,o=e.index;t._removeChildren(o,1);const s=new nn(e.data.substr(0,i),e.getAttributes()),p=new nn(e.data.substr(i),e.getAttributes());t._insertChild(o,[s,p])}}function Or(n,e){const t=n.getAttributes(),i=e.getAttributes();for(const o of t){if(o[1]!==e.getAttribute(o[0]))return!1;i.next()}return i.next().done}class an extends $n{constructor(e,t,i,o){super(o),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}clone(){return new an(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new an(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,i=this.sourcePosition.offset,o=this.targetPosition.offset;if(i+this.howMany>e.maxOffset)throw new r.Bb("move-operation-nodes-do-not-exist",this);if(e===t&&i<o&&o<i+this.howMany)throw new r.Bb("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&(0,r.Rt)(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const s=this.sourcePosition.path.length-1;if(this.targetPosition.path[s]>=i&&this.targetPosition.path[s]<i+this.howMany)throw new r.Bb("move-operation-node-into-itself",this)}}_execute(){hr(zt._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const i=si.fromJSON(e.sourcePosition,t),o=si.fromJSON(e.targetPosition,t);return new this(i,e.howMany,o,e.baseVersion)}}class xn extends $n{constructor(e,t,i){super(i),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new so(Rr(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const e=new so([...this.nodes].map(i=>i._clone(!0))),t=new xn(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new si(e,[0]);return new an(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new r.Bb("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new so([...e].map(t=>t._clone(!0))),xr(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const i=[];for(const s of e.nodes)s.name?i.push(on.fromJSON(s)):i.push(nn.fromJSON(s));const o=new xn(si.fromJSON(e.position,t),i,e.baseVersion);return o.shouldReceiveAttributes=e.shouldReceiveAttributes,o}}class Ln extends $n{constructor(e,t,i,o,s,p){super(p),this.name=e,this.oldRange=t?t.clone():null,this.newRange=i?i.clone():null,this.affectsData=s,this._markers=o}get type(){return"marker"}clone(){return new Ln(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Ln(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new Ln(e.name,e.oldRange?zt.fromJSON(e.oldRange,t):null,e.newRange?zt.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}const jr=function(n,e){return oo(n,e)};class yn extends $n{constructor(e,t,i,o,s){super(s),this.range=e.clone(),this.key=t,this.oldValue=i===void 0?null:i,this.newValue=o===void 0?null:o}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}clone(){return new yn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new yn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new r.Bb("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!jr(e.getAttribute(this.key),this.oldValue))throw new r.Bb("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new r.Bb("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){jr(this.oldValue,this.newValue)||function(e,t,i){gr(e.start),gr(e.end);for(const o of e.getItems({shallow:!0})){const s=o.is("$textProxy")?o.textNode:o;i!==null?s._setAttribute(t,i):s._removeAttribute(t),mr(s.parent,s.index)}mr(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new yn(zt.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Sn extends $n{get type(){return"noop"}clone(){return new Sn(this.baseVersion)}getReversed(){return new Sn(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class jn extends $n{constructor(e,t,i,o){super(o),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=i}get type(){return"rename"}clone(){return new jn(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new jn(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof on))throw new r.Bb("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new r.Bb("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new jn(si.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class co extends $n{constructor(e,t,i,o,s){super(s),this.root=e,this.key=t,this.oldValue=i,this.newValue=o}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}clone(){return new co(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new co(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new r.Bb("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new r.Bb("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new r.Bb("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new r.Bb("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new co(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class vn extends $n{constructor(e,t,i,o,s){super(s),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=o.clone()}get type(){return"merge"}get deletionPosition(){return new si(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new zt(this.sourcePosition,e)}clone(){return new vn(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),i=new si(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new gn(e,this.howMany,i,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new r.Bb("merge-operation-source-position-invalid",this);if(!t.parent)throw new r.Bb("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new r.Bb("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;hr(zt._createIn(e),this.targetPosition),hr(zt._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const i=si.fromJSON(e.sourcePosition,t),o=si.fromJSON(e.targetPosition,t),s=si.fromJSON(e.graveyardPosition,t);return new this(i,e.howMany,o,s,e.baseVersion)}}class gn extends $n{constructor(e,t,i,o,s){super(s),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=i,this.graveyardPosition=o?o.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new si(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new zt(this.splitPosition,e)}clone(){return new gn(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new si(e,[0]);return new vn(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new r.Bb("split-operation-position-invalid",this);if(!e.parent)throw new r.Bb("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new r.Bb("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new r.Bb("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)hr(zt._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const t=e._clone();xr(this.insertionPosition,t)}hr(new zt(si._createAt(e,this.splitPosition.offset),si._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new si(e.root,t,"toPrevious")}static fromJSON(e,t){const i=si.fromJSON(e.splitPosition,t),o=si.fromJSON(e.insertionPosition,t),s=e.graveyardPosition?si.fromJSON(e.graveyardPosition,t):null;return new this(i,e.howMany,o,s,e.baseVersion)}}const Xn={};Xn[yn.className]=yn,Xn[xn.className]=xn,Xn[Ln.className]=Ln,Xn[an.className]=an,Xn[Sn.className]=Sn,Xn[$n.className]=$n,Xn[jn.className]=jn,Xn[co.className]=co,Xn[gn.className]=gn,Xn[vn.className]=vn;class Nr{static fromJSON(e,t){return Xn[e.__className].fromJSON(e,t)}}const Cr=new Map;function rn(n,e,t){let i=Cr.get(n);i||(i=new Map,Cr.set(n,i)),i.set(e,t)}function Ts(n){return[n]}function Vr(n,e,t={}){const i=function(o,s){const p=Cr.get(o);return p&&p.has(s)?p.get(s):Ts}(n.constructor,e.constructor);try{return i(n=n.clone(),e,t)}catch(o){throw o}}function As(n,e,t){n=n.slice(),e=e.slice();const i=new Ss(t.document,t.useRelations,t.forceWeakRemove);i.setOriginalOperations(n),i.setOriginalOperations(e);const o=i.originalOperations;if(n.length==0||e.length==0)return{operationsA:n,operationsB:e,originalOperations:o};const s=new WeakMap;for(const G of n)s.set(G,0);const p={nextBaseVersionA:n[n.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:n.length,originalOperationsBCount:e.length};let B=0;for(;B<n.length;){const G=n[B],le=s.get(G);if(le==e.length){B++;continue}const fe=e[le],We=Vr(G,fe,i.getContext(G,fe,!0)),it=Vr(fe,G,i.getContext(fe,G,!1));i.updateRelation(G,fe),i.setOriginalOperations(We,G),i.setOriginalOperations(it,fe);for(const Pt of We)s.set(Pt,le+it.length);n.splice(B,1,...We),e.splice(le,1,...it)}if(t.padWithNoOps){const G=n.length-p.originalOperationsACount,le=e.length-p.originalOperationsBCount;zr(n,le-G),zr(e,G-le)}return Br(n,p.nextBaseVersionB),Br(e,p.nextBaseVersionA),{operationsA:n,operationsB:e,originalOperations:o}}class Ss{constructor(e,t,i=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!i,this._relations=new Map}setOriginalOperations(e,t=null){const i=t?this.originalOperations.get(t):null;for(const o of e)this.originalOperations.set(o,i||o)}updateRelation(e,t){if(e instanceof an)t instanceof vn?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof an&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof gn){if(t instanceof vn)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof an)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const i=zt._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.splitPosition)){const o=i.end.offset-e.splitPosition.offset,s=e.splitPosition.offset-i.start.offset;this._setRelation(e,t,{howMany:o,offset:s})}}}else if(e instanceof vn)t instanceof vn?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof gn&&e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource");else if(e instanceof Ln){const i=e.newRange;if(!i)return;if(t instanceof an){const o=zt._createFromPositionAndShift(t.sourcePosition,t.howMany),s=o.containsPosition(i.start)||o.start.isEqual(i.start),p=o.containsPosition(i.end)||o.end.isEqual(i.end);!s&&!p||o.containsRange(i)||this._setRelation(e,t,{side:s?"left":"right",path:s?i.start.path.slice():i.end.path.slice()})}else if(t instanceof vn){const o=i.start.isEqual(t.targetPosition),s=i.start.isEqual(t.deletionPosition),p=i.end.isEqual(t.deletionPosition),B=i.end.isEqual(t.sourcePosition);(o||s||p||B)&&this._setRelation(e,t,{wasInLeftElement:o,wasStartBeforeMergedElement:s,wasEndBeforeMergedElement:p,wasInRightElement:B})}}}getContext(e,t,i){return{aIsStrong:i,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const i=this.originalOperations.get(t),o=this._history.getUndoneOperation(i);if(!o)return null;const s=this.originalOperations.get(e),p=this._relations.get(s);return p&&p.get(o)||null}_setRelation(e,t,i){const o=this.originalOperations.get(e),s=this.originalOperations.get(t);let p=this._relations.get(o);p||(p=new Map,this._relations.set(o,p)),p.set(s,i)}}function Br(n,e){for(const t of n)t.baseVersion=e++}function zr(n,e){for(let t=0;t<e;t++)n.push(new Sn(0))}function Dr(n,e,t){const i=n.nodes.getNode(0).getAttribute(e);if(i==t)return null;const o=new zt(n.position,n.position.getShiftedBy(n.howMany));return new yn(o,e,i,t,0)}function Fr(n,e){return n.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function Yo(n,e){const t=[];for(let i=0;i<n.length;i++){const o=n[i],s=new an(o.start,o.end.offset-o.start.offset,e,0);t.push(s);for(let p=i+1;p<n.length;p++)n[p]=n[p]._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany)[0];e=e._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany)}return t}rn(yn,yn,(n,e,t)=>{if(n.key===e.key&&n.range.start.hasSameParentAs(e.range.start)){const i=n.range.getDifference(e.range).map(s=>new yn(s,n.key,n.oldValue,n.newValue,0)),o=n.range.getIntersection(e.range);return o&&t.aIsStrong&&i.push(new yn(o,e.key,e.newValue,n.newValue,0)),i.length==0?[new Sn(0)]:i}return[n]}),rn(yn,xn,(n,e)=>{if(n.range.start.hasSameParentAs(e.position)&&n.range.containsPosition(e.position)){const t=n.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(i=>new yn(i,n.key,n.oldValue,n.newValue,n.baseVersion));if(e.shouldReceiveAttributes){const i=Dr(e,n.key,n.oldValue);i&&t.unshift(i)}return t}return n.range=n.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[n]}),rn(yn,vn,(n,e)=>{const t=[];n.range.start.hasSameParentAs(e.deletionPosition)&&(n.range.containsPosition(e.deletionPosition)||n.range.start.isEqual(e.deletionPosition))&&t.push(zt._createFromPositionAndShift(e.graveyardPosition,1));const i=n.range._getTransformedByMergeOperation(e);return i.isCollapsed||t.push(i),t.map(o=>new yn(o,n.key,n.oldValue,n.newValue,n.baseVersion))}),rn(yn,an,(n,e)=>function(t,i){const o=zt._createFromPositionAndShift(i.sourcePosition,i.howMany);let s=null,p=[];o.containsRange(t,!0)?s=t:t.start.hasSameParentAs(o.start)?(p=t.getDifference(o),s=t.getIntersection(o)):p=[t];const B=[];for(let G of p){G=G._getTransformedByDeletion(i.sourcePosition,i.howMany);const le=i.getMovedRangeStart(),fe=G.start.hasSameParentAs(le),We=G._getTransformedByInsertion(le,i.howMany,fe);B.push(...We)}return s&&B.push(s._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany,!1)[0]),B}(n.range,e).map(t=>new yn(t,n.key,n.oldValue,n.newValue,n.baseVersion))),rn(yn,gn,(n,e)=>{if(n.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||n.range.end.offset++,[n];if(n.range.start.hasSameParentAs(e.splitPosition)&&n.range.containsPosition(e.splitPosition)){const t=n.clone();return t.range=new zt(e.moveTargetPosition.clone(),n.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),n.range.end=e.splitPosition.clone(),n.range.end.stickiness="toPrevious",[n,t]}return n.range=n.range._getTransformedBySplitOperation(e),[n]}),rn(xn,yn,(n,e)=>{const t=[n];if(n.shouldReceiveAttributes&&n.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(n.position)){const i=Dr(n,e.key,e.newValue);i&&t.push(i)}return t}),rn(xn,xn,(n,e,t)=>(n.position.isEqual(e.position)&&t.aIsStrong||(n.position=n.position._getTransformedByInsertOperation(e)),[n])),rn(xn,an,(n,e)=>(n.position=n.position._getTransformedByMoveOperation(e),[n])),rn(xn,gn,(n,e)=>(n.position=n.position._getTransformedBySplitOperation(e),[n])),rn(xn,vn,(n,e)=>(n.position=n.position._getTransformedByMergeOperation(e),[n])),rn(Ln,xn,(n,e)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByInsertOperation(e)[0]),n.newRange&&(n.newRange=n.newRange._getTransformedByInsertOperation(e)[0]),[n])),rn(Ln,Ln,(n,e,t)=>{if(n.name==e.name){if(!t.aIsStrong)return[new Sn(0)];n.oldRange=e.newRange?e.newRange.clone():null}return[n]}),rn(Ln,vn,(n,e)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByMergeOperation(e)),n.newRange&&(n.newRange=n.newRange._getTransformedByMergeOperation(e)),[n])),rn(Ln,an,(n,e,t)=>{if(n.oldRange&&(n.oldRange=zt._createFromRanges(n.oldRange._getTransformedByMoveOperation(e))),n.newRange){if(t.abRelation){const i=zt._createFromRanges(n.newRange._getTransformedByMoveOperation(e));if(t.abRelation.side=="left"&&e.targetPosition.isEqual(n.newRange.start))return n.newRange.end=i.end,n.newRange.start.path=t.abRelation.path,[n];if(t.abRelation.side=="right"&&e.targetPosition.isEqual(n.newRange.end))return n.newRange.start=i.start,n.newRange.end.path=t.abRelation.path,[n]}n.newRange=zt._createFromRanges(n.newRange._getTransformedByMoveOperation(e))}return[n]}),rn(Ln,gn,(n,e,t)=>{if(n.oldRange&&(n.oldRange=n.oldRange._getTransformedBySplitOperation(e)),n.newRange){if(t.abRelation){const i=n.newRange._getTransformedBySplitOperation(e);return n.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?n.newRange.start=si._createAt(e.insertionPosition):n.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(n.newRange.start=si._createAt(e.moveTargetPosition)),n.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?n.newRange.end=si._createAt(e.moveTargetPosition):n.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?n.newRange.end=si._createAt(e.insertionPosition):n.newRange.end=i.end,[n]}n.newRange=n.newRange._getTransformedBySplitOperation(e)}return[n]}),rn(vn,xn,(n,e)=>(n.sourcePosition.hasSameParentAs(e.position)&&(n.howMany+=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByInsertOperation(e),n.targetPosition=n.targetPosition._getTransformedByInsertOperation(e),[n])),rn(vn,vn,(n,e,t)=>{if(n.sourcePosition.isEqual(e.sourcePosition)&&n.targetPosition.isEqual(e.targetPosition)){if(t.bWasUndone){const i=e.graveyardPosition.path.slice();return i.push(0),n.sourcePosition=new si(e.graveyardPosition.root,i),n.howMany=0,[n]}return[new Sn(0)]}if(n.sourcePosition.isEqual(e.sourcePosition)&&!n.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const i=n.targetPosition.root.rootName=="$graveyard",o=e.targetPosition.root.rootName=="$graveyard";if(o&&!i||!(i&&!o)&&t.aIsStrong){const s=e.targetPosition._getTransformedByMergeOperation(e),p=n.targetPosition._getTransformedByMergeOperation(e);return[new an(s,n.howMany,p,0)]}return[new Sn(0)]}return n.sourcePosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByMergeOperation(e),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),n.graveyardPosition.isEqual(e.graveyardPosition)&&t.aIsStrong||(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(e)),[n]}),rn(vn,an,(n,e,t)=>{const i=zt._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&n.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(n.sourcePosition)?[new Sn(0)]:(n.sourcePosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.sourcePosition.hasSameParentAs(e.sourcePosition)&&(n.howMany-=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByMoveOperation(e),n.targetPosition=n.targetPosition._getTransformedByMoveOperation(e),n.graveyardPosition.isEqual(e.targetPosition)||(n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(e)),[n])}),rn(vn,gn,(n,e,t)=>{if(e.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),n.deletionPosition.isEqual(e.graveyardPosition)&&(n.howMany=e.howMany)),n.targetPosition.isEqual(e.splitPosition)){const i=e.howMany!=0,o=e.graveyardPosition&&n.deletionPosition.isEqual(e.graveyardPosition);if(i||o||t.abRelation=="mergeTargetNotMoved")return n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(e),[n]}if(n.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return n.howMany=0,n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n];if(t.abRelation=="mergeSameElement"||n.sourcePosition.offset>0)return n.sourcePosition=e.moveTargetPosition.clone(),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n]}return n.sourcePosition.hasSameParentAs(e.splitPosition)&&(n.howMany=e.splitPosition.offset),n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(e),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n]}),rn(an,xn,(n,e)=>{const t=zt._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByInsertOperation(e,!1)[0];return n.sourcePosition=t.start,n.howMany=t.end.offset-t.start.offset,n.targetPosition.isEqual(e.position)||(n.targetPosition=n.targetPosition._getTransformedByInsertOperation(e)),[n]}),rn(an,an,(n,e,t)=>{const i=zt._createFromPositionAndShift(n.sourcePosition,n.howMany),o=zt._createFromPositionAndShift(e.sourcePosition,e.howMany);let s,p=t.aIsStrong,B=!t.aIsStrong;if(t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?B=!0:t.abRelation!="insertAfter"&&t.baRelation!="insertBefore"||(B=!1),s=n.targetPosition.isEqual(e.targetPosition)&&B?n.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):n.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Fr(n,e)&&Fr(e,n))return[e.getReversed()];if(i.containsPosition(e.targetPosition)&&i.containsRange(o,!0))return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Yo([i],s);if(o.containsPosition(n.targetPosition)&&o.containsRange(i,!0))return i.start=i.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.end=i.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Yo([i],s);const G=(0,r.Rt)(n.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(G=="prefix"||G=="extension")return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Yo([i],s);n.type!="remove"||e.type=="remove"||t.aWasUndone||t.forceWeakRemove?n.type=="remove"||e.type!="remove"||t.bWasUndone||t.forceWeakRemove||(p=!1):p=!0;const le=[],fe=i.getDifference(o);for(const it of fe){it.start=it.start._getTransformedByDeletion(e.sourcePosition,e.howMany),it.end=it.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const Pt=(0,r.Rt)(it.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",Qt=it._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,Pt);le.push(...Qt)}const We=i.getIntersection(o);return We!==null&&p&&(We.start=We.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),We.end=We.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),le.length===0?le.push(We):le.length==1?o.start.isBefore(i.start)||o.start.isEqual(i.start)?le.unshift(We):le.push(We):le.splice(1,0,We)),le.length===0?[new Sn(n.baseVersion)]:Yo(le,s)}),rn(an,gn,(n,e,t)=>{let i=n.targetPosition.clone();n.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&t.abRelation!="moveTargetAfter"||(i=n.targetPosition._getTransformedBySplitOperation(e));const o=zt._createFromPositionAndShift(n.sourcePosition,n.howMany);if(o.end.isEqual(e.insertionPosition))return e.graveyardPosition||n.howMany++,n.targetPosition=i,[n];if(o.start.hasSameParentAs(e.splitPosition)&&o.containsPosition(e.splitPosition)){let p=new zt(e.splitPosition,o.end);return p=p._getTransformedBySplitOperation(e),Yo([new zt(o.start,e.splitPosition),p],i)}n.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(i=e.moveTargetPosition),n.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(i=n.targetPosition);const s=[o._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const p=o.start.isEqual(e.graveyardPosition)||o.containsPosition(e.graveyardPosition);n.howMany>1&&p&&!t.aWasUndone&&s.push(zt._createFromPositionAndShift(e.insertionPosition,1))}return Yo(s,i)}),rn(an,vn,(n,e,t)=>{const i=zt._createFromPositionAndShift(n.sourcePosition,n.howMany);if(e.deletionPosition.hasSameParentAs(n.sourcePosition)&&i.containsPosition(e.sourcePosition)){if(n.type!="remove"||t.forceWeakRemove){if(n.howMany==1)return t.bWasUndone?(n.sourcePosition=e.graveyardPosition.clone(),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),[n]):[new Sn(0)]}else if(!t.aWasUndone){const s=[];let p=e.graveyardPosition.clone(),B=e.targetPosition._getTransformedByMergeOperation(e);n.howMany>1&&(s.push(new an(n.sourcePosition,n.howMany-1,n.targetPosition,0)),p=p._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany-1),B=B._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany-1));const G=e.deletionPosition._getCombined(n.sourcePosition,n.targetPosition),le=new an(p,1,G,0),fe=le.getMovedRangeStart().path.slice();fe.push(0);const We=new si(le.targetPosition.root,fe);B=B._getTransformedByMove(p,G,1);const it=new an(B,e.howMany,We,0);return s.push(le),s.push(it),s}}const o=zt._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByMergeOperation(e);return n.sourcePosition=o.start,n.howMany=o.end.offset-o.start.offset,n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),[n]}),rn(jn,xn,(n,e)=>(n.position=n.position._getTransformedByInsertOperation(e),[n])),rn(jn,vn,(n,e)=>n.position.isEqual(e.deletionPosition)?(n.position=e.graveyardPosition.clone(),n.position.stickiness="toNext",[n]):(n.position=n.position._getTransformedByMergeOperation(e),[n])),rn(jn,an,(n,e)=>(n.position=n.position._getTransformedByMoveOperation(e),[n])),rn(jn,jn,(n,e,t)=>{if(n.position.isEqual(e.position)){if(!t.aIsStrong)return[new Sn(0)];n.oldName=e.newName}return[n]}),rn(jn,gn,(n,e)=>{const t=n.position.path,i=e.splitPosition.getParentPath();if((0,r.Rt)(t,i)=="same"&&!e.graveyardPosition){const o=new jn(n.position.getShiftedBy(1),n.oldName,n.newName,0);return[n,o]}return n.position=n.position._getTransformedBySplitOperation(e),[n]}),rn(co,co,(n,e,t)=>{if(n.root===e.root&&n.key===e.key){if(!t.aIsStrong||n.newValue===e.newValue)return[new Sn(0)];n.oldValue=e.newValue}return[n]}),rn(gn,xn,(n,e)=>(n.splitPosition.hasSameParentAs(e.position)&&n.splitPosition.offset<e.position.offset&&(n.howMany+=e.howMany),n.splitPosition=n.splitPosition._getTransformedByInsertOperation(e),n.insertionPosition=n.insertionPosition._getTransformedByInsertOperation(e),[n])),rn(gn,vn,(n,e,t)=>{if(!n.graveyardPosition&&!t.bWasUndone&&n.splitPosition.hasSameParentAs(e.sourcePosition)){const i=e.graveyardPosition.path.slice();i.push(0);const o=new si(e.graveyardPosition.root,i),s=gn.getInsertionPosition(new si(e.graveyardPosition.root,i)),p=new gn(o,0,s,null,0);return n.splitPosition=n.splitPosition._getTransformedByMergeOperation(e),n.insertionPosition=gn.getInsertionPosition(n.splitPosition),n.graveyardPosition=p.insertionPosition.clone(),n.graveyardPosition.stickiness="toNext",[p,n]}return n.splitPosition.hasSameParentAs(e.deletionPosition)&&!n.splitPosition.isAfter(e.deletionPosition)&&n.howMany--,n.splitPosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.splitPosition=n.splitPosition._getTransformedByMergeOperation(e),n.insertionPosition=gn.getInsertionPosition(n.splitPosition),n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(e)),[n]}),rn(gn,an,(n,e,t)=>{const i=zt._createFromPositionAndShift(e.sourcePosition,e.howMany);if(n.graveyardPosition){const s=i.start.isEqual(n.graveyardPosition)||i.containsPosition(n.graveyardPosition);if(!t.bWasUndone&&s){const p=n.splitPosition._getTransformedByMoveOperation(e),B=n.graveyardPosition._getTransformedByMoveOperation(e),G=B.path.slice();G.push(0);const le=new si(B.root,G);return[new an(p,n.howMany,le,0)]}n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(e)}const o=n.splitPosition.isEqual(e.targetPosition);if(o&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return n.howMany+=e.howMany,n.splitPosition=n.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),n.insertionPosition=gn.getInsertionPosition(n.splitPosition),[n];if(o&&t.abRelation&&t.abRelation.howMany){const{howMany:s,offset:p}=t.abRelation;return n.howMany+=s,n.splitPosition=n.splitPosition.getShiftedBy(p),[n]}if(n.splitPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(n.splitPosition)){const s=e.howMany-(n.splitPosition.offset-e.sourcePosition.offset);return n.howMany-=s,n.splitPosition.hasSameParentAs(e.targetPosition)&&n.splitPosition.offset<e.targetPosition.offset&&(n.howMany+=e.howMany),n.splitPosition=e.sourcePosition.clone(),n.insertionPosition=gn.getInsertionPosition(n.splitPosition),[n]}return e.sourcePosition.isEqual(e.targetPosition)||(n.splitPosition.hasSameParentAs(e.sourcePosition)&&n.splitPosition.offset<=e.sourcePosition.offset&&(n.howMany-=e.howMany),n.splitPosition.hasSameParentAs(e.targetPosition)&&n.splitPosition.offset<e.targetPosition.offset&&(n.howMany+=e.howMany)),n.splitPosition.stickiness="toNone",n.splitPosition=n.splitPosition._getTransformedByMoveOperation(e),n.splitPosition.stickiness="toNext",n.graveyardPosition?n.insertionPosition=n.insertionPosition._getTransformedByMoveOperation(e):n.insertionPosition=gn.getInsertionPosition(n.splitPosition),[n]}),rn(gn,gn,(n,e,t)=>{if(n.splitPosition.isEqual(e.splitPosition)){if(!n.graveyardPosition&&!e.graveyardPosition)return[new Sn(0)];if(n.graveyardPosition&&e.graveyardPosition&&n.graveyardPosition.isEqual(e.graveyardPosition))return[new Sn(0)];if(t.abRelation=="splitBefore")return n.howMany=0,n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(e),[n]}if(n.graveyardPosition&&e.graveyardPosition&&n.graveyardPosition.isEqual(e.graveyardPosition)){const i=n.splitPosition.root.rootName=="$graveyard",o=e.splitPosition.root.rootName=="$graveyard";if(o&&!i||!(i&&!o)&&t.aIsStrong){const s=[];return e.howMany&&s.push(new an(e.moveTargetPosition,e.howMany,e.splitPosition,0)),n.howMany&&s.push(new an(n.splitPosition,n.howMany,n.moveTargetPosition,0)),s}return[new Sn(0)]}if(n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(e)),n.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return n.howMany++,[n];if(e.splitPosition.isEqual(n.insertionPosition)&&t.baRelation=="splitBefore"){const i=e.insertionPosition.path.slice();i.push(0);const o=new si(e.insertionPosition.root,i);return[n,new an(n.insertionPosition,1,o,0)]}return n.splitPosition.hasSameParentAs(e.splitPosition)&&n.splitPosition.offset<e.splitPosition.offset&&(n.howMany-=e.howMany),n.splitPosition=n.splitPosition._getTransformedBySplitOperation(e),n.insertionPosition=gn.getInsertionPosition(n.splitPosition),[n]});class Mn extends(0,r.ln)(si){constructor(e,t,i="toNone"){if(super(e,t,i),!this.root.is("rootElement"))throw new r.Bb("model-liveposition-root-not-rootelement",e);Es.call(this)}detach(){this.stopListening()}toPosition(){return new si(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}function Es(){this.listenTo(this.root.document.model,"applyOperation",(n,e)=>{const t=e[0];t.isDocumentOperation&&Is.call(this,t)},{priority:"low"})}function Is(n){const e=this.getTransformedByOperation(n);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}Mn.prototype.is=function(n){return n==="livePosition"||n==="model:livePosition"||n=="position"||n==="model:position"};class Qo{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},(0,r.KE)("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:i=!0,isUndo:o=!1,isTyping:s=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=i,this.isUndo=o,this.isTyping=s}get type(){return(0,r.KE)("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}class Ps{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const i of t.range.getItems({shallow:!0}))this._isInInsertedElement(i.parent)||this._markAttribute(i);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const i=this._isInInsertedElement(t.sourcePosition.parent),o=this._isInInsertedElement(t.targetPosition.parent);i||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),o||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const i=zt._createFromPositionAndShift(t.position,1);for(const o of this._markerCollection.getMarkersIntersectingRange(i)){const s=o.getData();this.bufferMarkerChange(o.name,s,s)}break}case"split":{const i=t.splitPosition.parent;this._isInInsertedElement(i)||this._markRemove(i,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const i=t.sourcePosition.parent;this._isInInsertedElement(i.parent)||this._markRemove(i.parent,i.startOffset,1);const o=t.graveyardPosition.parent;this._markInsert(o,t.graveyardPosition.offset,1);const s=t.targetPosition.parent;this._isInInsertedElement(s)||this._markInsert(s,t.targetPosition.offset,i.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(e,t,i){const o=this._changedMarkers.get(e);o?(o.newMarkerData=i,o.oldMarkerData.range==null&&i.range==null&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{newMarkerData:i,oldMarkerData:t})}getMarkersToRemove(){const e=[];for(const[t,i]of this._changedMarkers)i.oldMarkerData.range!=null&&e.push({name:t,range:i.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,i]of this._changedMarkers)i.newMarkerData.range!=null&&e.push({name:t,range:i.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const i=e.range&&!t.range,o=!e.range&&t.range,s=e.range&&t.range&&!e.range.isEqual(t.range);if(i||o||s)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const i of this._changesInElement.keys()){const o=this._changesInElement.get(i).sort((fe,We)=>fe.offset===We.offset?fe.type!=We.type?fe.type=="remove"?-1:1:0:fe.offset<We.offset?-1:1),s=this._elementSnapshots.get(i),p=Hr(i.getChildren()),B=Ls(s.length,o);let G=0,le=0;for(const fe of B)if(fe==="i")t.push(this._getInsertDiff(i,G,p[G])),G++;else if(fe==="r")t.push(this._getRemoveDiff(i,G,s[le])),le++;else if(fe==="a"){const We=p[G].attributes,it=s[le].attributes;let Pt;if(p[G].name=="$text")Pt=new zt(si._createAt(i,G),si._createAt(i,G+1));else{const Qt=i.offsetToIndex(G);Pt=new zt(si._createAt(i,G),si._createAt(i.getChild(Qt),0))}t.push(...this._getAttributesDiff(Pt,it,We)),G++,le++}else G++,le++}t.sort((i,o)=>i.position.root!=o.position.root?i.position.root.rootName<o.position.root.rootName?-1:1:i.position.isEqual(o.position)?i.changeCount-o.changeCount:i.position.isBefore(o.position)?-1:1);for(let i=1,o=0;i<t.length;i++){const s=t[o],p=t[i],B=s.type=="remove"&&p.type=="remove"&&s.name=="$text"&&p.name=="$text"&&s.position.isEqual(p.position),G=s.type=="insert"&&p.type=="insert"&&s.name=="$text"&&p.name=="$text"&&s.position.parent==p.position.parent&&s.position.offset+s.length==p.position.offset,le=s.type=="attribute"&&p.type=="attribute"&&s.position.parent==p.position.parent&&s.range.isFlat&&p.range.isFlat&&s.position.offset+s.length==p.position.offset&&s.attributeKey==p.attributeKey&&s.attributeOldValue==p.attributeOldValue&&s.attributeNewValue==p.attributeNewValue;B||G||le?(s.length++,le&&(s.range.end=s.range.end.getShiftedBy(1)),t[i]=null):o=i}t=t.filter(i=>i);for(const i of t)delete i.changeCount,i.type=="attribute"&&(delete i.position,delete i.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(Ms),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=zt._createOn(e);for(const i of this._markerCollection.getMarkersIntersectingRange(t)){const o=i.getData();this.bufferMarkerChange(i.name,o,o)}this._cachedChanges=null}_markInsert(e,t,i){const o={type:"insert",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,o)}_markRemove(e,t,i){const o={type:"remove",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,o),this._removeAllNestedChanges(e,t,i)}_markAttribute(e){const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const i=this._getChangesForElement(e);this._handleChange(t,i),i.push(t);for(let o=0;o<i.length;o++)i[o].howMany<1&&(i.splice(o,1),o--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,Hr(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const i of t){const o=e.offset+e.howMany,s=i.offset+i.howMany;if(e.type=="insert"&&(i.type=="insert"&&(e.offset<=i.offset?i.offset+=e.howMany:e.offset<s&&(i.howMany+=e.nodesToHandle,e.nodesToHandle=0)),i.type=="remove"&&e.offset<i.offset&&(i.offset+=e.howMany),i.type=="attribute")){if(e.offset<=i.offset)i.offset+=e.howMany;else if(e.offset<s){const p=i.howMany;i.howMany=e.offset-i.offset,t.unshift({type:"attribute",offset:o,howMany:p-i.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(i.type=="insert"){if(o<=i.offset)i.offset-=e.howMany;else if(o<=s)if(e.offset<i.offset){const p=o-i.offset;i.offset=e.offset,i.howMany-=p,e.nodesToHandle-=p}else i.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=i.offset)e.nodesToHandle-=i.howMany,i.howMany=0;else if(e.offset<s){const p=s-e.offset;i.howMany-=p,e.nodesToHandle-=p}}if(i.type=="remove"&&(o<=i.offset?i.offset-=e.howMany:e.offset<i.offset&&(e.nodesToHandle+=i.howMany,i.howMany=0)),i.type=="attribute"){if(o<=i.offset)i.offset-=e.howMany;else if(e.offset<i.offset){const p=o-i.offset;i.offset=e.offset,i.howMany-=p}else if(e.offset<s)if(o<=s){const p=i.howMany;i.howMany=e.offset-i.offset;const B=p-i.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:B,count:this._changeCount++})}else i.howMany-=s-e.offset}}if(e.type=="attribute"){if(i.type=="insert")if(e.offset<i.offset&&o>i.offset){if(o>s){const p={type:"attribute",offset:s,howMany:o-s,count:this._changeCount++};this._handleChange(p,t),t.push(p)}e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=i.offset&&e.offset<s&&(o>s?(e.nodesToHandle=o-s,e.offset=s):e.nodesToHandle=0);if(i.type=="remove"&&e.offset<i.offset&&o>i.offset){const p={type:"attribute",offset:i.offset,howMany:o-i.offset,count:this._changeCount++};this._handleChange(p,t),t.push(p),e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}i.type=="attribute"&&(e.offset>=i.offset&&o<=s?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=i.offset&&o>=s&&(i.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,i){return{type:"insert",position:si._createAt(e,t),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,t,i){return{type:"remove",position:si._createAt(e,t),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,i){const o=[];i=new Map(i);for(const[s,p]of t){const B=i.has(s)?i.get(s):null;B!==p&&o.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:s,attributeOldValue:p,attributeNewValue:B,changeCount:this._changeCount++}),i.delete(s)}for(const[s,p]of i)o.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:s,attributeOldValue:null,attributeNewValue:p,changeCount:this._changeCount++});return o}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const i=this._changesInElement.get(t),o=e.startOffset;if(i){for(const s of i)if(s.type=="insert"&&o>=s.offset&&o<s.offset+s.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,i){const o=new zt(si._createAt(e,t),si._createAt(e,t+i));for(const s of o.getItems({shallow:!0}))s.is("element")&&(this._elementSnapshots.delete(s),this._changesInElement.delete(s),this._removeAllNestedChanges(s,0,s.maxOffset))}}function Hr(n){const e=[];for(const t of n)if(t.is("$text"))for(let i=0;i<t.data.length;i++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes())});return e}function Ls(n,e){const t=[];let i=0,o=0;for(const s of e){if(s.offset>i){for(let p=0;p<s.offset-i;p++)t.push("e");o+=s.offset-i}if(s.type=="insert"){for(let p=0;p<s.howMany;p++)t.push("i");i=s.offset+s.howMany}else if(s.type=="remove"){for(let p=0;p<s.howMany;p++)t.push("r");i=s.offset,o+=s.howMany}else t.push(..."a".repeat(s.howMany).split("")),i=s.offset+s.howMany,o+=s.howMany}if(o<n)for(let s=0;s<n-o-i;s++)t.push("e");return t}function Ms(n){const e="position"in n&&n.position.root.rootName=="$graveyard",t="range"in n&&n.range.root.rootName=="$graveyard";return!e&&!t}class Ur{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new r.Bb("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const i=this._operations[0];e===void 0&&(e=i.baseVersion);let o=t-1;for(const[B,G]of this._gaps)e>B&&e<G&&(e=G),o>B&&o<G&&(o=B-1);if(o<i.baseVersion||e>this.lastOperation.baseVersion)return[];let s=this._baseVersionToOperationIndex.get(e);s===void 0&&(s=0);let p=this._baseVersionToOperationIndex.get(o);return p===void 0&&(p=this._operations.length-1),this._operations.slice(s,p+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class br extends on{constructor(e,t,i="main"){super(t),this._document=e,this.rootName=i}get document(){return this._document}toJSON(){return this.rootName}}br.prototype.is=function(n,e){return e?e===this.name&&(n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"):n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"||n==="node"||n==="model:node"};const Tr="$graveyard";class Rs extends(0,r.ln)(){constructor(e){super(),this.model=e,this.history=new Ur,this.selection=new oe(this),this.roots=new r.FE({idProperty:"rootName"}),this.differ=new Ps(e.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Tr),this.listenTo(e,"applyOperation",(t,i)=>{const o=i[0];o.isDocumentOperation&&this.differ.bufferOperation(o)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,i)=>{const o=i[0];o.isDocumentOperation&&this.history.addOperation(o)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,i,o,s,p)=>{const B={...i.getData(),range:s};this.differ.bufferMarkerChange(i.name,p,B),o===null&&i.on("change",(G,le)=>{const fe=i.getData();this.differ.bufferMarkerChange(i.name,{...fe,range:le},fe)})})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(Tr)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new r.Bb("model-document-createroot-name-exists",this,{name:t});const i=new br(this,e,t);return this.roots.add(i),i}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(){return Array.from(this.roots,e=>e.rootName).filter(e=>e!=Tr)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=T(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const e of this.roots)if(e!==this.graveyard)return e;return this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,i=t.schema,o=t.createPositionFromPath(e,[0]);return i.getNearestSelectionRange(o)||t.createRange(o)}_validateSelectionRange(e){return Wr(e.start)&&Wr(e.end)}_callPostFixers(e){let t=!1;do for(const i of this._postFixers)if(this.selection.refresh(),t=i(e),t)break;while(t)}}function Wr(n){const e=n.textNode;if(e){const t=e.data,i=n.offset-e.startOffset;return!(0,r.to)(t,i)&&!(0,r.pp)(t,i)}return!0}class Os extends(0,r.ln)(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof Jo?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,i=!1,o=!1){const s=e instanceof Jo?e.name:e;if(s.includes(","))throw new r.Bb("markercollection-incorrect-marker-name",this);const p=this._markers.get(s);if(p){const le=p.getData(),fe=p.getRange();let We=!1;return fe.isEqual(t)||(p._attachLiveRange(A.fromRange(t)),We=!0),i!=p.managedUsingOperations&&(p._managedUsingOperations=i,We=!0),typeof o=="boolean"&&o!=p.affectsData&&(p._affectsData=o,We=!0),We&&this.fire(`update:${s}`,p,fe,t,le),p}const B=A.fromRange(t),G=new Jo(s,B,i,o);return this._markers.set(s,G),this.fire(`update:${s}`,G,null,t,{...G.getData(),range:null}),G}_remove(e){const t=e instanceof Jo?e.name:e,i=this._markers.get(t);return!!i&&(this._markers.delete(t),this.fire(`update:${t}`,i,i.getRange(),null,i.getData()),this._destroyMarker(i),!0)}_refresh(e){const t=e instanceof Jo?e.name:e,i=this._markers.get(t);if(!i)throw new r.Bb("markercollection-refresh-marker-not-exists",this);const o=i.getRange();this.fire(`update:${t}`,i,o,o,i.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Jo extends(0,r.ln)(Un){constructor(e,t,i,o){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=i,this._affectsData=o}get managedUsingOperations(){if(!this._liveRange)throw new r.Bb("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new r.Bb("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new r.Bb("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new r.Bb("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new r.Bb("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Jo.prototype.is=function(n){return n==="marker"||n==="model:marker"};class js extends $n{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new r.Bb("detach-operation-on-document-node",this)}_execute(){Mr(zt._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class no extends Un{constructor(e){super(),this.markers=new Map,this._children=new so,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const i of e)t=t.getChild(t.offsetToIndex(i));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const i of e)i.name?t.push(on.fromJSON(i)):t.push(nn.fromJSON(i));return new no(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const i=function(o){return typeof o=="string"?[new nn(o)]:((0,r.TW)(o)||(o=[o]),Array.from(o).map(s=>typeof s=="string"?new nn(s):s instanceof Pn?new nn(s.data,s.getAttributes()):s))}(t);for(const o of i)o.parent!==null&&o._remove(),o.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,t=1){const i=this._children._removeNodes(e,t);for(const o of i)o.parent=null;return i}}no.prototype.is=function(n){return n==="documentFragment"||n==="model:documentFragment"};class Ns{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new nn(e,t)}createElement(e,t){return new on(e,t)}createDocumentFragment(){return new no}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,i=0){if(this._assertWriterUsedCorrectly(),e instanceof nn&&e.data=="")return;const o=si._createAt(t,i);if(e.parent){if(qr(e.root,o.root))return void this.move(zt._createOn(e),o);if(e.root.document)throw new r.Bb("model-writer-insert-forbidden-move",this);this.remove(e)}const s=o.root.document?o.root.document.version:null,p=new xn(o,e,s);if(e instanceof nn&&(p.shouldReceiveAttributes=!0),this.batch.addOperation(p),this.model.applyOperation(p),e instanceof no)for(const[B,G]of e.markers){const le=si._createAt(G.root,0),fe={range:new zt(G.start._getCombined(le,o),G.end._getCombined(le,o)),usingOperation:!0,affectsData:!0};this.model.markers.has(B)?this.updateMarker(B,fe):this.addMarker(B,fe)}}insertText(e,t,i,o){t instanceof no||t instanceof on||t instanceof si?this.insert(this.createText(e),t,i):this.insert(this.createText(e,t),i,o)}insertElement(e,t,i,o){t instanceof no||t instanceof on||t instanceof si?this.insert(this.createElement(e),t,i):this.insert(this.createElement(e,t),i,o)}append(e,t){this.insert(e,t,"end")}appendText(e,t,i){t instanceof no||t instanceof on?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),i,"end")}appendElement(e,t,i){t instanceof no||t instanceof on?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),i,"end")}setAttribute(e,t,i){if(this._assertWriterUsedCorrectly(),i instanceof zt){const o=i.getMinimalFlatRanges();for(const s of o)Zr(this,e,t,s)}else $r(this,e,t,i)}setAttributes(e,t){for(const[i,o]of(0,r.qL)(e))this.setAttribute(i,o,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof zt){const i=t.getMinimalFlatRanges();for(const o of i)Zr(this,e,null,o)}else $r(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=i=>{for(const o of i.getAttributeKeys())this.removeAttribute(o,i)};if(e instanceof zt)for(const i of e.getItems())t(i);else t(e)}move(e,t,i){if(this._assertWriterUsedCorrectly(),!(e instanceof zt))throw new r.Bb("writer-move-invalid-range",this);if(!e.isFlat)throw new r.Bb("writer-move-range-not-flat",this);const o=si._createAt(t,i);if(o.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!qr(e.root,o.root))throw new r.Bb("writer-move-different-document",this);const s=e.root.document?e.root.document.version:null,p=new an(e.start,e.end.offset-e.start.offset,o,s);this.batch.addOperation(p),this.model.applyOperation(p)}remove(e){this._assertWriterUsedCorrectly();const t=(e instanceof zt?e:zt._createOn(e)).getMinimalFlatRanges().reverse();for(const i of t)this._addOperationForAffectedMarkers("move",i),Vs(i.start,i.end.offset-i.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,i=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof on))throw new r.Bb("writer-merge-no-element-before",this);if(!(i instanceof on))throw new r.Bb("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,i){return this.model.createPositionFromPath(e,t,i)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,i=e.nodeAfter;this.move(zt._createIn(i),si._createAt(t,"end")),this.remove(i)}_merge(e){const t=si._createAt(e.nodeBefore,"end"),i=si._createAt(e.nodeAfter,0),o=e.root.document.graveyard,s=new si(o,[0]),p=e.root.document.version,B=new vn(i,e.nodeAfter.maxOffset,t,s,p);this.batch.addOperation(B),this.model.applyOperation(B)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof on))throw new r.Bb("writer-rename-not-element-instance",this);const i=e.root.document?e.root.document.version:null,o=new jn(si._createBefore(e),e.name,t,i);this.batch.addOperation(o),this.model.applyOperation(o)}split(e,t){this._assertWriterUsedCorrectly();let i,o,s=e.parent;if(!s.parent)throw new r.Bb("writer-split-element-no-parent",this);if(t||(t=s.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new r.Bb("writer-split-invalid-limit-element",this);do{const p=s.root.document?s.root.document.version:null,B=s.maxOffset-e.offset,G=gn.getInsertionPosition(e),le=new gn(e,B,G,null,p);this.batch.addOperation(le),this.model.applyOperation(le),i||o||(i=s,o=e.parent.nextSibling),s=(e=this.createPositionAfter(e.parent)).parent}while(s!==t);return{position:e,range:new zt(si._createAt(i,"end"),si._createAt(o,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new r.Bb("writer-wrap-range-not-flat",this);const i=t instanceof on?t:new on(t);if(i.childCount>0)throw new r.Bb("writer-wrap-element-not-empty",this);if(i.parent!==null)throw new r.Bb("writer-wrap-element-attached",this);this.insert(i,e.start);const o=new zt(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(o,si._createAt(i,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new r.Bb("writer-unwrap-element-no-parent",this);this.move(zt._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new r.Bb("writer-addmarker-no-usingoperation",this);const i=t.usingOperation,o=t.range,s=t.affectsData!==void 0&&t.affectsData;if(this.model.markers.has(e))throw new r.Bb("writer-addmarker-marker-exists",this);if(!o)throw new r.Bb("writer-addmarker-no-range",this);return i?(pr(this,e,null,o,s),this.model.markers.get(e)):this.model.markers._set(e,o,i,s)}updateMarker(e,t){this._assertWriterUsedCorrectly();const i=typeof e=="string"?e:e.name,o=this.model.markers.get(i);if(!o)throw new r.Bb("writer-updatemarker-marker-not-exists",this);if(!t)return(0,r.KE)("writer-updatemarker-reconvert-using-editingcontroller",{markerName:i}),void this.model.markers._refresh(o);const s=typeof t.usingOperation=="boolean",p=typeof t.affectsData=="boolean",B=p?t.affectsData:o.affectsData;if(!s&&!t.range&&!p)throw new r.Bb("writer-updatemarker-wrong-options",this);const G=o.getRange(),le=t.range?t.range:G;s&&t.usingOperation!==o.managedUsingOperations?t.usingOperation?pr(this,i,null,le,B):(pr(this,i,G,null,B),this.model.markers._set(i,le,void 0,B)):o.managedUsingOperations?pr(this,i,G,le,B):this.model.markers._set(i,le,void 0,B)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new r.Bb("writer-removemarker-no-marker",this);const i=this.model.markers.get(t);if(!i.managedUsingOperations)return void this.model.markers._remove(t);pr(this,t,i.getRange(),null,i.affectsData)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[i,o]of(0,r.qL)(e))this._setSelectionAttribute(i,o)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const o=oe._getStoreAttributeKey(e);this.setAttribute(o,t,i.anchor.parent)}i._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const i=oe._getStoreAttributeKey(e);this.removeAttribute(i,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new r.Bb("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const i of this.model.markers){if(!i.managedUsingOperations)continue;const o=i.getRange();let s=!1;if(e==="move"){const p=t;s=p.containsPosition(o.start)||p.start.isEqual(o.start)||p.containsPosition(o.end)||p.end.isEqual(o.end)}else{const p=t,B=p.nodeBefore,G=p.nodeAfter,le=o.start.parent==B&&o.start.isAtEnd,fe=o.end.parent==G&&o.end.offset==0,We=o.end.nodeAfter==G,it=o.start.nodeAfter==G;s=le||fe||We||it}s&&this.updateMarker(i.name,{range:o})}}}function Zr(n,e,t,i){const o=n.model,s=o.document;let p,B,G,le=i.start;for(const We of i.getWalker({shallow:!0}))G=We.item.getAttribute(e),p&&B!=G&&(B!=t&&fe(),le=p),p=We.nextPosition,B=G;function fe(){const We=new zt(le,p),it=We.root.document?s.version:null,Pt=new yn(We,e,B,t,it);n.batch.addOperation(Pt),o.applyOperation(Pt)}p instanceof si&&p!=le&&B!=t&&fe()}function $r(n,e,t,i){const o=n.model,s=o.document,p=i.getAttribute(e);let B,G;if(p!=t){if(i.root===i){const le=i.document?s.version:null;G=new co(i,e,p,t,le)}else{B=new zt(si._createBefore(i),n.createPositionAfter(i));const le=B.root.document?s.version:null;G=new yn(B,e,p,t,le)}n.batch.addOperation(G),o.applyOperation(G)}}function pr(n,e,t,i,o){const s=n.model,p=s.document,B=new Ln(e,t,i,s.markers,!!o,p.version);n.batch.addOperation(B),s.applyOperation(B)}function Vs(n,e,t,i){let o;if(n.root.document){const s=i.document,p=new si(s.graveyard,[0]);o=new an(n,e,p,s.version)}else o=new js(n,e);t.addOperation(o),i.applyOperation(o)}function qr(n,e){return n===e||n instanceof br&&e instanceof br}function Bs(n){n.document.registerPostFixer(e=>function(t,i){const o=i.document.selection,s=i.schema,p=[];let B=!1;for(const G of o.getRanges()){const le=zs(G,s);le&&!le.isEqual(G)?(p.push(le),B=!0):p.push(G)}return B&&t.setSelection(function(G){const le=[...G],fe=new Set;let We=1;for(;We<le.length;){const it=le[We],Pt=le.slice(0,We);for(const[Qt,mi]of Pt.entries())if(!fe.has(Qt)){if(it.isEqual(mi))fe.add(Qt);else if(it.isIntersecting(mi)){fe.add(Qt),fe.add(We);const _i=it.getJoined(mi);le.push(_i)}}We++}return le.filter((it,Pt)=>!fe.has(Pt))}(p),{backward:o.isBackward}),!1}(e,n))}function zs(n,e){return n.isCollapsed?function(t,i){const o=t.start,s=i.getNearestSelectionRange(o);if(!s){const B=o.getAncestors().reverse().find(G=>i.isObject(G));return B?zt._createOn(B):null}if(!s.isCollapsed)return s;const p=s.start;return o.isEqual(p)?null:new zt(p)}(n,e):function(t,i){const{start:o,end:s}=t,p=i.checkChild(o,"$text"),B=i.checkChild(s,"$text"),G=i.getLimitElement(o),le=i.getLimitElement(s);if(G===le){if(p&&B)return null;if(function(it,Pt,Qt){const mi=it.nodeAfter&&!Qt.isLimit(it.nodeAfter)||Qt.checkChild(it,"$text"),_i=Pt.nodeBefore&&!Qt.isLimit(Pt.nodeBefore)||Qt.checkChild(Pt,"$text");return mi||_i}(o,s,i)){const it=o.nodeAfter&&i.isSelectable(o.nodeAfter)?null:i.getNearestSelectionRange(o,"forward"),Pt=s.nodeBefore&&i.isSelectable(s.nodeBefore)?null:i.getNearestSelectionRange(s,"backward"),Qt=it?it.start:o,mi=Pt?Pt.end:s;return new zt(Qt,mi)}}const fe=G&&!G.is("rootElement"),We=le&&!le.is("rootElement");if(fe||We){const it=o.nodeAfter&&s.nodeBefore&&o.nodeAfter.parent===s.nodeBefore.parent,Pt=fe&&(!it||!Gr(o.nodeAfter,i)),Qt=We&&(!it||!Gr(s.nodeBefore,i));let mi=o,_i=s;return Pt&&(mi=si._createBefore(Kr(G,i))),Qt&&(_i=si._createAfter(Kr(le,i))),new zt(mi,_i)}return null}(n,e)}function Kr(n,e){let t=n,i=t;for(;e.isLimit(i)&&i.parent;)t=i,i=i.parent;return t}function Gr(n,e){return n&&e.isSelectable(n)}function Ds(n,e,t={}){if(e.isCollapsed)return;const i=e.getFirstRange();if(i.root.rootName=="$graveyard")return;const o=n.schema;n.change(s=>{if(!t.doNotResetEntireContent&&function(le,fe){const We=le.getLimitElement(fe);if(!fe.containsEntireContent(We))return!1;const it=fe.getFirstRange();return it.start.parent==it.end.parent?!1:le.checkChild(We,"paragraph")}(o,e))return void function(le,fe){const We=le.model.schema.getLimitElement(fe);le.remove(le.createRangeIn(We)),Jr(le,le.createPositionAt(We,0),fe)}(s,e);const p={};if(!t.doNotAutoparagraph){const le=e.getSelectedElement();le&&Object.assign(p,o.getAttributesWithProperty(le,"copyOnReplace",!0))}const[B,G]=function(le){const fe=le.root.document.model,We=le.start;let it=le.end;if(fe.hasContent(le,{ignoreMarkers:!0})){const Pt=function(Qt){const mi=Qt.parent,_i=mi.root.document.model.schema,Yi=mi.getAncestors({parentFirst:!0,includeSelf:!0});for(const Ni of Yi){if(_i.isLimit(Ni))return null;if(_i.isBlock(Ni))return Ni}}(it);if(Pt&&it.isTouching(fe.createPositionAt(Pt,0))){const Qt=fe.createSelection(le);fe.modifySelection(Qt,{direction:"backward"});const mi=Qt.getLastPosition(),_i=fe.createRange(mi,it);fe.hasContent(_i,{ignoreMarkers:!0})||(it=mi)}}return[Mn.fromPosition(We,"toPrevious"),Mn.fromPosition(it,"toNext")]}(i);B.isTouching(G)||s.remove(s.createRange(B,G)),t.leaveUnmerged||(function(le,fe,We){const it=le.model;if(!Ar(le.model.schema,fe,We))return;const[Pt,Qt]=function(mi,_i){const Yi=mi.getAncestors(),Ni=_i.getAncestors();let en=0;for(;Yi[en]&&Yi[en]==Ni[en];)en++;return[Yi[en],Ni[en]]}(fe,We);!Pt||!Qt||(!it.hasContent(Pt,{ignoreMarkers:!0})&&it.hasContent(Qt,{ignoreMarkers:!0})?Qr(le,fe,We,Pt.parent):Yr(le,fe,We,Pt.parent))}(s,B,G),o.removeDisallowedAttributes(B.parent.getChildren(),s)),Xr(s,e,B),!t.doNotAutoparagraph&&function(le,fe){const We=le.checkChild(fe,"$text"),it=le.checkChild(fe,"paragraph");return!We&&it}(o,B)&&Jr(s,B,e,p),B.detach(),G.detach()})}function Yr(n,e,t,i){const o=e.parent,s=t.parent;if(o!=i&&s!=i){for(e=n.createPositionAfter(o),(t=n.createPositionBefore(s)).isEqual(e)||n.insert(s,e),n.merge(e);t.parent.isEmpty;){const p=t.parent;t=n.createPositionBefore(p),n.remove(p)}Ar(n.model.schema,e,t)&&Yr(n,e,t,i)}}function Qr(n,e,t,i){const o=e.parent,s=t.parent;if(o!=i&&s!=i){for(e=n.createPositionAfter(o),(t=n.createPositionBefore(s)).isEqual(e)||n.insert(o,t);e.parent.isEmpty;){const p=e.parent;e=n.createPositionBefore(p),n.remove(p)}t=n.createPositionBefore(s),function(p,B){const G=B.nodeBefore,le=B.nodeAfter;G.name!=le.name&&p.rename(G,le.name),p.clearAttributes(G),p.setAttributes(Object.fromEntries(le.getAttributes()),G),p.merge(B)}(n,t),Ar(n.model.schema,e,t)&&Qr(n,e,t,i)}}function Ar(n,e,t){const i=e.parent,o=t.parent;return i!=o&&!n.isLimit(i)&&!n.isLimit(o)&&function(s,p,B){const G=new zt(s,p);for(const le of G.getWalker())if(B.isLimit(le.item))return!1;return!0}(e,t,n)}function Jr(n,e,t,i={}){const o=n.createElement("paragraph");n.model.schema.setAllowedAttributes(o,i,n),n.insert(o,e),Xr(n,t,n.createPositionAt(o,0))}function Xr(n,e,t){e instanceof oe?n.setSelection(t):e.setTo(t)}function es(n,e){const t=[];Array.from(n.getItems({direction:"backward"})).map(i=>e.createRangeOn(i)).filter(i=>(i.start.isAfter(n.start)||i.start.isEqual(n.start))&&(i.end.isBefore(n.end)||i.end.isEqual(n.end))).forEach(i=>{t.push(i.start.parent),e.remove(i)}),t.forEach(i=>{let o=i;for(;o.parent&&o.isEmpty;){const s=e.createRangeOn(o);o=o.parent,e.remove(s)}})}class Fs{constructor(e,t,i){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=i,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),i=this.writer.createPositionAfter(e);if(i.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new r.Bb("insertcontent-invalid-insertion-position",this);this.position=i,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?zt._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new zt(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let t=this._checkAndAutoParagraphToAllowedPosition(e);t||(t=this._checkAndSplitToAllowedPosition(e),t)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=Mn.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new r.Bb("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=Mn.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Mn.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof on)||!this._canMergeLeft(e))return;const t=Mn._createBefore(e);t.stickiness="toNext";const i=Mn.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=Mn._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Mn._createAt(t.nodeBefore,"end","toNext")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof on)||!this._canMergeRight(e))return;const t=Mn._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new r.Bb("insertcontent-invalid-insertion-position",this);this.position=si._createAt(t.nodeBefore,"end");const i=Mn.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=Mn._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Mn._createAt(t.nodeBefore,0,"toPrevious")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof on&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof on&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const i=this.position.parent;this.position=this.writer.createPositionBefore(i),i.isEmpty&&i.parent===t&&this.writer.remove(i)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const i=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=i,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function ts(n,e,t="auto"){const i=n.getSelectedElement();if(i&&e.schema.isObject(i)&&!e.schema.isInline(i))return t=="before"||t=="after"?e.createRange(e.createPositionAt(i,t)):e.createRangeOn(i);const o=(0,r.Ps)(n.getSelectedBlocks());if(!o)return e.createRange(n.focus);if(o.isEmpty)return e.createRange(e.createPositionAt(o,0));const s=e.createPositionAfter(o);return n.focus.isTouching(s)?e.createRange(s):e.createRange(e.createPositionBefore(o))}function Hs(n,e,t,i,o={}){if(!n.schema.isObject(e))throw new r.Bb("insertobject-element-not-an-object",n,{object:e});let s;s=t?t instanceof On||t instanceof oe?t:n.createSelection(t,i):n.document.selection;let p=s;o.findOptimalPosition&&n.schema.isBlock(e)&&(p=n.createSelection(ts(s,n,o.findOptimalPosition)));const B=(0,r.Ps)(s.getSelectedBlocks()),G={};return B&&Object.assign(G,n.schema.getAttributesWithProperty(B,"copyOnReplace",!0)),n.change(le=>{p.isCollapsed||n.deleteContent(p,{doNotAutoparagraph:!0});let fe=e;const We=p.anchor.parent;!n.schema.checkChild(We,e)&&n.schema.checkChild(We,"paragraph")&&n.schema.checkChild("paragraph",e)&&(fe=le.createElement("paragraph"),le.insert(e,fe)),n.schema.setAllowedAttributes(fe,G,le);const it=n.insertContent(fe,p);return it.isCollapsed||o.setSelection&&function(Pt,Qt,mi,_i){const Yi=Pt.model;if(mi=="on")return void Pt.setSelection(Qt,"on");if(mi!="after")throw new r.Bb("insertobject-invalid-place-parameter-value",Yi);let Ni=Qt.nextSibling;if(Yi.schema.isInline(Qt))return void Pt.setSelection(Qt,"after");!(Ni&&Yi.schema.checkChild(Ni,"$text"))&&Yi.schema.checkChild(Qt.parent,"paragraph")&&(Ni=Pt.createElement("paragraph"),Yi.schema.setAllowedAttributes(Ni,_i,Pt),Yi.insertContent(Ni,Pt.createPositionAfter(Qt))),Ni&&Pt.setSelection(Ni,0)}(le,e,o.setSelection,G),it})}const Us=' ,.?!:;"-()';function Ws(n,e){const{isForward:t,walker:i,unit:o,schema:s,treatEmojiAsSingleUnit:p}=n,{type:B,item:G,nextPosition:le}=e;if(B=="text")return n.unit==="word"?function(fe,We){let it=fe.position.textNode;for(it||(it=We?fe.position.nodeAfter:fe.position.nodeBefore);it&&it.is("$text");){const Pt=fe.position.offset-it.startOffset;if(qs(it,Pt,We))it=We?fe.position.nodeAfter:fe.position.nodeBefore;else{if($s(it.data,Pt,We))break;fe.next()}}return fe.position}(i,t):function(fe,We,it){const Pt=fe.position.textNode;if(Pt){const Qt=Pt.data;let mi=fe.position.offset-Pt.startOffset;for(;(0,r.to)(Qt,mi)||We=="character"&&(0,r.pp)(Qt,mi)||it&&(0,r.YK)(Qt,mi);)fe.next(),mi=fe.position.offset-Pt.startOffset}return fe.position}(i,o,p);if(B==(t?"elementStart":"elementEnd")){if(s.isSelectable(G))return si._createAt(G,t?"after":"before");if(s.checkChild(le,"$text"))return le}else{if(s.isLimit(G))return void i.skip(()=>!0);if(s.checkChild(le,"$text"))return le}}function Zs(n,e){const t=n.root,i=si._createAt(t,e?"end":0);return e?new zt(n,i):new zt(i,n)}function $s(n,e,t){const i=e+(t?0:-1);return Us.includes(n.charAt(i))}function qs(n,e,t){return e===(t?n.offsetSize:0)}class Ks extends(0,r.Re)(){constructor(){super(),this.markers=new Os,this.document=new Rs(this),this.schema=new Zn,this._pendingChanges=[],this._currentWriter=null,["insertContent","insertObject","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if(t.name==="$marker")return!0}),Bs(this),this.document.registerPostFixer(St)}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Qo,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){r.Bb.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new Qo):e instanceof Qo||(e=new Qo(e)):e=new Qo,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(i){r.Bb.rethrowUnexpectedError(i,this)}}applyOperation(e){e._execute()}insertContent(e,t,i){return function(o,s,p,B){return o.change(G=>{let le;le=p?p instanceof On||p instanceof oe?p:G.createSelection(p,B):o.document.selection,le.isCollapsed||o.deleteContent(le,{doNotAutoparagraph:!0});const fe=new Fs(o,G,le.anchor),We=[];let it;if(s.is("documentFragment")){if(s.markers.size){const mi=[];for(const[_i,Yi]of s.markers){const{start:Ni,end:en}=Yi,En=Ni.isEqual(en);mi.push({position:Ni,name:_i,isCollapsed:En},{position:en,name:_i,isCollapsed:En})}mi.sort(({position:_i},{position:Yi})=>_i.isBefore(Yi)?1:-1);for(const{position:_i,name:Yi,isCollapsed:Ni}of mi){let en=null,En=null;const _o=_i.parent===s&&_i.isAtStart,Kn=_i.parent===s&&_i.isAtEnd;_o||Kn?Ni&&(En=_o?"start":"end"):(en=G.createElement("$marker"),G.insert(en,_i)),We.push({name:Yi,element:en,collapsed:En})}}it=s.getChildren()}else it=[s];fe.handleNodes(it);let Pt=fe.getSelectionRange();if(s.is("documentFragment")&&We.length){const mi=Pt?A.fromRange(Pt):null,_i={};for(let Yi=We.length-1;Yi>=0;Yi--){const{name:Ni,element:en,collapsed:En}=We[Yi],_o=!_i[Ni];if(_o&&(_i[Ni]=[]),en){const Kn=G.createPositionAt(en,"before");_i[Ni].push(Kn),G.remove(en)}else{const Kn=fe.getAffectedRange();if(!Kn){En&&_i[Ni].push(fe.position);continue}En?_i[Ni].push(Kn[En]):_i[Ni].push(_o?Kn.start:Kn.end)}}for(const[Yi,[Ni,en]]of Object.entries(_i))Ni&&en&&Ni.root===en.root&&G.addMarker(Yi,{usingOperation:!0,affectsData:!0,range:new zt(Ni,en)});mi&&(Pt=mi.toRange(),mi.detach())}Pt&&(le instanceof oe?G.setSelection(Pt):le.setTo(Pt));const Qt=fe.getAffectedRange()||o.createRange(le.anchor);return fe.destroy(),Qt})}(this,e,t,i)}insertObject(e,t,i,o){return Hs(this,e,t,i,o)}deleteContent(e,t){Ds(this,e,t)}modifySelection(e,t){(function(i,o,s={}){const p=i.schema,B=s.direction!="backward",G=s.unit?s.unit:"character",le=!!s.treatEmojiAsSingleUnit,fe=o.focus,We=new Rn({boundaries:Zs(fe,B),singleCharacters:!0,direction:B?"forward":"backward"}),it={walker:We,schema:p,isForward:B,unit:G,treatEmojiAsSingleUnit:le};let Pt;for(;Pt=We.next();){if(Pt.done)return;const Qt=Ws(it,Pt.value);if(Qt)return void(o instanceof oe?i.change(mi=>{mi.setSelectionFocus(Qt)}):o.setFocus(Qt))}})(this,e,t)}getSelectedContent(e){return function(t,i){return t.change(o=>{const s=o.createDocumentFragment(),p=i.getFirstRange();if(!p||p.isCollapsed)return s;const B=p.start.root,G=p.start.getCommonPath(p.end),le=B.getNodeByPath(G);let fe;fe=p.start.parent==p.end.parent?p:o.createRange(o.createPositionAt(le,p.start.path[G.length]),o.createPositionAt(le,p.end.path[G.length]+1));const We=fe.end.offset-fe.start.offset;for(const it of fe.getItems({shallow:!0}))it.is("$textProxy")?o.appendText(it.data,it.getAttributes(),s):o.append(o.cloneElement(it,!0),s);if(fe!=p){const it=p._getTransformedByMove(fe.start,o.createPositionAt(s,0),We)[0],Pt=o.createRange(o.createPositionAt(s,0),it.start);es(o.createRange(it.end,o.createPositionAt(s,"end")),o),es(Pt,o)}return s})}(this,e)}hasContent(e,t={}){const i=e instanceof zt?e:zt._createIn(e);if(i.isCollapsed)return!1;const{ignoreWhitespaces:o=!1,ignoreMarkers:s=!1}=t;if(!s){for(const p of this.markers.getMarkersIntersectingRange(i))if(p.affectsData)return!0}for(const p of i.getItems())if(this.schema.isContent(p)&&(!p.is("$textProxy")||!o||p.data.search(/\S/)!==-1))return!0;return!1}createPositionFromPath(e,t,i){return new si(e,t,i)}createPositionAt(e,t){return si._createAt(e,t)}createPositionAfter(e){return si._createAfter(e)}createPositionBefore(e){return si._createBefore(e)}createRange(e,t){return new zt(e,t)}createRangeIn(e){return zt._createIn(e)}createRangeOn(e){return zt._createOn(e)}createSelection(...e){return new On(...e)}createBatch(e){return new Qo(e)}createOperationFromJSON(e){return Nr.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new Ns(this,t);const i=this._pendingChanges[0].callback(this._currentWriter);e.push(i),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}class Gs extends Wi{constructor(e){super(e),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class Ys extends Wi{constructor(e){super(e),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class Qs{constructor(e){this.document=e}createDocumentFragment(e){return new se(this.document,e)}createElement(e,t,i){return new F(this.document,e,t,i)}createText(e){return new L(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,i){return i._insertChild(e,t)}removeChildren(e,t,i){return i._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const i=e.parent;if(i){const o=i.getChildIndex(e);return this.removeChildren(o,1,i),this.insertChild(o,t,i),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const i=t.getChildIndex(e);this.remove(e),this.insertChild(i,e.getChildren(),t)}}rename(e,t){const i=new F(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,i)?i:null}setAttribute(e,t,i){i._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,i){(0,c.Z)(e)&&i===void 0?t._setStyle(e):i._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,i){i._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return Ge._createAt(e,t)}createPositionAfter(e){return Ge._createAfter(e)}createPositionBefore(e){return Ge._createBefore(e)}createRange(e,t){return new Ft(e,t)}createRangeOn(e){return Ft._createOn(e)}createRangeIn(e){return Ft._createIn(e)}createSelection(...e){return new yi(...e)}}const Js=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,Xs=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i,ea=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,ta=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i,ia=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,na=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);function is(n){return n.startsWith("#")?Js.test(n):n.startsWith("rgb")?Xs.test(n)||ea.test(n):n.startsWith("hsl")?ta.test(n)||ia.test(n):na.has(n.toLowerCase())}const oa=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];function ns(n){return oa.includes(n)}const ra=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function os(n){return ra.test(n)}const sa=/^[+-]?[0-9]*([.][0-9]+)?%$/;function aa(n){return sa.test(n)}const la=["repeat-x","repeat-y","repeat","space","round","no-repeat"];function rs(n){return la.includes(n)}const ca=["center","top","bottom","left","right"];function ss(n){return ca.includes(n)}const da=["fixed","scroll","local"];function as(n){return da.includes(n)}const ua=/^url\(/;function ls(n){return ua.test(n)}function Xo(n=""){if(n==="")return{top:void 0,right:void 0,bottom:void 0,left:void 0};const e=wr(n),t=e[0],i=e[2]||t,o=e[1]||t;return{top:t,bottom:i,right:o,left:e[3]||o}}function er(n){return e=>{const{top:t,right:i,bottom:o,left:s}=e,p=[];return[t,i,s,o].every(B=>!!B)?p.push([n,cs(e)]):(t&&p.push([n+"-top",t]),i&&p.push([n+"-right",i]),o&&p.push([n+"-bottom",o]),s&&p.push([n+"-left",s])),p}}function cs({top:n,right:e,bottom:t,left:i}){const o=[];return i!==e?o.push(n,e,t,i):t!==n?o.push(n,e,t):e!==n?o.push(n,e):o.push(n),o.join(" ")}function Sr(n){return e=>({path:n,value:Xo(e)})}function wr(n){return n.replace(/, /g,",").split(" ").map(e=>e.replace(/,/g,", "))}function ha(n){n.setNormalizer("background",e=>{const t={},i=wr(e);for(const o of i)rs(o)?(t.repeat=t.repeat||[],t.repeat.push(o)):ss(o)?(t.position=t.position||[],t.position.push(o)):as(o)?t.attachment=o:is(o)?t.color=o:ls(o)&&(t.image=o);return{path:"background",value:t}}),n.setNormalizer("background-color",e=>({path:"background.color",value:e})),n.setReducer("background",e=>{const t=[];return t.push(["background-color",e.color]),t}),n.setStyleRelation("background",["background-color"])}function ma(n){n.setNormalizer("border",e=>{const{color:t,style:i,width:o}=ds(e);return{path:"border",value:{color:Xo(t),style:Xo(i),width:Xo(o)}}}),n.setNormalizer("border-top",kr("top")),n.setNormalizer("border-right",kr("right")),n.setNormalizer("border-bottom",kr("bottom")),n.setNormalizer("border-left",kr("left")),n.setNormalizer("border-color",Er("color")),n.setNormalizer("border-width",Er("width")),n.setNormalizer("border-style",Er("style")),n.setNormalizer("border-top-color",qn("color","top")),n.setNormalizer("border-top-style",qn("style","top")),n.setNormalizer("border-top-width",qn("width","top")),n.setNormalizer("border-right-color",qn("color","right")),n.setNormalizer("border-right-style",qn("style","right")),n.setNormalizer("border-right-width",qn("width","right")),n.setNormalizer("border-bottom-color",qn("color","bottom")),n.setNormalizer("border-bottom-style",qn("style","bottom")),n.setNormalizer("border-bottom-width",qn("width","bottom")),n.setNormalizer("border-left-color",qn("color","left")),n.setNormalizer("border-left-style",qn("style","left")),n.setNormalizer("border-left-width",qn("width","left")),n.setExtractor("border-top",vr("top")),n.setExtractor("border-right",vr("right")),n.setExtractor("border-bottom",vr("bottom")),n.setExtractor("border-left",vr("left")),n.setExtractor("border-top-color","border.color.top"),n.setExtractor("border-right-color","border.color.right"),n.setExtractor("border-bottom-color","border.color.bottom"),n.setExtractor("border-left-color","border.color.left"),n.setExtractor("border-top-width","border.width.top"),n.setExtractor("border-right-width","border.width.right"),n.setExtractor("border-bottom-width","border.width.bottom"),n.setExtractor("border-left-width","border.width.left"),n.setExtractor("border-top-style","border.style.top"),n.setExtractor("border-right-style","border.style.right"),n.setExtractor("border-bottom-style","border.style.bottom"),n.setExtractor("border-left-style","border.style.left"),n.setReducer("border-color",er("border-color")),n.setReducer("border-style",er("border-style")),n.setReducer("border-width",er("border-width")),n.setReducer("border-top",_r("top")),n.setReducer("border-right",_r("right")),n.setReducer("border-bottom",_r("bottom")),n.setReducer("border-left",_r("left")),n.setReducer("border",function(){return t=>{const i=fr(t,"top"),o=fr(t,"right"),s=fr(t,"bottom"),p=fr(t,"left"),B=[i,o,s,p],G={width:e(B,"width"),style:e(B,"style"),color:e(B,"color")},le=tr(G,"all");return le.length?le:[...Object.entries(G).reduce((We,[it,Pt])=>(Pt&&(We.push([`border-${it}`,Pt]),B.forEach(Qt=>delete Qt[it])),We),[]),...tr(i,"top"),...tr(o,"right"),...tr(s,"bottom"),...tr(p,"left")]};function e(t,i){return t.map(o=>o[i]).reduce((o,s)=>o==s?o:null)}}()),n.setStyleRelation("border",["border-color","border-style","border-width","border-top","border-right","border-bottom","border-left","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width"]),n.setStyleRelation("border-color",["border-top-color","border-right-color","border-bottom-color","border-left-color"]),n.setStyleRelation("border-style",["border-top-style","border-right-style","border-bottom-style","border-left-style"]),n.setStyleRelation("border-width",["border-top-width","border-right-width","border-bottom-width","border-left-width"]),n.setStyleRelation("border-top",["border-top-color","border-top-style","border-top-width"]),n.setStyleRelation("border-right",["border-right-color","border-right-style","border-right-width"]),n.setStyleRelation("border-bottom",["border-bottom-color","border-bottom-style","border-bottom-width"]),n.setStyleRelation("border-left",["border-left-color","border-left-style","border-left-width"])}function kr(n){return e=>{const{color:t,style:i,width:o}=ds(e),s={};return t!==void 0&&(s.color={[n]:t}),i!==void 0&&(s.style={[n]:i}),o!==void 0&&(s.width={[n]:o}),{path:"border",value:s}}}function Er(n){return e=>({path:"border",value:ga(e,n)})}function ga(n,e){return{[e]:Xo(n)}}function qn(n,e){return t=>({path:"border",value:{[n]:{[e]:t}}})}function vr(n){return(e,t)=>{if(t.border)return fr(t.border,n)}}function fr(n,e){const t={};return n.width&&n.width[e]&&(t.width=n.width[e]),n.style&&n.style[e]&&(t.style=n.style[e]),n.color&&n.color[e]&&(t.color=n.color[e]),t}function ds(n){const e={},t=wr(n);for(const i of t)os(i)||/thin|medium|thick/.test(i)?e.width=i:ns(i)?e.style=i:e.color=i;return e}function _r(n){return e=>tr(e,n)}function tr(n,e){const t=[];if(n&&n.width&&t.push("width"),n&&n.style&&t.push("style"),n&&n.color&&t.push("color"),t.length==3){const i=t.map(o=>n[o]).join(" ");return[e=="all"?["border",i]:[`border-${e}`,i]]}return e=="all"?[]:t.map(i=>[`border-${e}-${i}`,n[i]])}function pa(n){n.setNormalizer("margin",Sr("margin")),n.setNormalizer("margin-top",e=>({path:"margin.top",value:e})),n.setNormalizer("margin-right",e=>({path:"margin.right",value:e})),n.setNormalizer("margin-bottom",e=>({path:"margin.bottom",value:e})),n.setNormalizer("margin-left",e=>({path:"margin.left",value:e})),n.setReducer("margin",er("margin")),n.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}function fa(n){n.setNormalizer("padding",Sr("padding")),n.setNormalizer("padding-top",e=>({path:"padding.top",value:e})),n.setNormalizer("padding-right",e=>({path:"padding.right",value:e})),n.setNormalizer("padding-bottom",e=>({path:"padding.bottom",value:e})),n.setNormalizer("padding-left",e=>({path:"padding.left",value:e})),n.setReducer("padding",er("padding")),n.setStyleRelation("padding",["padding-top","padding-right","padding-bottom","padding-left"])}},"./packages/ckeditor5-enter/src/index.ts":(f,_,a)=>{"use strict";a.d(_,{C:()=>me,G:()=>h});var d=a("./packages/ckeditor5-core/src/index.ts");function*S(g,r){for(const u of r)u&&g.getAttributeProperties(u[0]).copyOnEnter&&(yield u)}class U extends d.mY{execute(){this.editor.model.change(r=>{this.enterBlock(r),this.fire("afterExecute",{writer:r})})}enterBlock(r){const u=this.editor.model,w=u.document.selection,v=u.schema,T=w.isCollapsed,z=w.getFirstRange(),L=z.start.parent,x=z.end.parent;if(v.isLimit(L)||v.isLimit(x))return T||L!=x||u.deleteContent(w),!1;if(T){const c=S(r.model.schema,w.getAttributes());return I(r,z.start),r.setSelectionAttribute(c),!0}{const c=!(z.start.isAtStart&&z.end.isAtEnd),D=L==x;if(u.deleteContent(w,{leaveUnmerged:c}),c){if(D)return I(r,w.focus),!0;r.setSelection(x,0)}}return!1}}function I(g,r){g.split(r),g.setSelection(r.parent.nextSibling,0)}var C=a("./packages/ckeditor5-engine/src/index.ts");const ge={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class pe extends C.Qj{constructor(r){super(r);const u=this.document;u.on("beforeinput",(w,v)=>{if(!this.isEnabled)return;const T=v.domEvent,z=ge[v.inputType];if(!z)return;const L=new C.r7(u,"enter",v.targetRanges[0]);u.fire(L,new C.dK(r,T,{isSoft:z.isSoft})),L.stop.called&&w.stop()})}observe(){}}class me extends d.Sy{static get pluginName(){return"Enter"}init(){const r=this.editor,u=r.editing.view,w=u.document;u.addObserver(pe),r.commands.add("enter",new U(r)),this.listenTo(w,"enter",(v,T)=>{w.isComposing||T.preventDefault(),T.isSoft||(r.execute("enter"),u.scrollToTheSelection())},{priority:"low"})}}class J extends d.mY{execute(){const r=this.editor.model,u=r.document;r.change(w=>{(function(v,T,z){const L=z.isCollapsed,x=z.getFirstRange(),c=x.start.parent,D=x.end.parent,W=c==D;if(L){const q=S(v.schema,z.getAttributes());ee(v,T,x.end),T.removeSelectionAttribute(z.getAttributeKeys()),T.setSelectionAttribute(q)}else{const q=!(x.start.isAtStart&&x.end.isAtEnd);v.deleteContent(z,{leaveUnmerged:q}),W?ee(v,T,z.focus):q&&T.setSelection(D,0)}})(r,w,u.selection),this.fire("afterExecute",{writer:w})})}refresh(){const r=this.editor.model,u=r.document;this.isEnabled=function(w,v){if(v.rangeCount>1)return!1;const T=v.anchor;if(!T||!w.checkChild(T,"softBreak"))return!1;const z=v.getFirstRange(),L=z.start.parent,x=z.end.parent;return!((Z(L,w)||Z(x,w))&&L!==x)}(r.schema,u.selection)}}function ee(g,r,u){const w=r.createElement("softBreak");g.insertContent(w,u),r.setSelection(w,"after")}function Z(g,r){return!g.is("rootElement")&&(r.isLimit(g)||Z(g.parent,r))}class h extends d.Sy{static get pluginName(){return"ShiftEnter"}init(){const r=this.editor,u=r.model.schema,w=r.conversion,v=r.editing.view,T=v.document;u.register("softBreak",{allowWhere:"$text",isInline:!0}),w.for("upcast").elementToElement({model:"softBreak",view:"br"}),w.for("downcast").elementToElement({model:"softBreak",view:(z,{writer:L})=>L.createEmptyElement("br")}),v.addObserver(pe),r.commands.add("shiftEnter",new J(r)),this.listenTo(T,"enter",(z,L)=>{T.isComposing||L.preventDefault(),L.isSoft&&(r.execute("shiftEnter"),v.scrollToTheSelection())},{priority:"low"})}}},"./packages/ckeditor5-typing/src/index.ts":(f,_,a)=>{"use strict";a.d(_,{HG:()=>v,II:()=>me,cL:()=>rt,uL:()=>L,mh:()=>x,Mq:()=>T,VD:()=>xt,Up:()=>z,Im:()=>Dt});var d=a("./packages/ckeditor5-core/src/index.ts"),S=a("./packages/ckeditor5-utils/src/index.ts");class U{constructor(Se,Ke=20){this._batch=null,this.model=Se,this._size=0,this.limit=Ke,this._isLocked=!1,this._changeCallback=(kt,Lt)=>{Lt.isLocal&&Lt.isUndoable&&Lt!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(Se){this._size+=Se,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(Se=!1){this.isLocked&&!Se||(this._batch=null,this._size=0)}}class I extends d.mY{constructor(Se,Ke){super(Se),this._buffer=new U(Se.model,Ke)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(Se={}){const Ke=this.editor.model,kt=Ke.document,Lt=Se.text||"",Gt=Lt.length;let $t=kt.selection;Se.selection?$t=Se.selection:Se.range&&($t=Ke.createSelection(Se.range));const ft=Se.resultRange;Ke.enqueueChange(this._buffer.batch,Yt=>{this._buffer.lock(),Ke.deleteContent($t),Lt&&Ke.insertContent(Yt.createText(Lt,kt.selection.getAttributes()),$t),ft?Yt.setSelection(ft):$t.is("documentSelection")||Yt.setSelection($t),this._buffer.unlock(),this._buffer.input(Gt)})}}var C=a("./packages/ckeditor5-engine/src/index.ts");const ge=["insertText","insertReplacementText"];class pe extends C.Qj{constructor(Se){super(Se),S.OB.isAndroid&&ge.push("insertCompositionText");const Ke=Se.document;Ke.on("beforeinput",(kt,Lt)=>{if(!this.isEnabled)return;const{data:Gt,targetRanges:$t,inputType:ft,domEvent:Yt}=Lt;if(!ge.includes(ft))return;const _t=new S.M3(Ke,"insertText");Ke.fire(_t,new C.dK(Se,Yt,{text:Gt,selection:Se.createSelection($t)})),_t.stop.called&&kt.stop()}),Ke.on("compositionend",(kt,{data:Lt,domEvent:Gt})=>{this.isEnabled&&!S.OB.isAndroid&&Lt&&Ke.fire("insertText",new C.dK(Se,Gt,{text:Lt,selection:Ke.selection}))},{priority:"lowest"})}observe(){}}class me extends d.Sy{static get pluginName(){return"Input"}init(){const Se=this.editor,Ke=Se.model,kt=Se.editing.view,Lt=Ke.document.selection;kt.addObserver(pe);const Gt=new I(Se,Se.config.get("typing.undoStep")||20);Se.commands.add("insertText",Gt),Se.commands.add("input",Gt),this.listenTo(kt.document,"insertText",($t,ft)=>{kt.document.isComposing||ft.preventDefault();const{text:Yt,selection:_t,resultRange:ri}=ft,ui=Array.from(_t.getRanges()).map(be=>Se.editing.mapper.toModelRange(be));let Ai=Yt;if(S.OB.isAndroid){const be=Array.from(ui[0].getItems()).reduce((Ne,$e)=>Ne+($e.is("$textProxy")?$e.data:""),"");be&&(be.length<=Ai.length?Ai.startsWith(be)&&(Ai=Ai.substring(be.length),ui[0].start=ui[0].start.getShiftedBy(be.length)):be.startsWith(Ai)&&(ui[0].start=ui[0].start.getShiftedBy(Ai.length),Ai=""))}const bt={text:Ai,selection:Ke.createSelection(ui)};ri&&(bt.resultRange=Se.editing.mapper.toModelRange(ri)),Se.execute("insertText",bt)}),S.OB.isAndroid?this.listenTo(kt.document,"keydown",($t,ft)=>{!Lt.isCollapsed&&ft.keyCode==229&&kt.document.isComposing&&J(Ke,Gt)}):this.listenTo(kt.document,"compositionstart",()=>{Lt.isCollapsed||J(Ke,Gt)})}}function J(ye,Se){if(!Se.isEnabled)return;const Ke=Se.buffer;Ke.lock(),ye.enqueueChange(Ke.batch,()=>{ye.deleteContent(ye.document.selection)}),Ke.unlock()}class ee extends d.mY{constructor(Se,Ke){super(Se),this.direction=Ke,this._buffer=new U(Se.model,Se.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(Se={}){const Ke=this.editor.model,kt=Ke.document;Ke.enqueueChange(this._buffer.batch,Lt=>{this._buffer.lock();const Gt=Lt.createSelection(Se.selection||kt.selection),$t=Se.sequence||1,ft=Gt.isCollapsed;if(Gt.isCollapsed&&Ke.modifySelection(Gt,{direction:this.direction,unit:Se.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph($t))return void this._replaceEntireContentWithParagraph(Lt);if(this._shouldReplaceFirstBlockWithParagraph(Gt,$t))return void this.editor.execute("paragraph",{selection:Gt});if(Gt.isCollapsed)return;let Yt=0;Gt.getFirstRange().getMinimalFlatRanges().forEach(_t=>{Yt+=(0,S.QX)(_t.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),Ke.deleteContent(Gt,{doNotResetEntireContent:ft,direction:this.direction}),this._buffer.input(Yt),Lt.setSelection(Gt),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(Se){if(Se>1)return!1;const Ke=this.editor.model,kt=Ke.document.selection,Lt=Ke.schema.getLimitElement(kt);if(!(kt.isCollapsed&&kt.containsEntireContent(Lt))||!Ke.schema.checkChild(Lt,"paragraph"))return!1;const Gt=Lt.getChild(0);return!Gt||!Gt.is("element","paragraph")}_replaceEntireContentWithParagraph(Se){const Ke=this.editor.model,kt=Ke.document.selection,Lt=Ke.schema.getLimitElement(kt),Gt=Se.createElement("paragraph");Se.remove(Se.createRangeIn(Lt)),Se.insert(Gt,Lt),Se.setSelection(Gt,0)}_shouldReplaceFirstBlockWithParagraph(Se,Ke){const kt=this.editor.model;if(Ke>1||this.direction!="backward"||!Se.isCollapsed)return!1;const Lt=Se.getFirstPosition(),Gt=kt.schema.getLimitElement(Lt),$t=Gt.getChild(0);return Lt.parent==$t&&!!Se.containsEntireContent($t)&&!!kt.schema.checkChild(Gt,"paragraph")&&$t.name!="paragraph"}}const Z="word",h="selection",g="backward",r="forward",u={deleteContent:{unit:h,direction:g},deleteContentBackward:{unit:"codePoint",direction:g},deleteWordBackward:{unit:Z,direction:g},deleteHardLineBackward:{unit:h,direction:g},deleteSoftLineBackward:{unit:h,direction:g},deleteContentForward:{unit:"character",direction:r},deleteWordForward:{unit:Z,direction:r},deleteHardLineForward:{unit:h,direction:r},deleteSoftLineForward:{unit:h,direction:r}};class w extends C.Qj{constructor(Se){super(Se);const Ke=Se.document;let kt=0;Ke.on("keydown",()=>{kt++}),Ke.on("keyup",()=>{kt=0}),Ke.on("beforeinput",(Lt,Gt)=>{if(!this.isEnabled)return;const{targetRanges:$t,domEvent:ft,inputType:Yt}=Gt,_t=u[Yt];if(!_t)return;const ri={direction:_t.direction,unit:_t.unit,sequence:kt};ri.unit==h&&(ri.selectionToRemove=Se.createSelection($t[0])),S.OB.isAndroid&&Yt==="deleteContentBackward"&&(ri.sequence=1,$t.length!=1||$t[0].start.parent==$t[0].end.parent&&$t[0].start.offset+1==$t[0].end.offset||(ri.unit=h,ri.selectionToRemove=Se.createSelection($t)));const ui=new C.r7(Ke,"delete",$t[0]);Ke.fire(ui,new C.dK(Se,ft,ri)),ui.stop.called&&Lt.stop()}),S.OB.isBlink&&function(Lt){const Gt=Lt.view,$t=Gt.document;let ft=null,Yt=!1;function _t(ui){return ui==S.Do.backspace||ui==S.Do.delete}function ri(ui){return ui==S.Do.backspace?g:r}$t.on("keydown",(ui,{keyCode:Ai})=>{ft=Ai,Yt=!1}),$t.on("keyup",(ui,{keyCode:Ai,domEvent:bt})=>{const be=$t.selection,Ne=Lt.isEnabled&&Ai==ft&&_t(Ai)&&!be.isCollapsed&&!Yt;if(ft=null,Ne){const $e=be.getFirstRange(),gt=new C.r7($t,"delete",$e),Tt={unit:h,direction:ri(Ai),selectionToRemove:be};$t.fire(gt,new C.dK(Gt,bt,Tt))}}),$t.on("beforeinput",(ui,{inputType:Ai})=>{const bt=u[Ai];_t(ft)&&bt&&bt.direction==ri(ft)&&(Yt=!0)},{priority:"high"}),$t.on("beforeinput",(ui,{inputType:Ai,data:bt})=>{ft==S.Do.delete&&Ai=="insertText"&&bt=="\x7F"&&ui.stop()},{priority:"high"})}(this)}observe(){}}class v extends d.Sy{static get pluginName(){return"Delete"}init(){const Se=this.editor,Ke=Se.editing.view,kt=Ke.document,Lt=Se.model.document;Ke.addObserver(w),this._undoOnBackspace=!1;const Gt=new ee(Se,"forward");Se.commands.add("deleteForward",Gt),Se.commands.add("forwardDelete",Gt),Se.commands.add("delete",new ee(Se,"backward")),this.listenTo(kt,"delete",($t,ft)=>{kt.isComposing||ft.preventDefault();const{direction:Yt,sequence:_t,selectionToRemove:ri,unit:ui}=ft,Ai=Yt==="forward"?"deleteForward":"delete",bt={sequence:_t};if(ui=="selection"){const be=Array.from(ri.getRanges()).map(Ne=>Se.editing.mapper.toModelRange(Ne));bt.selection=Se.model.createSelection(be)}else bt.unit=ui;Se.execute(Ai,bt),Ke.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(kt,"delete",($t,ft)=>{this._undoOnBackspace&&ft.direction=="backward"&&ft.sequence==1&&ft.unit=="codePoint"&&(this._undoOnBackspace=!1,Se.execute("undo"),ft.preventDefault(),$t.stop())},{context:"$capture"}),this.listenTo(Lt,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class T extends d.Sy{static get requires(){return[me,v]}static get pluginName(){return"Typing"}}function z(ye,Se){let Ke=ye.start;return{text:Array.from(ye.getItems()).reduce((kt,Lt)=>Lt.is("$text")||Lt.is("$textProxy")?kt+Lt.data:(Ke=Se.createPositionAfter(Lt),""),""),range:Se.createRange(Ke,ye.end)}}class L extends(0,S.Re)(){constructor(Se,Ke){super(),this.model=Se,this.testCallback=Ke,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(Se.document.selection),this.stopListening(Se.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const Se=this.model.document;this.listenTo(Se.selection,"change:range",(Ke,{directChange:kt})=>{kt&&(Se.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(Se,"change:data",(Ke,kt)=>{!kt.isUndo&&kt.isLocal&&this._evaluateTextBeforeSelection("data",{batch:kt})})}_evaluateTextBeforeSelection(Se,Ke={}){const kt=this.model,Lt=kt.document.selection,Gt=kt.createRange(kt.createPositionAt(Lt.focus.parent,0),Lt.focus),{text:$t,range:ft}=z(Gt,kt),Yt=this.testCallback($t);if(!Yt&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!Yt,Yt){const _t=Object.assign(Ke,{text:$t,range:ft});typeof Yt=="object"&&Object.assign(_t,Yt),this.fire(`matched:${Se}`,_t)}}}class x extends d.Sy{static get pluginName(){return"TwoStepCaretMovement"}constructor(Se){super(Se),this.attributes=new Set,this._overrideUid=null}init(){const Se=this.editor,Ke=Se.model,kt=Se.editing.view,Lt=Se.locale,Gt=Ke.document.selection;this.listenTo(kt.document,"arrowKey",($t,ft)=>{if(!Gt.isCollapsed||ft.shiftKey||ft.altKey||ft.ctrlKey)return;const Yt=ft.keyCode==S.Do.arrowright,_t=ft.keyCode==S.Do.arrowleft;if(!Yt&&!_t)return;const ri=Lt.contentLanguageDirection;let ui=!1;ui=ri==="ltr"&&Yt||ri==="rtl"&&_t?this._handleForwardMovement(ft):this._handleBackwardMovement(ft),ui===!0&&$t.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(Gt,"change:range",($t,ft)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!ft.directChange&&q(Gt.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(Se){this.attributes.add(Se)}_handleForwardMovement(Se){const Ke=this.attributes,kt=this.editor.model.document.selection,Lt=kt.getFirstPosition();return!this._isGravityOverridden&&(!Lt.isAtStart||!c(kt,Ke))&&!!q(Lt,Ke)&&(W(Se),this._overrideGravity(),!0)}_handleBackwardMovement(Se){const Ke=this.attributes,kt=this.editor.model,Lt=kt.document.selection,Gt=Lt.getFirstPosition();return this._isGravityOverridden?(W(Se),this._restoreGravity(),D(kt,Ke,Gt),!0):Gt.isAtStart?!!c(Lt,Ke)&&(W(Se),D(kt,Ke,Gt),!0):!!function($t,ft){const Yt=$t.getShiftedBy(-1);return q(Yt,ft)}(Gt,Ke)&&(Gt.isAtEnd&&!c(Lt,Ke)&&q(Gt,Ke)?(W(Se),D(kt,Ke,Gt),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(Se=>Se.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(Se=>{Se.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function c(ye,Se){for(const Ke of Se)if(ye.hasAttribute(Ke))return!0;return!1}function D(ye,Se,Ke){const kt=Ke.nodeBefore;ye.change(Lt=>{kt?Lt.setSelectionAttribute(kt.getAttributes()):Lt.removeSelectionAttribute(Se)})}function W(ye){ye.preventDefault()}function q(ye,Se){const{nodeBefore:Ke,nodeAfter:kt}=ye;for(const Lt of Se){const Gt=Ke?Ke.getAttribute(Lt):void 0;if((kt?kt.getAttribute(Lt):void 0)!==Gt)return!0}return!1}var ae=a("./node_modules/lodash-es/toString.js"),Ie=/[\\^$.*+?()[\]{}|]/g,Ve=RegExp(Ie.source);const _e=function(ye){return(ye=(0,ae.Z)(ye))&&Ve.test(ye)?ye.replace(Ie,"\\$&"):ye},Me={copyright:{from:"(c)",to:"\xA9"},registeredTrademark:{from:"(r)",to:"\xAE"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"\xBD",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"\u2153",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"\u2154",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"\xBC",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"\xBE",null]},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:Nt('"'),to:[null,"\u201C",null,"\u201D"]},quotesSecondary:{from:Nt("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:Nt("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:Nt('"'),to:[null,"\u201C",null,"\u201D"]},quotesPrimaryPl:{from:Nt('"'),to:[null,"\u201E",null,"\u201D"]},quotesSecondaryPl:{from:Nt("'"),to:[null,"\u201A",null,"\u2019"]}},Qe={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},ut=["symbols","mathematical","typography","quotes"];class rt extends d.Sy{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(Se){super(Se),Se.config.define("typing",{transformations:{include:ut}})}init(){const Se=this.editor.model.document.selection;Se.on("change:range",()=>{this.isEnabled=!Se.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const Se=this.editor,Ke=Se.model,kt=Se.plugins.get("Delete"),Lt=function($t){const ft=$t.extra||[],Yt=$t.remove||[],_t=ri=>!Yt.includes(ri);return function(ri){const ui=new Set;for(const Ai of ri)if(typeof Ai=="string"&&Qe[Ai])for(const bt of Qe[Ai])ui.add(bt);else ui.add(Ai);return Array.from(ui)}($t.include.concat(ft).filter(_t)).filter(_t).map(ri=>typeof ri=="string"&&Me[ri]?Me[ri]:ri).filter(ri=>typeof ri=="object").map(ri=>({from:qe(ri.from),to:et(ri.to)}))}(Se.config.get("typing.transformations")),Gt=new L(Se.model,$t=>{for(const ft of Lt)if(ft.from.test($t))return{normalizedTransformation:ft}});Gt.on("matched:data",($t,ft)=>{if(!ft.batch.isTyping)return;const{from:Yt,to:_t}=ft.normalizedTransformation,ri=Yt.exec(ft.text),ui=_t(ri.slice(1)),Ai=ft.range;let bt=ri.index;Ke.enqueueChange(be=>{for(let Ne=1;Ne<ri.length;Ne++){const $e=ri[Ne],gt=ui[Ne-1];if(gt==null){bt+=$e.length;continue}const Tt=Ai.start.getShiftedBy(bt),Et=Ke.createRange(Tt,Tt.getShiftedBy($e.length)),Xt=Bt(Tt);Ke.insertContent(be.createText(gt,Xt),Et),bt+=gt.length}Ke.enqueueChange(()=>{kt.requestUndoOnBackspace()})})}),Gt.bind("isEnabled").to(this)}}function qe(ye){return typeof ye=="string"?new RegExp(`(${_e(ye)})$`):ye}function et(ye){return typeof ye=="string"?()=>[ye]:ye instanceof Array?()=>ye:ye}function Bt(ye){return(ye.textNode?ye.textNode:ye.nodeAfter).getAttributes()}function Nt(ye){return new RegExp(`(^|\\s)(${ye})([^${ye}]*)(${ye})$`)}function xt(ye,Se,Ke,kt){return kt.createRange(tt(ye,Se,Ke,!0,kt),tt(ye,Se,Ke,!1,kt))}function tt(ye,Se,Ke,kt,Lt){let Gt=ye.textNode||(kt?ye.nodeBefore:ye.nodeAfter),$t=null;for(;Gt&&Gt.getAttribute(Se)==Ke;)$t=Gt,Gt=kt?Gt.previousSibling:Gt.nextSibling;return $t?Lt.createPositionAt($t,kt?"before":"after"):ye}function Dt(ye,Se,Ke,kt){const Lt=ye.editing.view,Gt=new Set;Lt.document.registerPostFixer($t=>{const ft=ye.model.document.selection;let Yt=!1;if(ft.hasAttribute(Se)){const _t=xt(ft.getFirstPosition(),Se,ft.getAttribute(Se),ye.model),ri=ye.editing.mapper.toViewRange(_t);for(const ui of ri.getItems())ui.is("element",Ke)&&!ui.hasClass(kt)&&($t.addClass(kt,ui),Gt.add(ui),Yt=!0)}return Yt}),ye.conversion.for("editingDowncast").add($t=>{function ft(){Lt.change(Yt=>{for(const _t of Gt.values())Yt.removeClass(kt,_t),Gt.delete(_t)})}$t.on("insert",ft,{priority:"highest"}),$t.on("remove",ft,{priority:"highest"}),$t.on("attribute",ft,{priority:"highest"}),$t.on("selection",ft,{priority:"highest"})})}},"./packages/ckeditor5-ui/src/index.ts":(f,_,a)=>{"use strict";function d({emitter:Pe,activator:k,callback:O,contextElements:he}){Pe.listenTo(document,"mousedown",(Ae,dt)=>{if(!k())return;const lt=typeof dt.composedPath=="function"?dt.composedPath():[],ot=typeof he=="function"?he():he;for(const Zt of ot)if(Zt.contains(dt.target)||lt.includes(Zt))return;O()})}function S(Pe){const k=Pe;k.set("_isCssTransitionsDisabled",!1),k.disableCssTransitions=()=>{k._isCssTransitionsDisabled=!0},k.enableCssTransitions=()=>{k._isCssTransitionsDisabled=!1},k.extendTemplate({attributes:{class:[k.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}function U({view:Pe}){Pe.listenTo(Pe.element,"submit",(k,O)=>{O.preventDefault(),Pe.fire("submit")},{useCapture:!0})}function I({keystrokeHandler:Pe,focusTracker:k,gridItems:O,numberOfColumns:he,uiLanguageDirection:Ae}){const dt=typeof he=="number"?()=>he:he;function lt(Pi){return Ki=>{const hn=O.find(uo=>uo.element===k.focusedElement),eo=O.getIndex(hn),to=Pi(eo,O);O.get(to).focus(),Ki.stopPropagation(),Ki.preventDefault()}}function ot(Pi,Ki){return Pi===Ki-1?0:Pi+1}function Zt(Pi,Ki){return Pi===0?Ki-1:Pi-1}Pe.set("arrowright",lt((Pi,Ki)=>Ae==="rtl"?Zt(Pi,Ki.length):ot(Pi,Ki.length))),Pe.set("arrowleft",lt((Pi,Ki)=>Ae==="rtl"?ot(Pi,Ki.length):Zt(Pi,Ki.length))),Pe.set("arrowup",lt((Pi,Ki)=>{let hn=Pi-dt();return hn<0&&(hn=Pi+dt()*Math.floor(Ki.length/dt()),hn>Ki.length-1&&(hn-=dt())),hn})),Pe.set("arrowdown",lt((Pi,Ki)=>{let hn=Pi+dt();return hn>Ki.length-1&&(hn=Pi%dt()),hn}))}a.d(_,{no:()=>Ui,Jf:()=>Jt,ee:()=>bn,BK:()=>et,py:()=>Le,r5:()=>ye,J6:()=>ui,_9:()=>ft,_Y:()=>Ai,WB:()=>ze,J0:()=>Tt,_n:()=>$e,S8:()=>nt,fF:()=>ht,I0:()=>wi,Gp:()=>Mt,mO:()=>xt,VY:()=>Di,r1:()=>Je,Xs:()=>hi,pq:()=>xi,Em:()=>li,Dn:()=>Te,KP:()=>Cn,dn:()=>V,Bv:()=>ke,Hn:()=>Be,P_:()=>Dn,Rm:()=>Ut,lp:()=>wt,BM:()=>kt,YS:()=>r,$y:()=>Ti,jB:()=>cn,gE:()=>ve,G7:()=>Z,vX:()=>ge,IJ:()=>I,Pm:()=>Ge,up:()=>st,eC:()=>d,t9:()=>Ze,FH:()=>In,sh:()=>Tn,R:()=>fn,Mh:()=>ci,k6:()=>Lt,fe:()=>S,S1:()=>Gt,jY:()=>$t,iw:()=>Ii,GI:()=>U});var C=a("./packages/ckeditor5-utils/src/index.ts");class ge extends C.FE{constructor(k=[]){super(k,{idProperty:"viewUid"}),this.on("add",(O,he,Ae)=>{this._renderViewIntoCollectionParent(he,Ae)}),this.on("remove",(O,he)=>{he.element&&this._parentElement&&he.element.remove()}),this._parentElement=null}destroy(){this.map(k=>k.destroy())}setParent(k){this._parentElement=k;for(const O of this)this._renderViewIntoCollectionParent(O)}delegate(...k){if(!k.length||!k.every(O=>typeof O=="string"))throw new C.Bb("ui-viewcollection-delegate-wrong-events",this);return{to:O=>{for(const he of this)for(const Ae of k)he.delegate(Ae).to(O);this.on("add",(he,Ae)=>{for(const dt of k)Ae.delegate(dt).to(O)}),this.on("remove",(he,Ae)=>{for(const dt of k)Ae.stopDelegating(dt,O)})}}}_renderViewIntoCollectionParent(k,O){k.isRendered||k.render(),k.element&&this._parentElement&&this._parentElement.insertBefore(k.element,this._parentElement.children[O])}}var pe=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),me=a.n(pe),J=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/globals/globals.css"),ee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(J.Z,ee),J.Z.locals;class Z extends(0,C.Xu)((0,C.Re)()){constructor(k){super(),this.element=null,this.isRendered=!1,this.locale=k,this.t=k&&k.t,this._viewCollections=new C.FE,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(O,he)=>{he.locale=k,he.t=k&&k.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=r.bind(this,this)}createCollection(k){const O=new ge(k);return this._viewCollections.add(O),O}registerChild(k){(0,C.TW)(k)||(k=[k]);for(const O of k)this._unboundChildren.add(O)}deregisterChild(k){(0,C.TW)(k)||(k=[k]);for(const O of k)this._unboundChildren.remove(O)}setTemplate(k){this.template=new r(k)}extendTemplate(k){r.extend(this.template,k)}render(){if(this.isRendered)throw new C.Bb("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(k=>k.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}var h=a("./node_modules/lodash-es/cloneDeepWith.js"),g=a("./node_modules/lodash-es/isObject.js");class r extends(0,C.ln)(){constructor(k){super(),Object.assign(this,W(D(k))),this._isRendered=!1,this._revertData=null}render(){const k=this._renderNode({intoFragment:!0});return this._isRendered=!0,k}apply(k){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:k,intoFragment:!1,isApplying:!0,revertData:this._revertData}),k}revert(k){if(!this._revertData)throw new C.Bb("ui-template-revert-not-applied",[this,k]);this._revertTemplateFromNode(k,this._revertData)}*getViews(){yield*function*k(O){if(O.children)for(const he of O.children)Me(he)?yield he:Qe(he)&&(yield*k(he))}(this)}static bind(k,O){return{to:(he,Ae)=>new w({eventNameOrFunction:he,attribute:he,observable:k,emitter:O,callback:Ae}),if:(he,Ae,dt)=>new v({observable:k,emitter:O,attribute:he,valueIfTrue:Ae,callback:dt})}}static extend(k,O){if(k._isRendered)throw new C.Bb("template-extend-render",[this,k]);Ve(k,W(D(O)))}_renderNode(k){let O;if(O=k.node?this.tag&&this.text:this.tag?this.text:!this.text,O)throw new C.Bb("ui-template-wrong-syntax",this);return this.text?this._renderText(k):this._renderElement(k)}_renderElement(k){let O=k.node;return O||(O=k.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(k),this._renderElementChildren(k),this._setUpListeners(k),O}_renderText(k){let O=k.node;return O?k.revertData.text=O.textContent:O=k.node=document.createTextNode(""),T(this.text)?this._bindToObservable({schema:this.text,updater:L(O),data:k}):O.textContent=this.text.join(""),O}_renderAttributes(k){if(!this.attributes)return;const O=k.node,he=k.revertData;for(const Ae in this.attributes){const dt=O.getAttribute(Ae),lt=this.attributes[Ae];he&&(he.attributes[Ae]=dt);const ot=rt(lt)?lt[0].ns:null;if(T(lt)){const Zt=rt(lt)?lt[0].value:lt;he&&qe(Ae)&&Zt.unshift(dt),this._bindToObservable({schema:Zt,updater:x(O,Ae,ot),data:k})}else if(Ae=="style"&&typeof lt[0]!="string")this._renderStyleAttribute(lt[0],k);else{he&&dt&&qe(Ae)&&lt.unshift(dt);const Zt=lt.map(Pi=>Pi&&Pi.value||Pi).reduce((Pi,Ki)=>Pi.concat(Ki),[]).reduce(ae,"");_e(Zt)||O.setAttributeNS(ot,Ae,Zt)}}}_renderStyleAttribute(k,O){const he=O.node;for(const Ae in k){const dt=k[Ae];T(dt)?this._bindToObservable({schema:[dt],updater:c(he,Ae),data:O}):he.style[Ae]=dt}}_renderElementChildren(k){const O=k.node,he=k.intoFragment?document.createDocumentFragment():O,Ae=k.isApplying;let dt=0;for(const lt of this.children)if(ut(lt)){if(!Ae){lt.setParent(O);for(const ot of lt)he.appendChild(ot.element)}}else if(Me(lt))Ae||(lt.isRendered||lt.render(),he.appendChild(lt.element));else if((0,C.UG)(lt))he.appendChild(lt);else if(Ae){const ot={children:[],bindings:[],attributes:{}};k.revertData.children.push(ot),lt._renderNode({intoFragment:!1,node:he.childNodes[dt++],isApplying:!0,revertData:ot})}else he.appendChild(lt.render());k.intoFragment&&O.appendChild(he)}_setUpListeners(k){if(this.eventListeners)for(const O in this.eventListeners){const he=this.eventListeners[O].map(Ae=>{const[dt,lt]=O.split("@");return Ae.activateDomEventListener(dt,lt,k)});k.revertData&&k.revertData.bindings.push(he)}}_bindToObservable({schema:k,updater:O,data:he}){const Ae=he.revertData;z(k,O,he);const dt=k.filter(lt=>!_e(lt)).filter(lt=>lt.observable).map(lt=>lt.activateAttributeListener(k,O,he));Ae&&Ae.bindings.push(dt)}_revertTemplateFromNode(k,O){for(const Ae of O.bindings)for(const dt of Ae)dt();if(O.text)return void(k.textContent=O.text);const he=k;for(const Ae in O.attributes){const dt=O.attributes[Ae];dt===null?he.removeAttribute(Ae):he.setAttribute(Ae,dt)}for(let Ae=0;Ae<O.children.length;++Ae)this._revertTemplateFromNode(he.childNodes[Ae],O.children[Ae])}}class u{constructor(k){this.attribute=k.attribute,this.observable=k.observable,this.emitter=k.emitter,this.callback=k.callback}getValue(k){const O=this.observable[this.attribute];return this.callback?this.callback(O,k):O}activateAttributeListener(k,O,he){const Ae=()=>z(k,O,he);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,Ae),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,Ae)}}}class w extends u{constructor(k){super(k),this.eventNameOrFunction=k.eventNameOrFunction}activateDomEventListener(k,O,he){const Ae=(dt,lt)=>{O&&!lt.target.matches(O)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(lt):this.observable.fire(this.eventNameOrFunction,lt))};return this.emitter.listenTo(he.node,k,Ae),()=>{this.emitter.stopListening(he.node,k,Ae)}}}class v extends u{constructor(k){super(k),this.valueIfTrue=k.valueIfTrue}getValue(k){return!_e(super.getValue(k))&&(this.valueIfTrue||!0)}}function T(Pe){return!!Pe&&(Pe.value&&(Pe=Pe.value),Array.isArray(Pe)?Pe.some(T):Pe instanceof u)}function z(Pe,k,{node:O}){const he=function(dt,lt){return dt.map(ot=>ot instanceof u?ot.getValue(lt):ot)}(Pe,O);let Ae;Ae=Pe.length==1&&Pe[0]instanceof v?he[0]:he.reduce(ae,""),_e(Ae)?k.remove():k.set(Ae)}function L(Pe){return{set(k){Pe.textContent=k},remove(){Pe.textContent=""}}}function x(Pe,k,O){return{set(he){Pe.setAttributeNS(O,k,he)},remove(){Pe.removeAttributeNS(O,k)}}}function c(Pe,k){return{set(O){Pe.style[k]=O},remove(){Pe.style[k]=null}}}function D(Pe){return(0,h.Z)(Pe,k=>{if(k&&(k instanceof u||Qe(k)||Me(k)||ut(k)))return k})}function W(Pe){if(typeof Pe=="string"?Pe=function(k){return{text:[k]}}(Pe):Pe.text&&function(k){k.text=(0,C.qo)(k.text)}(Pe),Pe.on&&(Pe.eventListeners=function(k){for(const O in k)q(k,O);return k}(Pe.on),delete Pe.on),!Pe.text){Pe.attributes&&function(O){for(const he in O)O[he].value&&(O[he].value=(0,C.qo)(O[he].value)),q(O,he)}(Pe.attributes);const k=[];if(Pe.children)if(ut(Pe.children))k.push(Pe.children);else for(const O of Pe.children)Qe(O)||Me(O)||(0,C.UG)(O)?k.push(O):k.push(new r(O));Pe.children=k}return Pe}function q(Pe,k){Pe[k]=(0,C.qo)(Pe[k])}function ae(Pe,k){return _e(k)?Pe:_e(Pe)?k:`${Pe} ${k}`}function Ie(Pe,k){for(const O in k)Pe[O]?Pe[O].push(...k[O]):Pe[O]=k[O]}function Ve(Pe,k){if(k.attributes&&(Pe.attributes||(Pe.attributes={}),Ie(Pe.attributes,k.attributes)),k.eventListeners&&(Pe.eventListeners||(Pe.eventListeners={}),Ie(Pe.eventListeners,k.eventListeners)),k.text&&Pe.text.push(...k.text),k.children&&k.children.length){if(Pe.children.length!=k.children.length)throw new C.Bb("ui-template-extend-children-mismatch",Pe);let O=0;for(const he of k.children)Ve(Pe.children[O++],he)}}function _e(Pe){return!Pe&&Pe!==0}function Me(Pe){return Pe instanceof Z}function Qe(Pe){return Pe instanceof r}function ut(Pe){return Pe instanceof ge}function rt(Pe){return(0,g.Z)(Pe[0])&&Pe[0].ns}function qe(Pe){return Pe=="class"||Pe=="style"}class et extends ge{constructor(k,O=[]){super(O),this.locale=k}attachToDom(){this._bodyCollectionContainer=new r({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let k=document.querySelector(".ck-body-wrapper");k||(k=(0,C.az)(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(k)),k.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const k=document.querySelector(".ck-body-wrapper");k&&k.childElementCount==0&&k.remove()}}var Bt=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/icon/icon.css"),Nt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(Bt.Z,Nt),Bt.Z.locals;class xt extends Z{constructor(){super();const k=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",k.if("isColorInherited","ck-icon_inherit-color")],viewBox:k.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const k=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),O=k.getAttribute("viewBox");O&&(this.viewBox=O);for(const{name:he,value:Ae}of Array.from(k.attributes))xt.presentationalAttributeNames.includes(he)&&this.element.setAttribute(he,Ae);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;k.childNodes.length>0;)this.element.appendChild(k.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(k=>{k.style.fill=this.fillColor})}}xt.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];var tt=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/button/button.css"),Dt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(tt.Z,Dt),tt.Z.locals;class ye extends Z{constructor(k){super(k);const O=this.bindTemplate,he=(0,C.hQ)();this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(he),this.iconView=new xt,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const Ae={tag:"button",attributes:{class:["ck","ck-button",O.to("class"),O.if("isEnabled","ck-disabled",dt=>!dt),O.if("isVisible","ck-hidden",dt=>!dt),O.to("isOn",dt=>dt?"ck-on":"ck-off"),O.if("withText","ck-button_with-text"),O.if("withKeystroke","ck-button_with-keystroke")],type:O.to("type",dt=>dt||"button"),tabindex:O.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${he}`,"aria-disabled":O.if("isEnabled",!0,dt=>!dt),"aria-pressed":O.to("isOn",dt=>!!this.isToggleable&&String(!!dt)),"data-cke-tooltip-text":O.to("_tooltipString"),"data-cke-tooltip-position":O.to("tooltipPosition")},children:this.children,on:{click:O.to(dt=>{this.isEnabled?this.fire("execute"):dt.preventDefault()})}};C.OB.isSafari&&(Ae.on.mousedown=O.to(dt=>{this.focus(),dt.preventDefault()})),this.setTemplate(Ae)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createLabelView(k){const O=new Z,he=this.bindTemplate;return O.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:he.to("labelStyle"),id:`ck-editor__aria-label_${k}`},children:[{text:this.bindTemplate.to("label")}]}),O}_createKeystrokeView(){const k=new Z;return k.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",O=>(0,C.XU)(O))}]}),k}_getTooltipString(k,O,he){return k?typeof k=="string"?k:(he&&(he=(0,C.XU)(he)),k instanceof Function?k(O,he):`${O}${he?` (${he})`:""}`):""}}var Se=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/button/switchbutton.css"),Ke={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(Se.Z,Ke),Se.Z.locals;class kt extends ye{constructor(k){super(k),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const k=new Z;return k.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),k}}function Lt(Pe,k){const O=Pe.t,he={Black:O("Black"),"Dim grey":O("Dim grey"),Grey:O("Grey"),"Light grey":O("Light grey"),White:O("White"),Red:O("Red"),Orange:O("Orange"),Yellow:O("Yellow"),"Light green":O("Light green"),Green:O("Green"),Aquamarine:O("Aquamarine"),Turquoise:O("Turquoise"),"Light blue":O("Light blue"),Blue:O("Blue"),Purple:O("Purple")};return k.map(Ae=>{const dt=he[Ae.label];return dt&&dt!=Ae.label&&(Ae.label=dt),Ae})}function Gt(Pe){return Pe.map($t).filter(k=>!!k)}function $t(Pe){return typeof Pe=="string"?{model:Pe,label:Pe,hasBorder:!1,view:{name:"span",styles:{color:Pe}}}:{model:Pe.color,label:Pe.label||Pe.color,hasBorder:Pe.hasBorder!==void 0&&Pe.hasBorder,view:{name:"span",styles:{color:`${Pe.color}`}}}}class ft extends ye{constructor(k){super(k);const O=this.bindTemplate;this.set("color",void 0),this.set("hasBorder",!1),this.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>',this.extendTemplate({attributes:{style:{backgroundColor:O.to("color")},class:["ck","ck-color-grid__tile",O.if("hasBorder","ck-color-table__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}var Yt=a("./packages/ckeditor5-utils/src/keystrokehandler.ts"),_t=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorgrid/colorgrid.css"),ri={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(_t.Z,ri),_t.Z.locals;class ui extends Z{constructor(k,O){super(k);const he=O&&O.colorDefinitions||[];this.columns=O&&O.columns?O.columns:5;const Ae={gridTemplateColumns:`repeat( ${this.columns}, 1fr)`};this.set("selectedColor",void 0),this.items=this.createCollection(),this.focusTracker=new C.Rh,this.keystrokes=new Yt.Z,this.items.on("add",(dt,lt)=>{lt.isOn=lt.color===this.selectedColor}),he.forEach(dt=>{const lt=new ft;lt.set({color:dt.color,label:dt.label,tooltip:!0,hasBorder:dt.options.hasBorder}),lt.on("execute",()=>{this.fire("execute",{value:dt.color,hasBorder:dt.options.hasBorder,label:dt.label})}),this.items.add(lt)}),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:Ae}}),this.on("change:selectedColor",(dt,lt,ot)=>{for(const Zt of this.items)Zt.isOn=Zt.color===ot})}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const k of this.items)this.focusTracker.add(k.element);this.items.on("add",(k,O)=>{this.focusTracker.add(O.element)}),this.items.on("remove",(k,O)=>{this.focusTracker.remove(O.element)}),this.keystrokes.listenTo(this.element),I({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:this.columns,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}class Ai{constructor(k){this.editor=k,this._components=new Map}*names(){for(const k of this._components.values())yield k.originalName}add(k,O){this._components.set(bt(k),{callback:O,originalName:k})}create(k){if(!this.has(k))throw new C.Bb("componentfactory-item-missing",this,{name:k});return this._components.get(bt(k)).callback(this.editor.locale)}has(k){return this._components.has(bt(k))}}function bt(Pe){return String(Pe).toLowerCase()}var be=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/dropdown.css"),Ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(be.Z,Ne),be.Z.locals;class $e extends Z{constructor(k,O,he){super(k);const Ae=this.bindTemplate;this.buttonView=O,this.panelView=he,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new C.VD,this.focusTracker=new C.Rh,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",Ae.to("class"),Ae.if("isEnabled","ck-disabled",dt=>!dt)],id:Ae.to("id"),"aria-describedby":Ae.to("ariaDescribedById")},children:[O,he]}),O.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":Ae.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(O,he,Ae)=>{Ae&&(this.panelPosition==="auto"?this.panelView.position=$e._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);const k=(O,he)=>{this.isOpen&&(this.isOpen=!1,he())};this.keystrokes.set("arrowdown",(O,he)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,he())}),this.keystrokes.set("arrowright",(O,he)=>{this.isOpen&&he()}),this.keystrokes.set("arrowleft",k),this.keystrokes.set("esc",k)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:k,north:O,southEast:he,southWest:Ae,northEast:dt,northWest:lt,southMiddleEast:ot,southMiddleWest:Zt,northMiddleEast:Pi,northMiddleWest:Ki}=$e.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[he,Ae,ot,Zt,k,dt,lt,Pi,Ki,O]:[Ae,he,Zt,ot,k,lt,dt,Ki,Pi,O]}}$e.defaultPanelPositions={south:(Pe,k)=>({top:Pe.bottom,left:Pe.left-(k.width-Pe.width)/2,name:"s"}),southEast:Pe=>({top:Pe.bottom,left:Pe.left,name:"se"}),southWest:(Pe,k)=>({top:Pe.bottom,left:Pe.left-k.width+Pe.width,name:"sw"}),southMiddleEast:(Pe,k)=>({top:Pe.bottom,left:Pe.left-(k.width-Pe.width)/4,name:"sme"}),southMiddleWest:(Pe,k)=>({top:Pe.bottom,left:Pe.left-3*(k.width-Pe.width)/4,name:"smw"}),north:(Pe,k)=>({top:Pe.top-k.height,left:Pe.left-(k.width-Pe.width)/2,name:"n"}),northEast:(Pe,k)=>({top:Pe.top-k.height,left:Pe.left,name:"ne"}),northWest:(Pe,k)=>({top:Pe.top-k.height,left:Pe.left-k.width+Pe.width,name:"nw"}),northMiddleEast:(Pe,k)=>({top:Pe.top-k.height,left:Pe.left-(k.width-Pe.width)/4,name:"nme"}),northMiddleWest:(Pe,k)=>({top:Pe.top-k.height,left:Pe.left-3*(k.width-Pe.width)/4,name:"nmw"})},$e._getOptimalPosition=C.xZ;const gt='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class Tt extends ye{constructor(k){super(k),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",O=>String(O))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const k=new xt;return k.content=gt,k.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),k}}var Et=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/splitbutton.css"),Xt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(Et.Z,Xt),Et.Z.locals;class Ut extends Z{constructor(k){super(k);const O=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new C.VD,this.focusTracker=new C.Rh,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",O.to("class"),O.if("isVisible","ck-hidden",he=>!he),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(k,O)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),O())}),this.keystrokes.set("arrowleft",(k,O)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),O())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const k=new ye;return k.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),k.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),k.delegate("execute").to(this),k}_createArrowView(){const k=new ye,O=k.bindTemplate;return k.icon=gt,k.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":O.to("isOn"),"aria-haspopup":!0,"aria-expanded":O.to("isOn",he=>String(he))}}),k.bind("isEnabled").to(this),k.bind("label").to(this),k.bind("tooltip").to(this),k.delegate("execute").to(this,"open"),k}}class ni extends Z{constructor(k){super(k);const O=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",O.to("position",he=>`ck-dropdown__panel_${he}`),O.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:O.to(he=>he.preventDefault())}})}focus(){if(this.children.length){const k=this.children.first;typeof k.focus=="function"?k.focus():(0,C.KE)("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const k=this.children.last;typeof k.focusLast=="function"?k.focusLast():k.focus()}}}class wi{constructor(k){if(this.focusables=k.focusables,this.focusTracker=k.focusTracker,this.keystrokeHandler=k.keystrokeHandler,this.actions=k.actions,k.actions&&k.keystrokeHandler)for(const O in k.actions){let he=k.actions[O];typeof he=="string"&&(he=[he]);for(const Ae of he)k.keystrokeHandler.set(Ae,(dt,lt)=>{this[O](),lt()})}}get first(){return this.focusables.find(gi)||null}get last(){return this.focusables.filter(gi).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let k=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((O,he)=>{const Ae=O.element===this.focusTracker.focusedElement;return Ae&&(k=he),Ae}),k)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(k){k&&k.focus()}_getFocusableItem(k){const O=this.current,he=this.focusables.length;if(!he)return null;if(O===null)return this[k===1?"first":"last"];let Ae=(O+he+k)%he;do{const dt=this.focusables.get(Ae);if(gi(dt))return dt;Ae=(Ae+he+k)%he}while(Ae!==O);return null}}function gi(Pe){return!(!Pe.focus||!(0,C.pn)(Pe.element))}class Ti extends Z{constructor(k){super(k),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class Rt extends Z{constructor(k){super(k),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function Ii(Pe){return Array.isArray(Pe)?{items:Pe,removeItems:[]}:Pe?Object.assign({items:[],removeItems:[]},Pe):{items:[],removeItems:[]}}var Mi=a("./packages/ckeditor5-core/src/index.ts"),Qi=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/toolbar/toolbar.css"),Fi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(Qi.Z,Fi),Qi.Z.locals;const{threeVerticalDots:Vi}=Mi.ci,Ji={alignLeft:Mi.ci.alignLeft,bold:Mi.ci.bold,importExport:Mi.ci.importExport,paragraph:Mi.ci.paragraph,plus:Mi.ci.plus,text:Mi.ci.text,threeVerticalDots:Mi.ci.threeVerticalDots};class cn extends Z{constructor(k,O){super(k);const he=this.bindTemplate,Ae=this.t;this.options=O||{},this.set("ariaLabel",Ae("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new C.Rh,this.keystrokes=new C.VD,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new Ri(k),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const dt=k.uiLanguageDirection==="rtl";this._focusCycler=new wi({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[dt?"arrowright":"arrowleft","arrowup"],focusNext:[dt?"arrowleft":"arrowright","arrowdown"]}});const lt=["ck","ck-toolbar",he.to("class"),he.if("isCompact","ck-toolbar_compact")];var ot;this.options.shouldGroupWhenFull&&this.options.isFloating&&lt.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:lt,role:"toolbar","aria-label":he.to("ariaLabel"),style:{maxWidth:he.to("maxWidth")}},children:this.children,on:{mousedown:(ot=this,ot.bindTemplate.to(Zt=>{Zt.target===ot.element&&Zt.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new fi(this):new pn(this)}render(){super.render();for(const k of this.items)this.focusTracker.add(k.element);this.items.on("add",(k,O)=>{this.focusTracker.add(O.element)}),this.items.on("remove",(k,O)=>{this.focusTracker.remove(O.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(k,O,he){this.items.addMany(this._buildItemsFromConfig(k,O,he))}_buildItemsFromConfig(k,O,he){const Ae=Ii(k),dt=he||Ae.removeItems;return this._cleanItemsConfiguration(Ae.items,O,dt).map(lt=>(0,g.Z)(lt)?this._createNestedToolbarDropdown(lt,O,dt):lt==="|"?new Ti:lt==="-"?new Rt:O.create(lt)).filter(lt=>!!lt)}_cleanItemsConfiguration(k,O,he){const Ae=k.filter((dt,lt,ot)=>dt==="|"||he.indexOf(dt)===-1&&(dt==="-"?!this.options.shouldGroupWhenFull||((0,C.KE)("toolbarview-line-break-ignored-when-grouping-items",ot),!1):!(!(0,g.Z)(dt)&&!O.has(dt))||((0,C.KE)("toolbarview-item-unavailable",{item:dt}),!1)));return this._cleanSeparatorsAndLineBreaks(Ae)}_cleanSeparatorsAndLineBreaks(k){const O=lt=>lt!=="-"&&lt!=="|",he=k.length,Ae=k.findIndex(O);if(Ae===-1)return[];const dt=he-k.slice().reverse().findIndex(O);return k.slice(Ae,dt).filter((lt,ot,Zt)=>O(lt)?!0:!(ot>0&&Zt[ot-1]===lt))}_createNestedToolbarDropdown(k,O,he){let{label:Ae,icon:dt,items:lt,tooltip:ot=!0,withText:Zt=!1}=k;if(lt=this._cleanItemsConfiguration(lt,O,he),!lt.length)return null;const Pi=Ze(this.locale);return Ae||(0,C.KE)("toolbarview-nested-toolbar-dropdown-missing-label",k),Pi.class="ck-toolbar__nested-toolbar-dropdown",Pi.buttonView.set({label:Ae,tooltip:ot,withText:!!Zt}),dt!==!1?Pi.buttonView.icon=Ji[dt]||dt||Vi:Pi.buttonView.withText=!0,st(Pi,()=>Pi.toolbarView._buildItemsFromConfig(lt,O,he)),Pi}}class Ri extends Z{constructor(k){super(k),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class pn{constructor(k){const O=k.bindTemplate;k.set("isVertical",!1),k.itemsView.children.bindTo(k.items).using(he=>he),k.focusables.bindTo(k.items).using(he=>he),k.extendTemplate({attributes:{class:[O.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class fi{constructor(k){this.view=k,this.viewChildren=k.children,this.viewFocusables=k.focusables,this.viewItemsView=k.itemsView,this.viewFocusTracker=k.focusTracker,this.viewLocale=k.locale,this.ungroupedItems=k.createCollection(),this.groupedItems=k.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,k.itemsView.children.bindTo(this.ungroupedItems).using(O=>O),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),k.children.on("change",this._updateFocusCycleableItems.bind(this)),k.items.on("change",(O,he)=>{const Ae=he.index,dt=Array.from(he.added);for(const lt of he.removed)Ae>=this.ungroupedItems.length?this.groupedItems.remove(lt):this.ungroupedItems.remove(lt);for(let lt=Ae;lt<Ae+dt.length;lt++){const ot=dt[lt-Ae];lt>this.ungroupedItems.length?this.groupedItems.add(ot,lt-this.ungroupedItems.length):this.ungroupedItems.add(ot,lt)}this._updateGrouping()}),k.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(k){this.viewElement=k.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(k)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!(0,C.pn)(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const k=this.groupedItems.length;let O;for(;this._areItemsOverflowing;)this._groupLastItem(),O=!0;if(!O&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==k&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const k=this.viewElement,O=this.viewLocale.uiLanguageDirection,he=new C.UL(k.lastChild),Ae=new C.UL(k);if(!this.cachedPadding){const dt=C.CO.window.getComputedStyle(k),lt=O==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(dt[lt])}return O==="ltr"?he.right>Ae.right-this.cachedPadding:he.left<Ae.left+this.cachedPadding}_enableGroupingOnResize(){let k;this.resizeObserver=new C.do(this.viewElement,O=>{k&&k===O.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),k=O.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(k){k.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new Ti),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const k=this.viewLocale,O=k.t,he=Ze(k);return he.class="ck-toolbar__grouped-dropdown",he.panelPosition=k.uiLanguageDirection==="ltr"?"sw":"se",st(he,this.groupedItems),he.buttonView.set({label:O("Show more items"),tooltip:!0,tooltipPosition:k.uiLanguageDirection==="rtl"?"se":"sw",icon:Vi}),he}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(k=>{this.viewFocusables.add(k)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var pi=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/list/list.css"),qi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(pi.Z,qi),pi.Z.locals;class ke extends Z{constructor(k){super(k);const O=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new C.Rh,this.keystrokes=new C.VD,this._focusCycler=new wi({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],"aria-label":O.to("ariaLabel")},children:this.items})}render(){super.render();for(const k of this.items)this.focusTracker.add(k.element);this.items.on("add",(k,O)=>{this.focusTracker.add(O.element)}),this.items.on("remove",(k,O)=>{this.focusTracker.remove(O.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class V extends Z{constructor(k){super(k);const O=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",O.if("isVisible","ck-hidden",he=>!he)]},children:this.children})}focus(){this.children.first.focus()}}class F extends Z{constructor(k){super(k),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var P=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css"),N={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(P.Z,N),P.Z.locals;var de=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/listdropdown.css"),Ce={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(de.Z,Ce),de.Z.locals;function Ze(Pe,k=Tt){const O=new k(Pe),he=new ni(Pe),Ae=new $e(Pe,O,he);return O.bind("isEnabled").to(Ae),O instanceof Ut?O.arrowView.bind("isOn").to(Ae,"isOpen"):O.bind("isOn").to(Ae,"isOpen"),function(dt){(function(lt){lt.on("render",()=>{d({emitter:lt,activator:()=>lt.isOpen,callback:()=>{lt.isOpen=!1},contextElements:[lt.element]})})})(dt),function(lt){lt.on("execute",ot=>{ot.source instanceof kt||(lt.isOpen=!1)})}(dt),function(lt){lt.focusTracker.on("change:isFocused",(ot,Zt,Pi)=>{lt.isOpen&&!Pi&&(lt.isOpen=!1)})}(dt),function(lt){lt.keystrokes.set("arrowdown",(ot,Zt)=>{lt.isOpen&&(lt.panelView.focus(),Zt())}),lt.keystrokes.set("arrowup",(ot,Zt)=>{lt.isOpen&&(lt.panelView.focusLast(),Zt())})}(dt),function(lt){lt.on("change:isOpen",(ot,Zt,Pi)=>{if(Pi)return;const Ki=lt.panelView.element;Ki&&Ki.contains(C.CO.document.activeElement)&&lt.buttonView.focus()})}(dt),function(lt){lt.on("change:isOpen",(ot,Zt,Pi)=>{Pi&&lt.panelView.focus()},{priority:"low"})}(dt)}(Ae),Ae}function st(Pe,k,O={}){Pe.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),Pe.isOpen?Ct(Pe,k,O):Pe.once("change:isOpen",()=>Ct(Pe,k,O),{priority:"highest"}),O.enableActiveItemFocusOnDropdownOpen&&ci(Pe,()=>Pe.toolbarView.items.find(he=>he.isOn))}function Ct(Pe,k,O){const he=Pe.locale,Ae=he.t,dt=Pe.toolbarView=new cn(he),lt=typeof k=="function"?k():k;dt.ariaLabel=O.ariaLabel||Ae("Dropdown toolbar"),O.maxWidth&&(dt.maxWidth=O.maxWidth),O.class&&(dt.class=O.class),O.isCompact&&(dt.isCompact=O.isCompact),O.isVertical&&(dt.isVertical=!0),lt instanceof ge?dt.items.bindTo(lt).using(ot=>ot):dt.items.addMany(lt),Pe.panelView.children.add(dt),dt.items.delegate("execute").to(Pe)}function Ge(Pe,k,O={}){Pe.isOpen?Ft(Pe,k,O):Pe.once("change:isOpen",()=>Ft(Pe,k,O),{priority:"highest"}),ci(Pe,()=>Pe.listView.items.find(he=>he instanceof V&&he.children.first.isOn))}function Ft(Pe,k,O){const he=Pe.locale,Ae=Pe.listView=new ke(he),dt=typeof k=="function"?k():k;Ae.ariaLabel=O.ariaLabel,Ae.items.bindTo(dt).using(lt=>{if(lt.type==="separator")return new F(he);if(lt.type==="button"||lt.type==="switchbutton"){const ot=new V(he);let Zt;return Zt=lt.type==="button"?new ye(he):new kt(he),Zt.bind(...Object.keys(lt.model)).to(lt.model),Zt.delegate("execute").to(ot),ot.children.add(Zt),ot}return null}),Pe.panelView.children.add(Ae),Ae.items.delegate("execute").to(Pe)}function ci(Pe,k){Pe.on("change:isOpen",()=>{if(!Pe.isOpen)return;const O=k();O&&(typeof O.focus=="function"?O.focus():(0,C.KE)("ui-dropdown-focus-child-on-open-child-missing-focus",{view:O}))},{priority:C.tA.low-10})}var yi=a("./node_modules/lodash-es/isElement.js"),Oi=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/balloonpanel.css"),Ei={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(Oi.Z,Ei),Oi.Z.locals;const Bi=(0,C.nn)("px"),Li=C.CO.document.body;class Ui extends Z{constructor(k){super(k);const O=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",O.to("position",he=>`ck-balloon-panel_${he}`),O.if("isVisible","ck-balloon-panel_visible"),O.if("withArrow","ck-balloon-panel_with-arrow"),O.to("class")],style:{top:O.to("top",Bi),left:O.to("left",Bi)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(k){this.show();const O=Ui.defaultPositions,he=Object.assign({},{element:this.element,positions:[O.southArrowNorth,O.southArrowNorthMiddleWest,O.southArrowNorthMiddleEast,O.southArrowNorthWest,O.southArrowNorthEast,O.northArrowSouth,O.northArrowSouthMiddleWest,O.northArrowSouthMiddleEast,O.northArrowSouthWest,O.northArrowSouthEast,O.viewportStickyNorth],limiter:Li,fitInViewport:!0},k),Ae=Ui._getOptimalPosition(he),dt=parseInt(Ae.left),lt=parseInt(Ae.top),ot=Ae.name,Zt=Ae.config||{},{withArrow:Pi=!0}=Zt;this.top=lt,this.left=dt,this.position=ot,this.withArrow=Pi}pin(k){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(k):this._stopPinning()},this._startPinning(k),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(k){this.attachTo(k);const O=Ht(k.target),he=k.limiter?Ht(k.limiter):Li;this.listenTo(C.CO.document,"scroll",(Ae,dt)=>{const lt=dt.target,ot=O&&lt.contains(O),Zt=he&&lt.contains(he);!ot&&!Zt&&O&&he||this.attachTo(k)},{useCapture:!0}),this.listenTo(C.CO.window,"resize",()=>{this.attachTo(k)})}_stopPinning(){this.stopListening(C.CO.document,"scroll"),this.stopListening(C.CO.window,"resize")}}function Ht(Pe){return(0,yi.Z)(Pe)?Pe:(0,C.bR)(Pe)?Pe.commonAncestorContainer:typeof Pe=="function"?Ht(Pe()):null}function we(Pe={}){const{sideOffset:k=Ui.arrowSideOffset,heightOffset:O=Ui.arrowHeightOffset,stickyVerticalOffset:he=Ui.stickyVerticalOffset,config:Ae}=Pe;return{northWestArrowSouthWest:(ot,Zt)=>({top:dt(ot,Zt),left:ot.left-k,name:"arrow_sw",...Ae&&{config:Ae}}),northWestArrowSouthMiddleWest:(ot,Zt)=>({top:dt(ot,Zt),left:ot.left-.25*Zt.width-k,name:"arrow_smw",...Ae&&{config:Ae}}),northWestArrowSouth:(ot,Zt)=>({top:dt(ot,Zt),left:ot.left-Zt.width/2,name:"arrow_s",...Ae&&{config:Ae}}),northWestArrowSouthMiddleEast:(ot,Zt)=>({top:dt(ot,Zt),left:ot.left-.75*Zt.width+k,name:"arrow_sme",...Ae&&{config:Ae}}),northWestArrowSouthEast:(ot,Zt)=>({top:dt(ot,Zt),left:ot.left-Zt.width+k,name:"arrow_se",...Ae&&{config:Ae}}),northArrowSouthWest:(ot,Zt)=>({top:dt(ot,Zt),left:ot.left+ot.width/2-k,name:"arrow_sw",...Ae&&{config:Ae}}),northArrowSouthMiddleWest:(ot,Zt)=>({top:dt(ot,Zt),left:ot.left+ot.width/2-.25*Zt.width-k,name:"arrow_smw",...Ae&&{config:Ae}}),northArrowSouth:(ot,Zt)=>({top:dt(ot,Zt),left:ot.left+ot.width/2-Zt.width/2,name:"arrow_s",...Ae&&{config:Ae}}),northArrowSouthMiddleEast:(ot,Zt)=>({top:dt(ot,Zt),left:ot.left+ot.width/2-.75*Zt.width+k,name:"arrow_sme",...Ae&&{config:Ae}}),northArrowSouthEast:(ot,Zt)=>({top:dt(ot,Zt),left:ot.left+ot.width/2-Zt.width+k,name:"arrow_se",...Ae&&{config:Ae}}),northEastArrowSouthWest:(ot,Zt)=>({top:dt(ot,Zt),left:ot.right-k,name:"arrow_sw",...Ae&&{config:Ae}}),northEastArrowSouthMiddleWest:(ot,Zt)=>({top:dt(ot,Zt),left:ot.right-.25*Zt.width-k,name:"arrow_smw",...Ae&&{config:Ae}}),northEastArrowSouth:(ot,Zt)=>({top:dt(ot,Zt),left:ot.right-Zt.width/2,name:"arrow_s",...Ae&&{config:Ae}}),northEastArrowSouthMiddleEast:(ot,Zt)=>({top:dt(ot,Zt),left:ot.right-.75*Zt.width+k,name:"arrow_sme",...Ae&&{config:Ae}}),northEastArrowSouthEast:(ot,Zt)=>({top:dt(ot,Zt),left:ot.right-Zt.width+k,name:"arrow_se",...Ae&&{config:Ae}}),southWestArrowNorthWest:ot=>({top:lt(ot),left:ot.left-k,name:"arrow_nw",...Ae&&{config:Ae}}),southWestArrowNorthMiddleWest:(ot,Zt)=>({top:lt(ot),left:ot.left-.25*Zt.width-k,name:"arrow_nmw",...Ae&&{config:Ae}}),southWestArrowNorth:(ot,Zt)=>({top:lt(ot),left:ot.left-Zt.width/2,name:"arrow_n",...Ae&&{config:Ae}}),southWestArrowNorthMiddleEast:(ot,Zt)=>({top:lt(ot),left:ot.left-.75*Zt.width+k,name:"arrow_nme",...Ae&&{config:Ae}}),southWestArrowNorthEast:(ot,Zt)=>({top:lt(ot),left:ot.left-Zt.width+k,name:"arrow_ne",...Ae&&{config:Ae}}),southArrowNorthWest:ot=>({top:lt(ot),left:ot.left+ot.width/2-k,name:"arrow_nw",...Ae&&{config:Ae}}),southArrowNorthMiddleWest:(ot,Zt)=>({top:lt(ot),left:ot.left+ot.width/2-.25*Zt.width-k,name:"arrow_nmw",...Ae&&{config:Ae}}),southArrowNorth:(ot,Zt)=>({top:lt(ot),left:ot.left+ot.width/2-Zt.width/2,name:"arrow_n",...Ae&&{config:Ae}}),southArrowNorthMiddleEast:(ot,Zt)=>({top:lt(ot),left:ot.left+ot.width/2-.75*Zt.width+k,name:"arrow_nme",...Ae&&{config:Ae}}),southArrowNorthEast:(ot,Zt)=>({top:lt(ot),left:ot.left+ot.width/2-Zt.width+k,name:"arrow_ne",...Ae&&{config:Ae}}),southEastArrowNorthWest:ot=>({top:lt(ot),left:ot.right-k,name:"arrow_nw",...Ae&&{config:Ae}}),southEastArrowNorthMiddleWest:(ot,Zt)=>({top:lt(ot),left:ot.right-.25*Zt.width-k,name:"arrow_nmw",...Ae&&{config:Ae}}),southEastArrowNorth:(ot,Zt)=>({top:lt(ot),left:ot.right-Zt.width/2,name:"arrow_n",...Ae&&{config:Ae}}),southEastArrowNorthMiddleEast:(ot,Zt)=>({top:lt(ot),left:ot.right-.75*Zt.width+k,name:"arrow_nme",...Ae&&{config:Ae}}),southEastArrowNorthEast:(ot,Zt)=>({top:lt(ot),left:ot.right-Zt.width+k,name:"arrow_ne",...Ae&&{config:Ae}}),westArrowEast:(ot,Zt)=>({top:ot.top+ot.height/2-Zt.height/2,left:ot.left-Zt.width-O,name:"arrow_e",...Ae&&{config:Ae}}),eastArrowWest:(ot,Zt)=>({top:ot.top+ot.height/2-Zt.height/2,left:ot.right+O,name:"arrow_w",...Ae&&{config:Ae}}),viewportStickyNorth:(ot,Zt,Pi)=>ot.getIntersection(Pi)?{top:Pi.top+he,left:ot.left+ot.width/2-Zt.width/2,name:"arrowless",config:{withArrow:!1,...Ae}}:null};function dt(ot,Zt){return ot.top-Zt.height-O}function lt(ot){return ot.bottom+O}}Ui.arrowSideOffset=25,Ui.arrowHeightOffset=10,Ui.stickyVerticalOffset=20,Ui._getOptimalPosition=C.xZ,Ui.defaultPositions=we();var He=a("./node_modules/lodash-es/debounce.js"),Q=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/tooltip/tooltip.css"),R={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(Q.Z,R),Q.Z.locals;const Y="ck-tooltip";class ve extends(0,C.Xu)(){constructor(k){if(super(),ve._editors.add(k),ve._instance)return ve._instance;ve._instance=this,this.tooltipTextView=new Z(k.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Ui(k.locale),this.balloonPanelView.class=Y,this.balloonPanelView.content.add(this.tooltipTextView),this._resizeObserver=null,this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._pinTooltipDebounced=(0,He.Z)(this._pinTooltip,600),this.listenTo(C.CO.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(C.CO.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(C.CO.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(C.CO.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(C.CO.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(k){const O=k.ui.view&&k.ui.view.body;ve._editors.delete(k),this.stopListening(k.ui),O&&O.has(this.balloonPanelView)&&O.remove(this.balloonPanelView),ve._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),ve._instance=null)}static getPositioningFunctions(k){const O=ve.defaultBalloonPositions;return{s:[O.southArrowNorth,O.southArrowNorthEast,O.southArrowNorthWest],n:[O.northArrowSouth],e:[O.eastArrowWest],w:[O.westArrowEast],sw:[O.southArrowNorthEast],se:[O.southArrowNorthWest]}[k]}_onEnterOrFocus(k,{target:O}){const he=De(O);var Ae;he&&he!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(he,{text:(Ae=he).dataset.ckeTooltipText,position:Ae.dataset.ckeTooltipPosition||"s",cssClass:Ae.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(k,{target:O,relatedTarget:he}){if(k.name==="mouseleave"){if(!(0,yi.Z)(O)||this._currentElementWithTooltip&&O!==this._currentElementWithTooltip)return;const Ae=De(O),dt=De(he);Ae&&Ae!==dt&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&O!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(k,{target:O}){this._currentElementWithTooltip&&(O.contains(this.balloonPanelView.element)&&O.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(k,{text:O,position:he,cssClass:Ae}){const dt=(0,C.Ps)(ve._editors.values()).ui.view.body;dt.has(this.balloonPanelView)||dt.add(this.balloonPanelView),this.tooltipTextView.text=O,this.balloonPanelView.pin({target:k,positions:ve.getPositioningFunctions(he)}),this._resizeObserver=new C.do(k,()=>{(0,C.pn)(k)||this._unpinTooltip()}),this.balloonPanelView.class=[Y,Ae].filter(lt=>lt).join(" ");for(const lt of ve._editors)this.listenTo(lt.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=k,this._currentTooltipPosition=he}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const k of ve._editors)this.stopListening(k.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){(0,C.pn)(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:ve.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}}function De(Pe){return(0,yi.Z)(Pe)?Pe.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}ve.defaultBalloonPositions=we({heightOffset:5,sideOffset:13}),ve._editors=new Set,ve._instance=null;class nt extends(0,C.Re)(){constructor(k){super(),this.editor=k,this.componentFactory=new Ai(k),this.focusTracker=new C.Rh,this.tooltipManager=new ve(k),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.isReady=!1,this.once("ready",()=>{this.isReady=!0}),this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[],this.listenTo(k.editing.view.document,"layoutChanged",()=>this.update()),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor);for(const k of this._editableElementsMap.values())k.ckeditorInstance=null;this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(k,O){this._editableElementsMap.set(k,O),O.ckeditorInstance||(O.ckeditorInstance=this.editor),this.focusTracker.add(O);const he=()=>{this.editor.editing.view.getDomRoot(k)||this.editor.keystrokes.listenTo(O)};this.isReady?he():this.once("ready",he)}getEditableElement(k="main"){return this._editableElementsMap.get(k)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(k,O={}){k.isRendered?(this.focusTracker.add(k.element),this.editor.keystrokes.listenTo(k.element)):k.once("render",()=>{this.focusTracker.add(k.element),this.editor.keystrokes.listenTo(k.element)}),this._focusableToolbarDefinitions.push({toolbarView:k,options:O})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const k=this.editor,O=k.config.get("ui.viewportOffset");if(O)return O;const he=k.config.get("toolbar.viewportTopOffset");return he?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:he}):{top:0}}_initFocusTracking(){const k=this.editor,O=k.editing.view;let he,Ae;k.keystrokes.set("Alt+F10",(dt,lt)=>{const ot=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(ot)&&!Array.from(O.domRoots.values()).includes(ot)&&(he=ot);const Zt=this._getCurrentFocusedToolbarDefinition();Zt&&Ae||(Ae=this._getFocusableCandidateToolbarDefinitions());for(let Pi=0;Pi<Ae.length;Pi++){const Ki=Ae.shift();if(Ae.push(Ki),Ki!==Zt&&this._focusFocusableCandidateToolbar(Ki)){Zt&&Zt.options.afterBlur&&Zt.options.afterBlur();break}}lt()}),k.keystrokes.set("Esc",(dt,lt)=>{const ot=this._getCurrentFocusedToolbarDefinition();ot&&(he?(he.focus(),he=null):k.editing.view.focus(),ot.options.afterBlur&&ot.options.afterBlur(),lt())})}_getFocusableCandidateToolbarDefinitions(){const k=[];for(const O of this._focusableToolbarDefinitions){const{toolbarView:he,options:Ae}=O;((0,C.pn)(he.element)||Ae.beforeFocus)&&k.push(O)}return k.sort((O,he)=>It(O)-It(he)),k}_getCurrentFocusedToolbarDefinition(){for(const k of this._focusableToolbarDefinitions)if(k.toolbarView.element&&k.toolbarView.element.contains(this.focusTracker.focusedElement))return k;return null}_focusFocusableCandidateToolbar(k){const{toolbarView:O,options:{beforeFocus:he}}=k;return he&&he(),!!(0,C.pn)(O.element)&&(O.focus(),!0)}}function It(Pe){const{toolbarView:k,options:O}=Pe;let he=10;return(0,C.pn)(k.element)&&he--,O.isContextual&&he--,he}var ai=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/editorui/editorui.css"),bi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(ai.Z,bi),ai.Z.locals;class ht extends Z{constructor(k){super(k),this.body=new et(k)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}var H=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/label/label.css"),se={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(H.Z,se),H.Z.locals;class Te extends Z{constructor(k){super(k),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${(0,C.hQ)()}`;const O=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:O.to("for")},children:[{text:O.to("text")}]})}}class Le extends ht{constructor(k){super(k),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:k.uiLanguageDirection,lang:k.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const k=this.t,O=new Te;return O.text=k("Rich Text Editor"),O.extendTemplate({attributes:{class:"ck-voice-label"}}),O}}class Ye extends Z{constructor(k,O,he){super(k),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:k.contentLanguage,dir:k.contentLanguageDirection}}),this.name=null,this.set("isFocused",!1),this._editableElement=he,this._hasExternalElement=!!this._editableElement,this._editingView=O}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const k=this._editingView;function O(he){k.change(Ae=>{const dt=k.document.getRoot(he.name);Ae.addClass(he.isFocused?"ck-focused":"ck-blurred",dt),Ae.removeClass(he.isFocused?"ck-blurred":"ck-focused",dt)})}k.isRenderingInProgress?function he(Ae){k.once("change:isRenderingInProgress",(dt,lt,ot)=>{ot?he(Ae):O(Ae)})}(this):O(this)}}class Je extends Ye{constructor(k,O,he,Ae={}){super(k,O,he);const dt=k.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=Ae.label||(()=>dt("Editor editing area: %0",this.name))}render(){super.render();const k=this._editingView;k.change(O=>{const he=k.document.getRoot(this.name);O.setAttribute("aria-label",this._generateLabel(this),he)})}}var At=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/formheader/formheader.css"),vt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(At.Z,vt),At.Z.locals;class Mt extends Z{constructor(k,O={}){super(k);const he=this.bindTemplate;this.set("label",O.label||""),this.set("class",O.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",he.to("class")]},children:this.children});const Ae=new Z(k);Ae.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"]},children:[{text:he.to("label")}]}),this.children.add(Ae)}}var jt=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/input/input.css"),Wt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(jt.Z,Wt),jt.Z.locals;class li extends Z{constructor(k){super(k),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new C.Rh,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const O=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",O.if("isFocused","ck-input_focused"),O.if("isEmpty","ck-input-text_empty"),O.if("hasError","ck-error")],id:O.to("id"),placeholder:O.to("placeholder"),readonly:O.to("isReadOnly"),inputmode:O.to("inputMode"),"aria-invalid":O.if("hasError",!0),"aria-describedby":O.to("ariaDescribedById")},on:{input:O.to((...he)=>{this.fire("input",...he),this._updateIsEmpty()}),change:O.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(k,O,he)=>{this._setDomElementValue(he),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(k){this.element.value=k||k===0?k:""}}class xi extends li{constructor(k){super(k),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class hi extends li{constructor(k,{min:O,max:he,step:Ae}={}){super(k);const dt=this.bindTemplate;this.set("min",O),this.set("max",he),this.set("step",Ae),this.extendTemplate({attributes:{type:"number",class:["ck-input-number"],min:dt.to("min"),max:dt.to("max"),step:dt.to("step")}})}}class Di extends Z{constructor(k){super(k);const O=this.bindTemplate;this.setTemplate({tag:"iframe",attributes:{class:["ck","ck-reset_all"],sandbox:"allow-same-origin allow-scripts"},on:{load:O.to("loaded")}})}render(){return new Promise(k=>(this.on("loaded",k),super.render()))}}var dn=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css"),sn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(dn.Z,sn),dn.Z.locals;class Cn extends Z{constructor(k,O){super(k);const he=`ck-labeled-field-view-${(0,C.hQ)()}`,Ae=`ck-labeled-field-view-status-${(0,C.hQ)()}`;this.fieldView=O(this,he,Ae),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(he),this.statusView=this._createStatusView(Ae),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(lt,ot)=>lt||ot);const dt=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",dt.to("class"),dt.if("isEnabled","ck-disabled",lt=>!lt),dt.if("isEmpty","ck-labeled-field-view_empty"),dt.if("isFocused","ck-labeled-field-view_focused"),dt.if("placeholder","ck-labeled-field-view_placeholder"),dt.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(k){const O=new Te(this.locale);return O.for=k,O.bind("text").to(this,"label"),O}_createStatusView(k){const O=new Z(this.locale),he=this.bindTemplate;return O.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",he.if("errorText","ck-labeled-field-view__status_error"),he.if("_statusText","ck-hidden",Ae=>!Ae)],id:k,role:he.if("errorText","alert")},children:[{text:he.to("_statusText")}]}),O}focus(){this.fieldView.focus()}}function fn(Pe,k,O){const he=new xi(Pe.locale);return he.set({id:k,ariaDescribedById:O}),he.bind("isReadOnly").to(Pe,"isEnabled",Ae=>!Ae),he.bind("hasError").to(Pe,"errorText",Ae=>!!Ae),he.on("input",()=>{Pe.errorText=null}),Pe.bind("isEmpty","isFocused","placeholder").to(he),he}function Tn(Pe,k,O){const he=new hi(Pe.locale);return he.set({id:k,ariaDescribedById:O,inputMode:"numeric"}),he.bind("isReadOnly").to(Pe,"isEnabled",Ae=>!Ae),he.bind("hasError").to(Pe,"errorText",Ae=>!!Ae),he.on("input",()=>{Pe.errorText=null}),Pe.bind("isEmpty","isFocused","placeholder").to(he),he}function In(Pe,k,O){const he=Ze(Pe.locale);return he.set({id:k,ariaDescribedById:O}),he.bind("isEnabled").to(Pe),he}class Dn extends Mi.eO{static get pluginName(){return"Notification"}init(){this.on("show:warning",(k,O)=>{window.alert(O.message)},{priority:"lowest"})}showSuccess(k,O={}){this._showNotification({message:k,type:"success",namespace:O.namespace,title:O.title})}showInfo(k,O={}){this._showNotification({message:k,type:"info",namespace:O.namespace,title:O.title})}showWarning(k,O={}){this._showNotification({message:k,type:"warning",namespace:O.namespace,title:O.title})}_showNotification(k){const O=k.namespace?`show:${k.type}:${k.namespace}`:`show:${k.type}`;this.fire(O,{message:k.message,type:k.type,title:k.title||""})}}var Fn=a("./node_modules/lodash-es/assignIn.js");class Be extends(0,C.Re)(){constructor(k,O){super(),O&&(0,Fn.Z)(this,O),k&&this.set(k)}}var j=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/balloonrotator.css"),te={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(j.Z,te),j.Z.locals;var ue=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/fakepanel.css"),Ee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(ue.Z,Ee),ue.Z.locals;const Re=(0,C.nn)("px");class ze extends Mi.Sy{static get pluginName(){return"ContextualBalloon"}constructor(k){super(k),this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const O=this.editor.editing.view,he=O.document.selection.editableElement;return he?O.domConverter.mapViewToDom(he.root):null},this.set("visibleView",null),this._viewToStack=new Map,this._idToStack=new Map,this.set("_numberOfStacks",0),this.set("_singleViewMode",!1),this._rotatorView=null,this._fakePanelsView=null}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(k){return Array.from(this._viewToStack.keys()).includes(k)}add(k){if(this._view||this._createPanelView(),this.hasView(k.view))throw new C.Bb("contextualballoon-add-view-exist",[this,k]);const O=k.stackId||"main";if(!this._idToStack.has(O))return this._idToStack.set(O,new Map([[k.view,k]])),this._viewToStack.set(k.view,this._idToStack.get(O)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!k.singleViewMode||this.showStack(O));const he=this._idToStack.get(O);k.singleViewMode&&this.showStack(O),he.set(k.view,k),this._viewToStack.set(k.view,he),he===this._visibleStack&&this._showView(k)}remove(k){if(!this.hasView(k))throw new C.Bb("contextualballoon-remove-view-not-exist",[this,k]);const O=this._viewToStack.get(k);this._singleViewMode&&this.visibleView===k&&(this._singleViewMode=!1),this.visibleView===k&&(O.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(O.values())[O.size-2])),O.size===1?(this._idToStack.delete(this._getStackId(O)),this._numberOfStacks=this._idToStack.size):O.delete(k),this._viewToStack.delete(k)}updatePosition(k){k&&(this._visibleStack.get(this.visibleView).position=k),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(k){this.visibleStack=k;const O=this._idToStack.get(k);if(!O)throw new C.Bb("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==O&&this._showView(Array.from(O.values()).pop())}_createPanelView(){this._view=new Ui(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(k){return Array.from(this._idToStack.entries()).find(O=>O[1]===k)[0]}_showNextStack(){const k=Array.from(this._idToStack.values());let O=k.indexOf(this._visibleStack)+1;k[O]||(O=0),this.showStack(this._getStackId(k[O]))}_showPrevStack(){const k=Array.from(this._idToStack.values());let O=k.indexOf(this._visibleStack)-1;k[O]||(O=k.length-1),this.showStack(this._getStackId(k[O]))}_createRotatorView(){const k=new je(this.editor.locale),O=this.editor.locale.t;return this.view.content.add(k),k.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(he,Ae)=>!Ae&&he>1),k.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),k.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(he,Ae)=>{if(Ae<2)return"";const dt=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return O("%0 of %1",[dt,Ae])}),k.buttonNextView.on("execute",()=>{k.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),k.buttonPrevView.on("execute",()=>{k.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),k}_createFakePanelsView(){const k=new Fe(this.editor.locale,this.view);return k.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(O,he)=>!he&&O>=2?Math.min(O-1,2):0),k.listenTo(this.view,"change:top",()=>k.updatePosition()),k.listenTo(this.view,"change:left",()=>k.updatePosition()),this.editor.ui.view.body.add(k),k}_showView({view:k,balloonClassName:O="",withArrow:he=!0,singleViewMode:Ae=!1}){this.view.class=O,this.view.withArrow=he,this._rotatorView.showView(k),this.visibleView=k,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),Ae&&(this._singleViewMode=!0)}_getBalloonPosition(){let k=Array.from(this._visibleStack.values()).pop().position;return k&&(k.limiter||(k=Object.assign({},k,{limiter:this.positionLimiter})),k=Object.assign({},k,{viewportOffsetConfig:this.editor.ui.viewportOffset})),k}}class je extends Z{constructor(k){super(k);const O=k.t,he=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new C.Rh,this.buttonPrevView=this._createButtonView(O("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(O("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",he.to("isNavigationVisible",Ae=>Ae?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:he.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(k){this.hideView(),this.content.add(k)}hideView(){this.content.clear()}_createButtonView(k,O){const he=new ye(this.locale);return he.set({label:k,icon:O,tooltip:!0}),he}}class Fe extends Z{constructor(k,O){super(k);const he=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=O,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",he.to("numberOfPanels",Ae=>Ae?"":"ck-hidden")],style:{top:he.to("top",Re),left:he.to("left",Re),width:he.to("width",Re),height:he.to("height",Re)}},children:this.content}),this.on("change:numberOfPanels",(Ae,dt,lt,ot)=>{lt>ot?this._addPanels(lt-ot):this._removePanels(ot-lt),this.updatePosition()})}_addPanels(k){for(;k--;){const O=new Z;O.setTemplate({tag:"div"}),this.content.add(O),this.registerChild(O)}}_removePanels(k){for(;k--;){const O=this.content.last;this.content.remove(O),this.deregisterChild(O),O.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:k,left:O}=this._balloonPanelView,{width:he,height:Ae}=new C.UL(this._balloonPanelView.element);Object.assign(this,{top:k,left:O,width:he,height:Ae})}}}var at=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/stickypanel.css"),mt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(at.Z,mt),at.Z.locals;const ct=(0,C.nn)("px");class wt extends Z{constructor(k){super(k);const O=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new r({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:O.to("isSticky",he=>he?"block":"none"),height:O.to("isSticky",he=>he?ct(this._panelRect.height):null)}}}).render(),this._contentPanel=new r({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",O.if("isSticky","ck-sticky-panel__content_sticky"),O.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:O.to("isSticky",he=>he?ct(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:O.to("_hasViewportTopOffset",he=>he?ct(this.viewportTopOffset):null),bottom:O.to("_isStickyToTheLimiter",he=>he?ct(this.limiterBottomOffset):null),marginLeft:O.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(C.CO.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const k=this._panelRect=this._contentPanel.getBoundingClientRect();let O;this.limiterElement?(O=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&O.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<O.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=O.bottom<k.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:ct(-C.CO.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}const Ot=(0,C.nn)("px");class Jt extends Mi.Sy{static get pluginName(){return"BalloonToolbar"}static get requires(){return[ze]}constructor(k){super(k),this._balloonConfig=Ii(k.config.get("balloonToolbar")),this.toolbarView=this._createToolbarView(),this.focusTracker=new C.Rh,k.ui.once("ready",()=>{this.focusTracker.add(k.ui.getEditableElement()),this.focusTracker.add(this.toolbarView.element)}),k.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this.show(!0),afterBlur:()=>this.hide(),isContextual:!0}),this._resizeObserver=null,this._balloon=k.plugins.get(ze),this._fireSelectionChangeDebounced=(0,He.Z)(()=>this.fire("_selectionChangeDebounced"),200),this.decorate("show")}init(){const k=this.editor,O=k.model.document.selection;this.listenTo(this.focusTracker,"change:isFocused",(he,Ae,dt)=>{const lt=this._balloon.visibleView===this.toolbarView;!dt&&lt?this.hide():dt&&this.show()}),this.listenTo(O,"change:range",(he,Ae)=>{(Ae.directChange||O.isCollapsed)&&this.hide(),this._fireSelectionChangeDebounced()}),this.listenTo(this,"_selectionChangeDebounced",()=>{this.editor.editing.view.document.isFocused&&this.show()}),this._balloonConfig.shouldNotGroupWhenFull||this.listenTo(k,"ready",()=>{const he=k.ui.view.editable.element;this._resizeObserver=new C.do(he,Ae=>{this.toolbarView.maxWidth=Ot(.9*Ae.contentRect.width)})}),this.listenTo(this.toolbarView,"groupedItemsUpdate",()=>{this._updatePosition()})}afterInit(){const k=this.editor.ui.componentFactory;this.toolbarView.fillFromConfig(this._balloonConfig,k)}_createToolbarView(){const k=this.editor.locale.t,O=!this._balloonConfig.shouldNotGroupWhenFull,he=new cn(this.editor.locale,{shouldGroupWhenFull:O,isFloating:!0});return he.ariaLabel=k("Editor contextual toolbar"),he.render(),he}show(k=!1){const O=this.editor,he=O.model.document.selection,Ae=O.model.schema;this._balloon.hasView(this.toolbarView)||he.isCollapsed&&!k||function(dt,lt){return dt.rangeCount===1?!1:[...dt.getRanges()].every(ot=>{const Zt=ot.getContainedElement();return Zt&&lt.isSelectable(Zt)})}(he,Ae)||Array.from(this.toolbarView.items).every(dt=>dt.isEnabled!==void 0&&!dt.isEnabled)||(this.listenTo(this.editor.ui,"update",()=>{this._updatePosition()}),this._balloon.add({view:this.toolbarView,position:this._getBalloonPositionData(),balloonClassName:"ck-toolbar-container"}))}hide(){this._balloon.hasView(this.toolbarView)&&(this.stopListening(this.editor.ui,"update"),this._balloon.remove(this.toolbarView))}_getBalloonPositionData(){const k=this.editor.editing.view,O=k.document,he=O.selection,Ae=O.selection.isBackward;return{target:()=>{const dt=Ae?he.getFirstRange():he.getLastRange(),lt=C.UL.getDomRangeRects(k.domConverter.viewRangeToDom(dt));return Ae?lt[0]:(lt.length>1&&lt[lt.length-1].width===0&&lt.pop(),lt[lt.length-1])},positions:this._getBalloonPositions(Ae)}}_updatePosition(){this._balloon.updatePosition(this._getBalloonPositionData())}destroy(){super.destroy(),this.stopListening(),this._fireSelectionChangeDebounced.cancel(),this.toolbarView.destroy(),this.focusTracker.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_getBalloonPositions(k){const O=C.OB.isSafari&&C.OB.isiOS?we({heightOffset:Math.max(Ui.arrowHeightOffset,Math.round(20/C.CO.window.visualViewport.scale))}):Ui.defaultPositions;return k?[O.northWestArrowSouth,O.northWestArrowSouthWest,O.northWestArrowSouthEast,O.northWestArrowSouthMiddleEast,O.northWestArrowSouthMiddleWest,O.southWestArrowNorth,O.southWestArrowNorthWest,O.southWestArrowNorthEast,O.southWestArrowNorthMiddleWest,O.southWestArrowNorthMiddleEast]:[O.southEastArrowNorth,O.southEastArrowNorthEast,O.southEastArrowNorthWest,O.southEastArrowNorthMiddleEast,O.southEastArrowNorthMiddleWest,O.northEastArrowSouth,O.northEastArrowSouthEast,O.northEastArrowSouthWest,O.northEastArrowSouthMiddleEast,O.northEastArrowSouthMiddleWest]}}var yt=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css"),oi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};me()(yt.Z,oi),yt.Z.locals;const vi=(0,C.nn)("px");class ji extends ye{constructor(k){super(k);const O=this.bindTemplate;this.isVisible=!1,this.isToggleable=!0,this.set("top",0),this.set("left",0),this.extendTemplate({attributes:{class:"ck-block-toolbar-button",style:{top:O.to("top",he=>vi(he)),left:O.to("left",he=>vi(he))}}})}}const Wi=(0,C.nn)("px"),{pilcrow:tn}=Mi.ci;class bn extends Mi.Sy{static get pluginName(){return"BlockToolbar"}constructor(k){super(k),this._blockToolbarConfig=Ii(this.editor.config.get("blockToolbar")),this.toolbarView=this._createToolbarView(),this.panelView=this._createPanelView(),this.buttonView=this._createButtonView(),this._resizeObserver=null,d({emitter:this.panelView,contextElements:[this.panelView.element,this.buttonView.element],activator:()=>this.panelView.isVisible,callback:()=>this._hidePanel()})}init(){const k=this.editor;this.listenTo(k.model.document.selection,"change:range",(O,he)=>{he.directChange&&this._hidePanel()}),this.listenTo(k.ui,"update",()=>this._updateButton()),this.listenTo(k,"change:isReadOnly",()=>this._updateButton(),{priority:"low"}),this.listenTo(k.ui.focusTracker,"change:isFocused",()=>this._updateButton()),this.listenTo(this.buttonView,"change:isVisible",(O,he,Ae)=>{Ae?this.buttonView.listenTo(window,"resize",()=>this._updateButton()):(this.buttonView.stopListening(window,"resize"),this._hidePanel())}),k.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this._showPanel(),afterBlur:()=>this._hidePanel()})}afterInit(){const k=this.editor.ui.componentFactory,O=this._blockToolbarConfig;this.toolbarView.fillFromConfig(O,k);for(const he of this.toolbarView.items)he.on("execute",()=>this._hidePanel(!0),{priority:"high"});O.shouldNotGroupWhenFull||this.listenTo(this.editor,"ready",()=>{const he=this.editor.ui.view.editable.element;this._resizeObserver=new C.do(he,()=>{this.toolbarView.maxWidth=this._getToolbarMaxWidth()})})}destroy(){super.destroy(),this.panelView.destroy(),this.buttonView.destroy(),this.toolbarView.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_createToolbarView(){const k=this.editor.locale.t,O=!this._blockToolbarConfig.shouldNotGroupWhenFull,he=new cn(this.editor.locale,{shouldGroupWhenFull:O,isFloating:!0});return he.ariaLabel=k("Editor block content toolbar"),he.focusTracker.on("change:isFocused",(Ae,dt,lt)=>{lt||this._hidePanel()}),he}_createPanelView(){const k=this.editor,O=new Ui(k.locale);return O.content.add(this.toolbarView),O.class="ck-toolbar-container",k.ui.view.body.add(O),k.ui.focusTracker.add(O.element),this.toolbarView.keystrokes.set("Esc",(he,Ae)=>{this._hidePanel(!0),Ae()}),O}_createButtonView(){const k=this.editor,O=k.t,he=new ji(k.locale),Ae=he.bindTemplate;return he.set({label:O("Edit block"),icon:tn,withText:!1}),he.extendTemplate({on:{mousedown:Ae.to(dt=>{C.OB.isSafari&&this.panelView.isVisible&&this.toolbarView.focus(),dt.preventDefault()})}}),he.bind("isOn").to(this.panelView,"isVisible"),he.bind("tooltip").to(this.panelView,"isVisible",dt=>!dt),this.listenTo(he,"execute",()=>{this.panelView.isVisible?this._hidePanel(!0):this._showPanel()}),k.ui.view.body.add(he),k.ui.focusTracker.add(he.element),he}_updateButton(){const k=this.editor,O=k.model,he=k.editing.view;if(!k.ui.focusTracker.isFocused)return void this._hideButton();if(k.isReadOnly)return void this._hideButton();const Ae=Array.from(O.document.selection.getSelectedBlocks())[0];if(!Ae||Array.from(this.toolbarView.items).every(lt=>!lt.isEnabled))return void this._hideButton();const dt=he.domConverter.mapViewToDom(k.editing.mapper.toViewElement(Ae));this.buttonView.isVisible=!0,this._attachButtonToElement(dt),this.panelView.isVisible&&this._showPanel()}_hideButton(){this.buttonView.isVisible=!1}_showPanel(){if(!this.buttonView.isVisible)return;const k=this.panelView.isVisible;this.panelView.show(),this.toolbarView.maxWidth=this._getToolbarMaxWidth(),this.panelView.pin({target:this.buttonView.element,limiter:this.editor.ui.getEditableElement()}),k||this.toolbarView.items.get(0).focus()}_hidePanel(k){this.panelView.isVisible=!1,k&&this.editor.editing.view.focus()}_attachButtonToElement(k){const O=window.getComputedStyle(k),he=new C.UL(this.editor.ui.getEditableElement()),Ae=parseInt(O.paddingTop,10),dt=parseInt(O.lineHeight,10)||1.2*parseInt(O.fontSize,10),lt=(0,C.xZ)({element:this.buttonView.element,target:k,positions:[(ot,Zt)=>{let Pi;return Pi=this.editor.locale.uiLanguageDirection==="ltr"?he.left-Zt.width:he.right,{top:ot.top+Ae+(dt-Zt.height)/2,left:Pi}}]});this.buttonView.top=lt.top,this.buttonView.left=lt.left}_getToolbarMaxWidth(){const k=this.editor.ui.view.editable.element,O=new C.UL(k),he=new C.UL(this.buttonView.element),Ae=this.editor.locale.uiLanguageDirection==="rtl"?he.left-O.right+he.width:O.left-he.left;return Wi(O.width+Ae)}}},"./packages/ckeditor5-utils/src/ckeditorerror.ts":(f,_,a)=>{"use strict";a.d(_,{H:()=>I,KE:()=>U,ZP:()=>S});const d="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class S extends Error{constructor(me,J,ee){super(function(Z,h){const g=new WeakSet,r=(v,T)=>{if(typeof T=="object"&&T!==null){if(g.has(T))return`[object ${T.constructor.name}]`;g.add(T)}return T},u=h?` ${JSON.stringify(h,r)}`:"",w=C(Z);return Z+u+w}(me,ee)),this.name="CKEditorError",this.context=J,this.data=ee}is(me){return me==="CKEditorError"}static rethrowUnexpectedError(me,J){if(me.is&&me.is("CKEditorError"))throw me;const ee=new S(me.message,J);throw ee.stack=me.stack,ee}}function U(pe,me){console.warn(...ge(pe,me))}function I(pe,me){console.error(...ge(pe,me))}function C(pe){return`
Read more: ${d}#error-${pe}`}function ge(pe,me){const J=C(pe);return me?[pe,me,J]:[pe,J]}},"./packages/ckeditor5-utils/src/dom/emittermixin.ts":(f,_,a)=>{"use strict";a.d(_,{Z:()=>ge});var d=a("./packages/ckeditor5-utils/src/emittermixin.ts"),S=a("./packages/ckeditor5-utils/src/uid.ts"),U=a("./packages/ckeditor5-utils/src/dom/isnode.ts"),I=a("./packages/ckeditor5-utils/src/dom/iswindow.ts");const C=ge((0,d.ZP)());function ge(J){return J?class extends J{listenTo(ee,Z,h,g={}){if((0,U.Z)(ee)||(0,I.Z)(ee)){const r={capture:!!g.useCapture,passive:!!g.usePassive},u=this._getProxyEmitter(ee,r)||new pe(ee,r);this.listenTo(u,Z,h,g)}else super.listenTo(ee,Z,h,g)}stopListening(ee,Z,h){if((0,U.Z)(ee)||(0,I.Z)(ee)){const g=this._getAllProxyEmitters(ee);for(const r of g)this.stopListening(r,Z,h)}else super.stopListening(ee,Z,h)}_getProxyEmitter(ee,Z){return(0,d.Rl)(this,me(ee,Z))}_getAllProxyEmitters(ee){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(Z=>this._getProxyEmitter(ee,Z)).filter(Z=>!!Z)}}:C}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(J=>{ge[J]=C.prototype[J]});class pe extends(0,d.ZP)(){constructor(ee,Z){super(),(0,d.Hv)(this,me(ee,Z)),this._domNode=ee,this._options=Z}attach(ee){if(this._domListeners&&this._domListeners[ee])return;const Z=this._createDomListener(ee);this._domNode.addEventListener(ee,Z,this._options),this._domListeners||(this._domListeners={}),this._domListeners[ee]=Z}detach(ee){let Z;!this._domListeners[ee]||(Z=this._events[ee])&&Z.callbacks.length||this._domListeners[ee].removeListener()}_addEventListener(ee,Z,h){this.attach(ee),(0,d.ZP)().prototype._addEventListener.call(this,ee,Z,h)}_removeEventListener(ee,Z){(0,d.ZP)().prototype._removeEventListener.call(this,ee,Z),this.detach(ee)}_createDomListener(ee){const Z=h=>{this.fire(ee,h)};return Z.removeListener=()=>{this._domNode.removeEventListener(ee,Z,this._options),delete this._domListeners[ee]},Z}}function me(J,ee){let Z=function(h){return h["data-ck-expando"]||(h["data-ck-expando"]=(0,S.Z)())}(J);for(const h of Object.keys(ee).sort())ee[h]&&(Z+="-"+h);return Z}},"./packages/ckeditor5-utils/src/dom/isnode.ts":(f,_,a)=>{"use strict";function d(S){if(S){if(S.defaultView)return S instanceof S.defaultView.Document;if(S.ownerDocument&&S.ownerDocument.defaultView)return S instanceof S.ownerDocument.defaultView.Node}return!1}a.d(_,{Z:()=>d})},"./packages/ckeditor5-utils/src/dom/iswindow.ts":(f,_,a)=>{"use strict";function d(S){const U=Object.prototype.toString.apply(S);return U=="[object Window]"||U=="[object global]"}a.d(_,{Z:()=>d})},"./packages/ckeditor5-utils/src/emittermixin.ts":(f,_,a)=>{"use strict";a.d(_,{Hv:()=>h,Rl:()=>Z,ZP:()=>ee});var d=a("./packages/ckeditor5-utils/src/eventinfo.ts"),S=a("./packages/ckeditor5-utils/src/uid.ts"),U=a("./packages/ckeditor5-utils/src/priorities.ts"),I=a("./packages/ckeditor5-utils/src/inserttopriorityarray.ts"),C=(a("./packages/ckeditor5-utils/src/version.ts"),a("./packages/ckeditor5-utils/src/ckeditorerror.ts"));const ge=Symbol("listeningTo"),pe=Symbol("emitterId"),me=Symbol("delegations"),J=ee(Object);function ee(z){return z?class extends z{on(L,x,c){this.listenTo(this,L,x,c)}once(L,x,c){let D=!1;this.listenTo(this,L,(W,...q)=>{D||(D=!0,W.off(),x.call(this,W,...q))},c)}off(L,x){this.stopListening(this,L,x)}listenTo(L,x,c,D={}){let W,q;this[ge]||(this[ge]={});const ae=this[ge];g(L)||h(L);const Ie=g(L);(W=ae[Ie])||(W=ae[Ie]={emitter:L,callbacks:{}}),(q=W.callbacks[x])||(q=W.callbacks[x]=[]),q.push(c),function(Ve,_e,Me,Qe,ut){_e._addEventListener?_e._addEventListener(Me,Qe,ut):Ve._addEventListener.call(_e,Me,Qe,ut)}(this,L,x,c,D)}stopListening(L,x,c){const D=this[ge];let W=L&&g(L);const q=D&&W?D[W]:void 0,ae=q&&x?q.callbacks[x]:void 0;if(!(!D||L&&!q||x&&!ae))if(c)T(this,L,x,c),ae.indexOf(c)!==-1&&(ae.length===1?delete q.callbacks[x]:T(this,L,x,c));else if(ae){for(;c=ae.pop();)T(this,L,x,c);delete q.callbacks[x]}else if(q){for(x in q.callbacks)this.stopListening(L,x);delete D[W]}else{for(W in D)this.stopListening(D[W].emitter);delete this[ge]}}fire(L,...x){try{const c=L instanceof d.Z?L:new d.Z(this,L),D=c.name;let W=w(this,D);if(c.path.push(this),W){const ae=[c,...x];W=Array.from(W);for(let Ie=0;Ie<W.length&&(W[Ie].callback.apply(this,ae),c.off.called&&(delete c.off.called,this._removeEventListener(D,W[Ie].callback)),!c.stop.called);Ie++);}const q=this[me];if(q){const ae=q.get(D),Ie=q.get("*");ae&&v(ae,c,x),Ie&&v(Ie,c,x)}return c.return}catch(c){C.ZP.rethrowUnexpectedError(c,this)}}delegate(...L){return{to:(x,c)=>{this[me]||(this[me]=new Map),L.forEach(D=>{const W=this[me].get(D);W?W.set(x,c):this[me].set(D,new Map([[x,c]]))})}}}stopDelegating(L,x){if(this[me])if(L)if(x){const c=this[me].get(L);c&&c.delete(x)}else this[me].delete(L);else this[me].clear()}_addEventListener(L,x,c){(function(q,ae){const Ie=r(q);if(Ie[ae])return;let Ve=ae,_e=null;const Me=[];for(;Ve!==""&&!Ie[Ve];)Ie[Ve]={callbacks:[],childEvents:[]},Me.push(Ie[Ve]),_e&&Ie[Ve].childEvents.push(_e),_e=Ve,Ve=Ve.substr(0,Ve.lastIndexOf(":"));if(Ve!==""){for(const Qe of Me)Qe.callbacks=Ie[Ve].callbacks.slice();Ie[Ve].childEvents.push(_e)}})(this,L);const D=u(this,L),W={callback:x,priority:U.Z.get(c.priority)};for(const q of D)(0,I.Z)(q,W)}_removeEventListener(L,x){const c=u(this,L);for(const D of c)for(let W=0;W<D.length;W++)D[W].callback==x&&(D.splice(W,1),W--)}}:J}function Z(z,L){const x=z[ge];return x&&x[L]?x[L].emitter:null}function h(z,L){z[pe]||(z[pe]=L||(0,S.Z)())}function g(z){return z[pe]}function r(z){return z._events||Object.defineProperty(z,"_events",{value:{}}),z._events}function u(z,L){const x=r(z)[L];if(!x)return[];let c=[x.callbacks];for(let D=0;D<x.childEvents.length;D++){const W=u(z,x.childEvents[D]);c=c.concat(W)}return c}function w(z,L){let x;return z._events&&(x=z._events[L])&&x.callbacks.length?x.callbacks:L.indexOf(":")>-1?w(z,L.substr(0,L.lastIndexOf(":"))):null}function v(z,L,x){for(let[c,D]of z){D?typeof D=="function"&&(D=D(L.name)):D=L.name;const W=new d.Z(L.source,D);W.path=[...L.path],c.fire(W,...x)}}function T(z,L,x,c){L._removeEventListener?L._removeEventListener(x,c):z._removeEventListener.call(L,x,c)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(z=>{ee[z]=J.prototype[z]})},"./packages/ckeditor5-utils/src/env.ts":(f,_,a)=>{"use strict";a.d(_,{ZP:()=>U});const d=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}(),S={isMac:I(d),isWindows:function(C){return C.indexOf("windows")>-1}(d),isGecko:function(C){return!!C.match(/gecko\/\d+/)}(d),isSafari:function(C){return C.indexOf(" applewebkit/")>-1&&C.indexOf("chrome")===-1}(d),isiOS:function(C){return!!C.match(/iphone|ipad/i)||I(C)&&navigator.maxTouchPoints>0}(d),isAndroid:function(C){return C.indexOf("android")>-1}(d),isBlink:function(C){return C.indexOf("chrome/")>-1&&C.indexOf("edge/")<0}(d),features:{isRegExpUnicodePropertySupported:function(){let C=!1;try{C="\u0107".search(new RegExp("[\\p{L}]","u"))===0}catch{}return C}()}},U=S;function I(C){return C.indexOf("macintosh")>-1}},"./packages/ckeditor5-utils/src/eventinfo.ts":(f,_,a)=>{"use strict";a.d(_,{Z:()=>S});const d=function(){return function U(){U.called=!0}};class S{constructor(I,C){this.source=I,this.name=C,this.path=[],this.stop=d(),this.off=d()}}},"./packages/ckeditor5-utils/src/index.ts":(f,_,a)=>{"use strict";a.d(_,{Bb:()=>J.ZP,FE:()=>de,De:()=>Bt,Xu:()=>tt.Z,a6:()=>D,ln:()=>pe.ZP,M3:()=>me.Z,Rh:()=>Ze,VD:()=>st.Z,go:()=>P,Re:()=>v,UL:()=>_t,do:()=>bt,Rt:()=>q,QX:()=>W,az:()=>ut,Hg:()=>C,OB:()=>d.ZP,HZ:()=>S,wm:()=>Dt,Ps:()=>Ce,dk:()=>Ke,Cq:()=>pi.Cq,yy:()=>kt,XU:()=>pi.XU,j9:()=>ke,mA:()=>pi.mA,xZ:()=>ni,CO:()=>Se,cq:()=>$e,ZQ:()=>gt,VG:()=>Ft.Z,dj:()=>pi.dj,tO:()=>Oi,C3:()=>Tt,Zt:()=>pi.Zt,Cb:()=>Ei,pp:()=>Ui,YK:()=>we,to:()=>Li,TW:()=>ae,nA:()=>Bi,UG:()=>Et.Z,bR:()=>Gt,Gs:()=>Lt,pn:()=>Xt,Do:()=>pi.Do,H:()=>J.H,KE:()=>J.KE,CD:()=>ge,Zz:()=>pi.Zz,tA:()=>Ge.Z,Od:()=>Ti,F0:()=>Ii,mR:()=>Rt,jS:()=>be,x:()=>yi,qo:()=>V,qL:()=>Ct,nn:()=>Ne,hQ:()=>N.Z,i8:()=>He.Z});var d=a("./packages/ckeditor5-utils/src/env.ts");function S(Q,R,Y,ve){Y=Y||function(bi,ht){return bi===ht};const De=Array.isArray(Q)?Q:Array.prototype.slice.call(Q),nt=Array.isArray(R)?R:Array.prototype.slice.call(R),It=function(bi,ht,H){const se=U(bi,ht,H);if(se===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const Te=I(bi,se),Le=I(ht,se),Ye=U(Te,Le,H),Je=bi.length-Ye,At=ht.length-Ye;return{firstIndex:se,lastIndexOld:Je,lastIndexNew:At}}(De,nt,Y);return ve?function(bi,ht){const{firstIndex:H,lastIndexOld:se,lastIndexNew:Te}=bi;if(H===-1)return Array(ht).fill("equal");let Le=[];return H>0&&(Le=Le.concat(Array(H).fill("equal"))),Te-H>0&&(Le=Le.concat(Array(Te-H).fill("insert"))),se-H>0&&(Le=Le.concat(Array(se-H).fill("delete"))),Te<ht&&(Le=Le.concat(Array(ht-Te).fill("equal"))),Le}(It,nt.length):function(bi,ht){const H=[],{firstIndex:se,lastIndexOld:Te,lastIndexNew:Le}=ht;return Le-se>0&&H.push({index:se,type:"insert",values:bi.slice(se,Le)}),Te-se>0&&H.push({index:se+(Le-se),type:"delete",howMany:Te-se}),H}(nt,It)}function U(Q,R,Y){for(let ve=0;ve<Math.max(Q.length,R.length);ve++)if(Q[ve]===void 0||R[ve]===void 0||!Y(Q[ve],R[ve]))return ve;return-1}function I(Q,R){return Q.slice(R).reverse()}function C(Q,R,Y){Y=Y||function(Je,At){return Je===At};const ve=Q.length,De=R.length;if(ve>200||De>200||ve+De>300)return C.fastDiff(Q,R,Y,!0);let nt,It;if(De<ve){const Je=Q;Q=R,R=Je,nt="delete",It="insert"}else nt="insert",It="delete";const ai=Q.length,bi=R.length,ht=bi-ai,H={},se={};function Te(Je){const At=(se[Je-1]!==void 0?se[Je-1]:-1)+1,vt=se[Je+1]!==void 0?se[Je+1]:-1,Mt=At>vt?-1:1;H[Je+Mt]&&(H[Je]=H[Je+Mt].slice(0)),H[Je]||(H[Je]=[]),H[Je].push(At>vt?nt:It);let jt=Math.max(At,vt),Wt=jt-Je;for(;Wt<ai&&jt<bi&&Y(Q[Wt],R[jt]);)Wt++,jt++,H[Je].push("equal");return jt}let Le,Ye=0;do{for(Le=-Ye;Le<ht;Le++)se[Le]=Te(Le);for(Le=ht+Ye;Le>ht;Le--)se[Le]=Te(Le);se[ht]=Te(ht),Ye++}while(se[ht]!==bi);return H[ht].slice(1)}function ge(Q,...R){R.forEach(Y=>{const ve=Object.getOwnPropertyNames(Y),De=Object.getOwnPropertySymbols(Y);ve.concat(De).forEach(nt=>{if(nt in Q.prototype||typeof Y=="function"&&(nt=="length"||nt=="name"||nt=="prototype"))return;const It=Object.getOwnPropertyDescriptor(Y,nt);It.enumerable=!1,Object.defineProperty(Q.prototype,nt,It)})})}C.fastDiff=S;var pe=a("./packages/ckeditor5-utils/src/emittermixin.ts"),me=a("./packages/ckeditor5-utils/src/eventinfo.ts"),J=a("./packages/ckeditor5-utils/src/ckeditorerror.ts"),ee=a("./node_modules/lodash-es/isObject.js");const Z=Symbol("observableProperties"),h=Symbol("boundObservables"),g=Symbol("boundProperties"),r=Symbol("decoratedMethods"),u=Symbol("decoratedOriginal"),w=v((0,pe.ZP)());function v(Q){return Q?class extends Q{set(R,Y){if((0,ee.Z)(R))return void Object.keys(R).forEach(De=>{this.set(De,R[De])},this);T(this);const ve=this[Z];if(R in this&&!ve.has(R))throw new J.ZP("observable-set-cannot-override",this);Object.defineProperty(this,R,{enumerable:!0,configurable:!0,get:()=>ve.get(R),set(De){const nt=ve.get(R);let It=this.fire(`set:${R}`,R,De,nt);It===void 0&&(It=De),nt===It&&ve.has(R)||(ve.set(R,It),this.fire(`change:${R}`,R,It,nt))}}),this[R]=Y}bind(...R){if(!R.length||!x(R))throw new J.ZP("observable-bind-wrong-properties",this);if(new Set(R).size!==R.length)throw new J.ZP("observable-bind-duplicate-properties",this);T(this);const Y=this[g];R.forEach(De=>{if(Y.has(De))throw new J.ZP("observable-bind-rebind",this)});const ve=new Map;return R.forEach(De=>{const nt={property:De,to:[]};Y.set(De,nt),ve.set(De,nt)}),{to:z,toMany:L,_observable:this,_bindProperties:R,_to:[],_bindings:ve}}unbind(...R){if(!this[Z])return;const Y=this[g],ve=this[h];if(R.length){if(!x(R))throw new J.ZP("observable-unbind-wrong-properties",this);R.forEach(De=>{const nt=Y.get(De);nt&&(nt.to.forEach(([It,ai])=>{const bi=ve.get(It),ht=bi[ai];ht.delete(nt),ht.size||delete bi[ai],Object.keys(bi).length||(ve.delete(It),this.stopListening(It,"change"))}),Y.delete(De))})}else ve.forEach((De,nt)=>{this.stopListening(nt,"change")}),ve.clear(),Y.clear()}decorate(R){T(this);const Y=this[R];if(!Y)throw new J.ZP("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:R});this.on(R,(ve,De)=>{ve.return=Y.apply(this,De)}),this[R]=function(...ve){return this.fire(R,ve)},this[R][u]=Y,this[r]||(this[r]=[]),this[r].push(R)}stopListening(R,Y,ve){if(!R&&this[r]){for(const De of this[r])this[De]=this[De][u];delete this[r]}super.stopListening(R,Y,ve)}}:w}function T(Q){Q[Z]||(Object.defineProperty(Q,Z,{value:new Map}),Object.defineProperty(Q,h,{value:new Map}),Object.defineProperty(Q,g,{value:new Map}))}function z(...Q){const R=function(...nt){if(!nt.length)throw new J.ZP("observable-bind-to-parse-error",null);const It={to:[]};let ai;return typeof nt[nt.length-1]=="function"&&(It.callback=nt.pop()),nt.forEach(bi=>{if(typeof bi=="string")ai.properties.push(bi);else{if(typeof bi!="object")throw new J.ZP("observable-bind-to-parse-error",null);ai={observable:bi,properties:[]},It.to.push(ai)}}),It}(...Q),Y=Array.from(this._bindings.keys()),ve=Y.length;if(!R.callback&&R.to.length>1)throw new J.ZP("observable-bind-to-no-callback",this);if(ve>1&&R.callback)throw new J.ZP("observable-bind-to-extra-callback",this);var De;R.to.forEach(nt=>{if(nt.properties.length&&nt.properties.length!==ve)throw new J.ZP("observable-bind-to-properties-length",this);nt.properties.length||(nt.properties=this._bindProperties)}),this._to=R.to,R.callback&&(this._bindings.get(Y[0]).callback=R.callback),De=this._observable,this._to.forEach(nt=>{const It=De[h];let ai;It.get(nt.observable)||De.listenTo(nt.observable,"change",(bi,ht)=>{ai=It.get(nt.observable)[ht],ai&&ai.forEach(H=>{c(De,H.property)})})}),function(nt){let It;nt._bindings.forEach((ai,bi)=>{nt._to.forEach(ht=>{It=ht.properties[ai.callback?0:nt._bindProperties.indexOf(bi)],ai.to.push([ht.observable,It]),function(H,se,Te,Le){const Ye=H[h],Je=Ye.get(Te),At=Je||{};At[Le]||(At[Le]=new Set),At[Le].add(se),Je||Ye.set(Te,At)}(nt._observable,ai,ht.observable,It)})})}(this),this._bindProperties.forEach(nt=>{c(this._observable,nt)})}function L(Q,R,Y){if(this._bindings.size>1)throw new J.ZP("observable-bind-to-many-not-one-binding",this);this.to(...function(ve,De){const nt=ve.map(It=>[It,De]);return Array.prototype.concat.apply([],nt)}(Q,R),Y)}function x(Q){return Q.every(R=>typeof R=="string")}function c(Q,R){const Y=Q[g].get(R);let ve;Y.callback?ve=Y.callback.apply(Q,Y.to.map(De=>De[0][De[1]])):(ve=Y.to[0],ve=ve[0][ve[1]]),Object.prototype.hasOwnProperty.call(Q,R)?Q[R]=ve:Q.set(R,ve)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(Q=>{v[Q]=w.prototype[Q]});class D{constructor(){this._replacedElements=[]}replace(R,Y){this._replacedElements.push({element:R,newElement:Y}),R.style.display="none",Y&&R.parentNode.insertBefore(Y,R.nextSibling)}restore(){this._replacedElements.forEach(({element:R,newElement:Y})=>{R.style.display="",Y&&Y.remove()}),this._replacedElements=[]}}function W(Q){let R=0;for(const Y of Q)R++;return R}function q(Q,R){const Y=Math.min(Q.length,R.length);for(let ve=0;ve<Y;ve++)if(Q[ve]!=R[ve])return ve;return Q.length==R.length?"same":Q.length<R.length?"prefix":"extension"}function ae(Q){return!(!Q||!Q[Symbol.iterator])}var Ie=a("./node_modules/lodash-es/_baseGetTag.js"),Ve=a("./node_modules/lodash-es/isArray.js"),_e=a("./node_modules/lodash-es/isObjectLike.js"),Me="[object String]";const Qe=function(Q){return typeof Q=="string"||!(0,Ve.Z)(Q)&&(0,_e.Z)(Q)&&(0,Ie.Z)(Q)==Me};function ut(Q,R,Y={},ve=[]){const De=Y&&Y.xmlns,nt=De?Q.createElementNS(De,R):Q.createElement(R);for(const It in Y)nt.setAttribute(It,Y[It]);!Qe(ve)&&ae(ve)||(ve=[ve]);for(let It of ve)Qe(It)&&(It=Q.createTextNode(It)),nt.appendChild(It);return nt}var rt=a("./node_modules/lodash-es/isPlainObject.js"),qe=a("./node_modules/lodash-es/cloneDeepWith.js"),et=a("./node_modules/lodash-es/isElement.js");class Bt{constructor(R,Y){this._config={},Y&&this.define(Nt(Y)),R&&this._setObjectToTarget(this._config,R)}set(R,Y){this._setToTarget(this._config,R,Y)}define(R,Y){this._setToTarget(this._config,R,Y,!0)}get(R){return this._getFromSource(this._config,R)}*names(){for(const R of Object.keys(this._config))yield R}_setToTarget(R,Y,ve,De=!1){if((0,rt.Z)(Y))return void this._setObjectToTarget(R,Y,De);const nt=Y.split(".");Y=nt.pop();for(const It of nt)(0,rt.Z)(R[It])||(R[It]={}),R=R[It];if((0,rt.Z)(ve))return(0,rt.Z)(R[Y])||(R[Y]={}),R=R[Y],void this._setObjectToTarget(R,ve,De);De&&R[Y]!==void 0||(R[Y]=ve)}_getFromSource(R,Y){const ve=Y.split(".");Y=ve.pop();for(const De of ve){if(!(0,rt.Z)(R[De])){R=null;break}R=R[De]}return R?Nt(R[Y]):void 0}_setObjectToTarget(R,Y,ve){Object.keys(Y).forEach(De=>{this._setToTarget(R,De,Y[De],ve)})}}function Nt(Q){return(0,qe.Z)(Q,xt)}function xt(Q){return(0,et.Z)(Q)?Q:void 0}var tt=a("./packages/ckeditor5-utils/src/dom/emittermixin.ts");function Dt(Q){let R=Q.parentElement;if(!R)return null;for(;R.tagName!="BODY";){const Y=R.style.overflowY||a.g.window.getComputedStyle(R).overflowY;if(Y==="auto"||Y==="scroll")break;if(R=R.parentElement,!R)return null}return R}let ye;try{ye={window,document}}catch{ye={window:{},document:{}}}const Se=ye;function Ke(Q){const R=[];let Y=Q;for(;Y&&Y.nodeType!=Node.DOCUMENT_NODE;)R.unshift(Y),Y=Y.parentNode;return R}function kt(Q){return Q instanceof HTMLTextAreaElement?Q.value:Q.innerHTML}function Lt(Q){return Object.prototype.toString.call(Q)=="[object Text]"}function Gt(Q){return Object.prototype.toString.apply(Q)=="[object Range]"}var $t=a("./packages/ckeditor5-utils/src/dom/iswindow.ts");function ft(Q){const R=Q.ownerDocument.defaultView.getComputedStyle(Q);return{top:parseInt(R.borderTopWidth,10),right:parseInt(R.borderRightWidth,10),bottom:parseInt(R.borderBottomWidth,10),left:parseInt(R.borderLeftWidth,10)}}const Yt=["top","right","bottom","left","width","height"];class _t{constructor(R){const Y=Gt(R);if(Object.defineProperty(this,"_source",{value:R._source||R,writable:!0,enumerable:!1}),Ai(R)||Y)if(Y){const ve=_t.getDomRangeRects(R);ri(this,_t.getBoundingRect(ve))}else ri(this,R.getBoundingClientRect());else if((0,$t.Z)(R)){const{innerWidth:ve,innerHeight:De}=R;ri(this,{top:0,right:ve,bottom:De,left:0,width:ve,height:De})}else ri(this,R)}clone(){return new _t(this)}moveTo(R,Y){return this.top=Y,this.right=R+this.width,this.bottom=Y+this.height,this.left=R,this}moveBy(R,Y){return this.top+=Y,this.right+=R,this.left+=R,this.bottom+=Y,this}getIntersection(R){const Y={top:Math.max(this.top,R.top),right:Math.min(this.right,R.right),bottom:Math.min(this.bottom,R.bottom),left:Math.max(this.left,R.left),width:0,height:0};return Y.width=Y.right-Y.left,Y.height=Y.bottom-Y.top,Y.width<0||Y.height<0?null:new _t(Y)}getIntersectionArea(R){const Y=this.getIntersection(R);return Y?Y.getArea():0}getArea(){return this.width*this.height}getVisible(){const R=this._source;let Y=this.clone();if(!ui(R)){let ve=R.parentNode||R.commonAncestorContainer;for(;ve&&!ui(ve);){const De=new _t(ve),nt=Y.getIntersection(De);if(!nt)return null;nt.getArea()<Y.getArea()&&(Y=nt),ve=ve.parentNode}}return Y}isEqual(R){for(const Y of Yt)if(this[Y]!==R[Y])return!1;return!0}contains(R){const Y=this.getIntersection(R);return!(!Y||!Y.isEqual(R))}excludeScrollbarsAndBorders(){const R=this._source;let Y,ve,De;if((0,$t.Z)(R))Y=R.innerWidth-R.document.documentElement.clientWidth,ve=R.innerHeight-R.document.documentElement.clientHeight,De=R.getComputedStyle(R.document.documentElement).direction;else{const nt=ft(R);Y=R.offsetWidth-R.clientWidth-nt.left-nt.right,ve=R.offsetHeight-R.clientHeight-nt.top-nt.bottom,De=R.ownerDocument.defaultView.getComputedStyle(R).direction,this.left+=nt.left,this.top+=nt.top,this.right-=nt.right,this.bottom-=nt.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=Y,De==="ltr"?this.right-=Y:this.left+=Y,this.height-=ve,this.bottom-=ve,this}static getDomRangeRects(R){const Y=[],ve=Array.from(R.getClientRects());if(ve.length)for(const De of ve)Y.push(new _t(De));else{let De=R.startContainer;Lt(De)&&(De=De.parentNode);const nt=new _t(De.getBoundingClientRect());nt.right=nt.left,nt.width=0,Y.push(nt)}return Y}static getBoundingRect(R){const Y={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let ve=0;for(const De of R)ve++,Y.left=Math.min(Y.left,De.left),Y.top=Math.min(Y.top,De.top),Y.right=Math.max(Y.right,De.right),Y.bottom=Math.max(Y.bottom,De.bottom);return ve==0?null:(Y.width=Y.right-Y.left,Y.height=Y.bottom-Y.top,new _t(Y))}}function ri(Q,R){for(const Y of Yt)Q[Y]=R[Y]}function ui(Q){return!!Ai(Q)&&Q===Q.ownerDocument.body}function Ai(Q){return Q!==null&&typeof Q=="object"&&Q.nodeType===1&&typeof Q.getBoundingClientRect=="function"}class bt{constructor(R,Y){bt._observerInstance||bt._createObserver(),this._element=R,this._callback=Y,bt._addElementCallback(R,Y),bt._observerInstance.observe(R)}destroy(){bt._deleteElementCallback(this._element,this._callback)}static _addElementCallback(R,Y){bt._elementCallbacks||(bt._elementCallbacks=new Map);let ve=bt._elementCallbacks.get(R);ve||(ve=new Set,bt._elementCallbacks.set(R,ve)),ve.add(Y)}static _deleteElementCallback(R,Y){const ve=bt._getElementCallbacks(R);ve&&(ve.delete(Y),ve.size||(bt._elementCallbacks.delete(R),bt._observerInstance.unobserve(R))),bt._elementCallbacks&&!bt._elementCallbacks.size&&(bt._observerInstance=null,bt._elementCallbacks=null)}static _getElementCallbacks(R){return bt._elementCallbacks?bt._elementCallbacks.get(R):null}static _createObserver(){bt._observerInstance=new Se.window.ResizeObserver(R=>{for(const Y of R){const ve=bt._getElementCallbacks(Y.target);if(ve)for(const De of ve)De(Y)}})}}function be(Q,R){Q instanceof HTMLTextAreaElement&&(Q.value=R),Q.innerHTML=R}function Ne(Q){return R=>R+Q}function $e(Q){let R=0;for(;Q.previousSibling;)Q=Q.previousSibling,R++;return R}function gt(Q,R,Y){Q.insertBefore(Y,Q.childNodes[R]||null)}function Tt(Q){return Q&&Q.nodeType===Node.COMMENT_NODE}bt._observerInstance=null,bt._elementCallbacks=null;var Et=a("./packages/ckeditor5-utils/src/dom/isnode.ts");function Xt(Q){return!!(Q&&Q.getClientRects&&Q.getClientRects().length)}var Ut=a("./node_modules/lodash-es/isFunction.js");function ni({element:Q,target:R,positions:Y,limiter:ve,fitInViewport:De,viewportOffsetConfig:nt}){(0,Ut.Z)(R)&&(R=R()),(0,Ut.Z)(ve)&&(ve=ve());const It=function(Te){return Te&&Te.parentNode?Te.offsetParent===Se.document.body?null:Te.offsetParent:null}(Q),ai=new _t(Q),bi=new _t(R);let ht;const H=De&&function(Te){Te=Object.assign({top:0,bottom:0,left:0,right:0},Te);const Le=new _t(Se.window);return Le.top+=Te.top,Le.height-=Te.top,Le.bottom-=Te.bottom,Le.height-=Te.bottom,Le}(nt)||null,se={targetRect:bi,elementRect:ai,positionedElementAncestor:It,viewportRect:H};if(ve||De){const Te=ve&&new _t(ve).getVisible();Object.assign(se,{limiterRect:Te,viewportRect:H}),ht=function(Le,Ye){const{elementRect:Je}=Ye,At=Je.getArea(),vt=Le.map(Wt=>new gi(Wt,Ye)).filter(Wt=>!!Wt.name);let Mt=0,jt=null;for(const Wt of vt){const{limiterIntersectionArea:li,viewportIntersectionArea:xi}=Wt;if(li===At)return Wt;const hi=xi**2+li**2;hi>Mt&&(Mt=hi,jt=Wt)}return jt}(Y,se)||new gi(Y[0],se)}else ht=new gi(Y[0],se);return ht}function wi(Q){const{scrollX:R,scrollY:Y}=Se.window;return Q.clone().moveBy(R,Y)}class gi{constructor(R,Y){const ve=R(Y.targetRect,Y.elementRect,Y.viewportRect);if(!ve)return;const{left:De,top:nt,name:It,config:ai}=ve;this.name=It,this.config=ai,this._positioningFunctionCorrdinates={left:De,top:nt},this._options=Y}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const R=this._options.limiterRect;if(R){const Y=this._options.viewportRect;if(!Y)return R.getIntersectionArea(this._rect);{const ve=R.getIntersection(Y);if(ve)return ve.getIntersectionArea(this._rect)}}return 0}get viewportIntersectionArea(){const R=this._options.viewportRect;return R?R.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=wi(this._rect),this._options.positionedElementAncestor&&function(R,Y){const ve=wi(new _t(Y)),De=ft(Y);let nt=0,It=0;nt-=ve.left,It-=ve.top,nt+=Y.scrollLeft,It+=Y.scrollTop,nt-=De.left,It-=De.top,R.moveBy(nt,It)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}function Ti(Q){const R=Q.parentNode;R&&R.removeChild(Q)}function Rt({target:Q,viewportOffset:R=0}){const Y=Ri(Q);let ve=Y,De=null;for(;ve;){let nt;nt=pn(ve==Y?Q:De),Qi(nt,()=>fi(Q,ve));const It=fi(Q,ve);if(Mi(ve,It,R),ve.parent!=ve){if(De=ve.frameElement,ve=ve.parent,!De)return}else ve=null}}function Ii(Q){Qi(pn(Q),()=>new _t(Q))}function Mi(Q,R,Y){const ve=R.clone().moveBy(0,Y),De=R.clone().moveBy(0,-Y),nt=new _t(Q).excludeScrollbarsAndBorders();if(![De,ve].every(It=>nt.contains(It))){let{scrollX:It,scrollY:ai}=Q;Vi(De,nt)?ai-=nt.top-R.top+Y:Fi(ve,nt)&&(ai+=R.bottom-nt.bottom+Y),Ji(R,nt)?It-=nt.left-R.left+Y:cn(R,nt)&&(It+=R.right-nt.right+Y),Q.scrollTo(It,ai)}}function Qi(Q,R){const Y=Ri(Q);let ve,De;for(;Q!=Y.document.body;)De=R(),ve=new _t(Q).excludeScrollbarsAndBorders(),ve.contains(De)||(Vi(De,ve)?Q.scrollTop-=ve.top-De.top:Fi(De,ve)&&(Q.scrollTop+=De.bottom-ve.bottom),Ji(De,ve)?Q.scrollLeft-=ve.left-De.left:cn(De,ve)&&(Q.scrollLeft+=De.right-ve.right)),Q=Q.parentNode}function Fi(Q,R){return Q.bottom>R.bottom}function Vi(Q,R){return Q.top<R.top}function Ji(Q,R){return Q.left<R.left}function cn(Q,R){return Q.right>R.right}function Ri(Q){return Gt(Q)?Q.startContainer.ownerDocument.defaultView:Q.ownerDocument.defaultView}function pn(Q){if(Gt(Q)){let R=Q.commonAncestorContainer;return Lt(R)&&(R=R.parentNode),R}return Q.parentNode}function fi(Q,R){const Y=Ri(Q),ve=new _t(Q);if(Y===R)return ve;{let De=Y;for(;De!=R;){const nt=De.frameElement,It=new _t(nt).excludeScrollbarsAndBorders();ve.moveBy(It.left,It.top),De=De.parent}}return ve}var pi=a("./packages/ckeditor5-utils/src/keyboard.ts");const qi=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function ke(Q){return qi.includes(Q)?"rtl":"ltr"}function V(Q){return Array.isArray(Q)?Q:[Q]}function F(Q,R,Y=1){if(typeof Y!="number")throw new J.ZP("translation-service-quantity-not-a-number",null,{quantity:Y});const ve=Object.keys(Se.window.CKEDITOR_TRANSLATIONS).length;ve===1&&(Q=Object.keys(Se.window.CKEDITOR_TRANSLATIONS)[0]);const De=R.id||R.string;if(ve===0||!function(bi,ht){return!!Se.window.CKEDITOR_TRANSLATIONS[bi]&&!!Se.window.CKEDITOR_TRANSLATIONS[bi].dictionary[ht]}(Q,De))return Y!==1?R.plural:R.string;const nt=Se.window.CKEDITOR_TRANSLATIONS[Q].dictionary,It=Se.window.CKEDITOR_TRANSLATIONS[Q].getPluralForm||(bi=>bi===1?0:1),ai=nt[De];return typeof ai=="string"?ai:ai[Number(It(Y))]}Se.window.CKEDITOR_TRANSLATIONS||(Se.window.CKEDITOR_TRANSLATIONS={});class P{constructor({uiLanguage:R="en",contentLanguage:Y}={}){this.uiLanguage=R,this.contentLanguage=Y||this.uiLanguage,this.uiLanguageDirection=ke(this.uiLanguage),this.contentLanguageDirection=ke(this.contentLanguage),this.t=(ve,De)=>this._t(ve,De)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(R,Y=[]){Y=V(Y),typeof R=="string"&&(R={string:R});const ve=R.plural?Y[0]:1;return function(De,nt){return De.replace(/%(\d+)/g,(It,ai)=>ai<nt.length?nt[ai]:It)}(F(this.uiLanguage,R,ve),Y)}}var N=a("./packages/ckeditor5-utils/src/uid.ts");class de extends(0,pe.ZP)(){constructor(R={},Y={}){super();const ve=ae(R);if(ve||(Y=R),this._items=[],this._itemMap=new Map,this._idProperty=Y.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],ve)for(const De of R)this._items.push(De),this._itemMap.set(this._getItemIdBeforeAdding(De),De)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(R,Y){return this.addMany([R],Y)}addMany(R,Y){if(Y===void 0)Y=this._items.length;else if(Y>this._items.length||Y<0)throw new J.ZP("collection-add-item-invalid-index",this);let ve=0;for(const De of R){const nt=this._getItemIdBeforeAdding(De),It=Y+ve;this._items.splice(It,0,De),this._itemMap.set(nt,De),this.fire("add",De,It),ve++}return this.fire("change",{added:R,removed:[],index:Y}),this}get(R){let Y;if(typeof R=="string")Y=this._itemMap.get(R);else{if(typeof R!="number")throw new J.ZP("collection-get-invalid-arg",this);Y=this._items[R]}return Y||null}has(R){if(typeof R=="string")return this._itemMap.has(R);{const Y=R[this._idProperty];return Y&&this._itemMap.has(Y)}}getIndex(R){let Y;return Y=typeof R=="string"?this._itemMap.get(R):R,Y?this._items.indexOf(Y):-1}remove(R){const[Y,ve]=this._remove(R);return this.fire("change",{added:[],removed:[Y],index:ve}),Y}map(R,Y){return this._items.map(R,Y)}find(R,Y){return this._items.find(R,Y)}filter(R,Y){return this._items.filter(R,Y)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const R=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:R,index:0})}bindTo(R){if(this._bindToCollection)throw new J.ZP("collection-bind-to-rebind",this);return this._bindToCollection=R,{as:Y=>{this._setUpBindToBinding(ve=>new Y(ve))},using:Y=>{typeof Y=="function"?this._setUpBindToBinding(Y):this._setUpBindToBinding(ve=>ve[Y])}}}_setUpBindToBinding(R){const Y=this._bindToCollection,ve=(De,nt,It)=>{const ai=Y._bindToCollection==this,bi=Y._bindToInternalToExternalMap.get(nt);if(ai&&bi)this._bindToExternalToInternalMap.set(nt,bi),this._bindToInternalToExternalMap.set(bi,nt);else{const ht=R(nt);if(!ht)return void this._skippedIndexesFromExternal.push(It);let H=It;for(const se of this._skippedIndexesFromExternal)It>se&&H--;for(const se of Y._skippedIndexesFromExternal)H>=se&&H++;this._bindToExternalToInternalMap.set(nt,ht),this._bindToInternalToExternalMap.set(ht,nt),this.add(ht,H);for(let se=0;se<Y._skippedIndexesFromExternal.length;se++)H<=Y._skippedIndexesFromExternal[se]&&Y._skippedIndexesFromExternal[se]++}};for(const De of Y)ve(0,De,Y.getIndex(De));this.listenTo(Y,"add",ve),this.listenTo(Y,"remove",(De,nt,It)=>{const ai=this._bindToExternalToInternalMap.get(nt);ai&&this.remove(ai),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((bi,ht)=>(It<ht&&bi.push(ht-1),It>ht&&bi.push(ht),bi),[])})}_getItemIdBeforeAdding(R){const Y=this._idProperty;let ve;if(Y in R){if(ve=R[Y],typeof ve!="string")throw new J.ZP("collection-add-invalid-id",this);if(this.get(ve))throw new J.ZP("collection-add-item-already-exists",this)}else R[Y]=ve=(0,N.Z)();return ve}_remove(R){let Y,ve,De,nt=!1;const It=this._idProperty;if(typeof R=="string"?(ve=R,De=this._itemMap.get(ve),nt=!De,De&&(Y=this._items.indexOf(De))):typeof R=="number"?(Y=R,De=this._items[Y],nt=!De,De&&(ve=De[It])):(De=R,ve=De[It],Y=this._items.indexOf(De),nt=Y==-1||!this._itemMap.get(ve)),nt)throw new J.ZP("collection-remove-404",this);this._items.splice(Y,1),this._itemMap.delete(ve);const ai=this._bindToInternalToExternalMap.get(De);return this._bindToInternalToExternalMap.delete(De),this._bindToExternalToInternalMap.delete(ai),this.fire("remove",De,Y),[De,Y]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Ce(Q){const R=Q.next();return R.done?null:R.value}class Ze extends(0,tt.Z)(v()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(R){if(this._elements.has(R))throw new J.ZP("focustracker-add-element-already-exist",this);this.listenTo(R,"focus",()=>this._focus(R),{useCapture:!0}),this.listenTo(R,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(R)}remove(R){R===this.focusedElement&&this._blur(),this._elements.has(R)&&(this.stopListening(R),this._elements.delete(R))}destroy(){this.stopListening()}_focus(R){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=R,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}var st=a("./packages/ckeditor5-utils/src/keystrokehandler.ts");function Ct(Q){return ae(Q)?new Map(Q):function(R){const Y=new Map;for(const ve in R)Y.set(ve,R[ve]);return Y}(Q)}var Ge=a("./packages/ckeditor5-utils/src/priorities.ts"),Ft=a("./packages/ckeditor5-utils/src/inserttopriorityarray.ts");const ci=1e4;function yi(Q,R,Y,ve){if(Math.max(R.length,Q.length)>ci)return Q.slice(0,Y).concat(R).concat(Q.slice(Y+ve,Q.length));{const De=Array.from(Q);return De.splice(Y,ve,...R),De}}function Oi(Q){return!!Q&&Q.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(Q)}function Ei(Q){return!!Q&&Q.length==1&&/[\ud800-\udbff]/.test(Q)}function Bi(Q){return!!Q&&Q.length==1&&/[\udc00-\udfff]/.test(Q)}function Li(Q,R){return Ei(Q.charAt(R-1))&&Bi(Q.charAt(R))}function Ui(Q,R){return Oi(Q.charAt(R))}const Ht=function(){const Q=/\p{Regional_Indicator}{2}/u.source,R="(?:"+[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u].map(Y=>Y.source).join("|")+")";return new RegExp(`${Q}|${R}(?:\u200D${R})*`,"ug")}();function we(Q,R){const Y=String(Q).matchAll(Ht);return Array.from(Y).some(ve=>ve.index<R&&R<ve.index+ve[0].length)}var He=a("./packages/ckeditor5-utils/src/version.ts")},"./packages/ckeditor5-utils/src/inserttopriorityarray.ts":(f,_,a)=>{"use strict";a.d(_,{Z:()=>S});var d=a("./packages/ckeditor5-utils/src/priorities.ts");function S(U,I){const C=d.Z.get(I.priority);for(let ge=0;ge<U.length;ge++)if(d.Z.get(U[ge].priority)<C)return void U.splice(ge,0,I);U.push(I)}},"./packages/ckeditor5-utils/src/keyboard.ts":(f,_,a)=>{"use strict";a.d(_,{Cq:()=>pe,Do:()=>C,XU:()=>J,Zt:()=>h,Zz:()=>me,dj:()=>ee,mA:()=>Z});var d=a("./packages/ckeditor5-utils/src/ckeditorerror.ts"),S=a("./packages/ckeditor5-utils/src/env.ts");const U={ctrl:"\u2303",cmd:"\u2318",alt:"\u2325",shift:"\u21E7"},I={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},C=function(){const g={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let r=65;r<=90;r++)g[String.fromCharCode(r).toLowerCase()]=r;for(let r=48;r<=57;r++)g[r-48]=r;for(let r=112;r<=123;r++)g["f"+(r-111)]=r;for(const r of"`-=[];',./\\")g[r]=r.charCodeAt(0);return g}(),ge=Object.fromEntries(Object.entries(C).map(([g,r])=>[r,g.charAt(0).toUpperCase()+g.slice(1)]));function pe(g){let r;if(typeof g=="string"){if(r=C[g.toLowerCase()],!r)throw new d.ZP("keyboard-unknown-key",null,{key:g})}else r=g.keyCode+(g.altKey?C.alt:0)+(g.ctrlKey?C.ctrl:0)+(g.shiftKey?C.shift:0)+(g.metaKey?C.cmd:0);return r}function me(g){return typeof g=="string"&&(g=function(r){return r.split("+").map(u=>u.trim())}(g)),g.map(r=>typeof r=="string"?function(u){if(u.endsWith("!"))return pe(u.slice(0,-1));const w=pe(u);return S.ZP.isMac&&w==C.ctrl?C.cmd:w}(r):r).reduce((r,u)=>u+r,0)}function J(g){let r=me(g);return Object.entries(S.ZP.isMac?U:I).reduce((u,[w,v])=>(r&C[w]&&(r&=~C[w],u+=v),u),"")+(r?ge[r]:"")}function ee(g){return g==C.arrowright||g==C.arrowleft||g==C.arrowup||g==C.arrowdown}function Z(g,r){const u=r==="ltr";switch(g){case C.arrowleft:return u?"left":"right";case C.arrowright:return u?"right":"left";case C.arrowup:return"up";case C.arrowdown:return"down"}}function h(g,r){const u=Z(g,r);return u==="down"||u==="right"}},"./packages/ckeditor5-utils/src/keystrokehandler.ts":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./packages/ckeditor5-utils/src/dom/emittermixin.ts"),S=a("./packages/ckeditor5-utils/src/keyboard.ts");class U{constructor(){this._listener=new((0,d.Z)())}listenTo(C){this._listener.listenTo(C,"keydown",(ge,pe)=>{this._listener.fire("_keydown:"+(0,S.Cq)(pe),pe)})}set(C,ge,pe={}){const me=(0,S.Zz)(C),J=pe.priority;this._listener.listenTo(this._listener,"_keydown:"+me,(ee,Z)=>{ge(Z,()=>{Z.preventDefault(),Z.stopPropagation(),ee.stop()}),ee.return=!0},{priority:J})}press(C){return!!this._listener.fire("_keydown:"+(0,S.Cq)(C),C)}destroy(){this._listener.stopListening()}}},"./packages/ckeditor5-utils/src/priorities.ts":(f,_,a)=>{"use strict";a.d(_,{Z:()=>d});const d={get(S="normal"){return typeof S!="number"?this[S]||this.normal:S},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5}},"./packages/ckeditor5-utils/src/uid.ts":(f,_,a)=>{"use strict";a.d(_,{Z:()=>S});const d=new Array(256).fill("").map((U,I)=>("0"+I.toString(16)).slice(-2));function S(){const U=4294967296*Math.random()>>>0,I=4294967296*Math.random()>>>0,C=4294967296*Math.random()>>>0,ge=4294967296*Math.random()>>>0;return"e"+d[U>>0&255]+d[U>>8&255]+d[U>>16&255]+d[U>>24&255]+d[I>>0&255]+d[I>>8&255]+d[I>>16&255]+d[I>>24&255]+d[C>>0&255]+d[C>>8&255]+d[C>>16&255]+d[C>>24&255]+d[ge>>0&255]+d[ge>>8&255]+d[ge>>16&255]+d[ge>>24&255]}},"./packages/ckeditor5-utils/src/version.ts":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./packages/ckeditor5-utils/src/ckeditorerror.ts");const S="36.0.1",U=S,I=typeof window=="object"?window:a.g;if(I.CKEDITOR_VERSION)throw new d.ZP("ckeditor-duplicated-modules",null);I.CKEDITOR_VERSION=S},"./packages/ckeditor5-widget/src/index.ts":(f,_,a)=>{"use strict";a.d(_,{s4:()=>h,Uo:()=>g,$L:()=>ye,WR:()=>Ai,e8:()=>Ke,Ww:()=>et,KT:()=>c,id:()=>L,Qd:()=>r,em:()=>T,l6:()=>z,XC:()=>u,sC:()=>x,$n:()=>D});var d=a("./packages/ckeditor5-core/src/index.ts"),S=a("./packages/ckeditor5-engine/src/index.ts"),U=a("./packages/ckeditor5-typing/src/index.ts"),I=a("./packages/ckeditor5-utils/src/index.ts"),C=a("./packages/ckeditor5-ui/src/index.ts"),ge=a("./packages/ckeditor5-enter/src/index.ts");class pe extends(0,I.ln)(){constructor(){super(),this._stack=[]}add(be,Ne){const $e=this._stack,gt=$e[0];this._insertDescriptor(be);const Tt=$e[0];gt===Tt||me(gt,Tt)||this.fire("change:top",{oldDescriptor:gt,newDescriptor:Tt,writer:Ne})}remove(be,Ne){const $e=this._stack,gt=$e[0];this._removeDescriptor(be);const Tt=$e[0];gt===Tt||me(gt,Tt)||this.fire("change:top",{oldDescriptor:gt,newDescriptor:Tt,writer:Ne})}_insertDescriptor(be){const Ne=this._stack,$e=Ne.findIndex(Tt=>Tt.id===be.id);if(me(be,Ne[$e]))return;$e>-1&&Ne.splice($e,1);let gt=0;for(;Ne[gt]&&J(Ne[gt],be);)gt++;Ne.splice(gt,0,be)}_removeDescriptor(be){const Ne=this._stack,$e=Ne.findIndex(gt=>gt.id===be);$e>-1&&Ne.splice($e,1)}}function me(bt,be){return bt&&be&&bt.priority==be.priority&&ee(bt.classes)==ee(be.classes)}function J(bt,be){return bt.priority>be.priority||!(bt.priority<be.priority)&&ee(bt.classes)>ee(be.classes)}function ee(bt){return Array.isArray(bt)?bt.sort().join(","):bt}const Z='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',h="ck-widget",g="ck-widget_selected";function r(bt){return!!bt.is("element")&&!!bt.getCustomProperty("widget")}function u(bt,be,Ne={}){if(!bt.is("containerElement"))throw new I.Bb("widget-to-widget-wrong-element-type",null,{element:bt});return be.setAttribute("contenteditable","false",bt),be.addClass(h,bt),be.setCustomProperty("widget",!0,bt),bt.getFillerOffset=W,be.setCustomProperty("widgetLabel",[],bt),Ne.label&&z(bt,Ne.label),Ne.hasSelectionHandle&&function($e,gt){const Tt=gt.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(Et){const Xt=this.toDomElement(Et),Ut=new C.mO;return Ut.set("content",Z),Ut.render(),Xt.appendChild(Ut.element),Xt});gt.insert(gt.createPositionAt($e,0),Tt),gt.addClass(["ck-widget_with-selection-handle"],$e)}(bt,be),T(bt,be),bt}function w(bt,be,Ne){if(be.classes&&Ne.addClass((0,I.qo)(be.classes),bt),be.attributes)for(const $e in be.attributes)Ne.setAttribute($e,be.attributes[$e],bt)}function v(bt,be,Ne){if(be.classes&&Ne.removeClass((0,I.qo)(be.classes),bt),be.attributes)for(const $e in be.attributes)Ne.removeAttribute($e,bt)}function T(bt,be,Ne=w,$e=v){const gt=new pe;gt.on("change:top",(Tt,Et)=>{Et.oldDescriptor&&$e(bt,Et.oldDescriptor,Et.writer),Et.newDescriptor&&Ne(bt,Et.newDescriptor,Et.writer)}),be.setCustomProperty("addHighlight",(Tt,Et,Xt)=>gt.add(Et,Xt),bt),be.setCustomProperty("removeHighlight",(Tt,Et,Xt)=>gt.remove(Et,Xt),bt)}function z(bt,be){bt.getCustomProperty("widgetLabel").push(be)}function L(bt){return bt.getCustomProperty("widgetLabel").reduce((be,Ne)=>typeof Ne=="function"?be?be+". "+Ne():Ne():be?be+". "+Ne:Ne,"")}function x(bt,be,Ne={}){return be.addClass(["ck-editor__editable","ck-editor__nested-editable"],bt),be.setAttribute("role","textbox",bt),Ne.label&&be.setAttribute("aria-label",Ne.label,bt),be.setAttribute("contenteditable",bt.isReadOnly?"false":"true",bt),bt.on("change:isReadOnly",($e,gt,Tt)=>{be.setAttribute("contenteditable",Tt?"false":"true",bt)}),bt.on("change:isFocused",($e,gt,Tt)=>{Tt?be.addClass("ck-editor__nested-editable_focused",bt):be.removeClass("ck-editor__nested-editable_focused",bt)}),T(bt,be),bt}function c(bt,be){const Ne=bt.getSelectedElement();if(Ne){const $e=Ie(bt);if($e)return be.createRange(be.createPositionAt(Ne,$e))}return(0,S.KT)(bt,be)}function D(bt,be){return(Ne,$e)=>{const{mapper:gt,viewPosition:Tt}=$e,Et=gt.findMappedViewAncestor(Tt);if(!be(Et))return;const Xt=gt.toModelElement(Et);$e.modelPosition=bt.createPositionAt(Xt,Tt.isAtStart?"before":"after")}}function W(){return null}const q="widget-type-around";function ae(bt,be,Ne){return!!bt&&r(bt)&&!Ne.isInline(be)}function Ie(bt){return bt.getAttribute(q)}var Ve=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),_e=a.n(Ve),Me=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widgettypearound.css"),Qe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(Me.Z,Qe),Me.Z.locals;const ut=["before","after"],rt=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,qe="ck-widget__type-around_disabled";class et extends d.Sy{static get pluginName(){return"WidgetTypeAround"}static get requires(){return[ge.C,U.HG]}constructor(be){super(be),this._currentFakeCaretModelElement=null}init(){const be=this.editor,Ne=be.editing.view;this.on("change:isEnabled",($e,gt,Tt)=>{Ne.change(Et=>{for(const Xt of Ne.document.roots)Tt?Et.removeClass(qe,Xt):Et.addClass(qe,Xt)}),Tt||be.model.change(Et=>{Et.removeSelectionAttribute(q)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(be,Ne){const $e=this.editor,gt=$e.editing.view,Tt=$e.model.schema.getAttributesWithProperty(be,"copyOnReplace",!0);$e.execute("insertParagraph",{position:$e.model.createPositionAt(be,Ne),attributes:Tt}),gt.focus(),gt.scrollToTheSelection()}_listenToIfEnabled(be,Ne,$e,gt){this.listenTo(be,Ne,(...Tt)=>{this.isEnabled&&$e(...Tt)},gt)}_insertParagraphAccordingToFakeCaretPosition(){const be=this.editor.model.document.selection,Ne=Ie(be);if(!Ne)return!1;const $e=be.getSelectedElement();return this._insertParagraph($e,Ne),!0}_enableTypeAroundUIInjection(){const be=this.editor,Ne=be.model.schema,$e=be.locale.t,gt={before:$e("Insert paragraph before block"),after:$e("Insert paragraph after block")};be.editing.downcastDispatcher.on("insert",(Tt,Et,Xt)=>{const Ut=Xt.mapper.toViewElement(Et.item);Ut&&ae(Ut,Et.item,Ne)&&(function(ni,wi,gi){const Ti=ni.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(Rt){const Ii=this.toDomElement(Rt);return function(Mi,Qi){for(const Fi of ut){const Vi=new C.YS({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${Fi}`],title:Qi[Fi],"aria-hidden":"true"},children:[Mi.ownerDocument.importNode(rt,!0)]});Mi.appendChild(Vi.render())}}(Ii,wi),function(Mi){const Qi=new C.YS({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});Mi.appendChild(Qi.render())}(Ii),Ii});ni.insert(ni.createPositionAt(gi,"end"),Ti)}(Xt.writer,gt,Ut),Ut.getCustomProperty("widgetLabel").push(()=>this.isEnabled?$e("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const be=this.editor,Ne=be.model,$e=Ne.document.selection,gt=Ne.schema,Tt=be.editing.view;function Et(Xt){return`ck-widget_type-around_show-fake-caret_${Xt}`}this._listenToIfEnabled(Tt.document,"arrowKey",(Xt,Ut)=>{this._handleArrowKeyPress(Xt,Ut)},{context:[r,"$text"],priority:"high"}),this._listenToIfEnabled($e,"change:range",(Xt,Ut)=>{Ut.directChange&&be.model.change(ni=>{ni.removeSelectionAttribute(q)})}),this._listenToIfEnabled(Ne.document,"change:data",()=>{const Xt=$e.getSelectedElement();Xt&&ae(be.editing.mapper.toViewElement(Xt),Xt,gt)||be.model.change(Ut=>{Ut.removeSelectionAttribute(q)})}),this._listenToIfEnabled(be.editing.downcastDispatcher,"selection",(Xt,Ut,ni)=>{const wi=ni.writer;if(this._currentFakeCaretModelElement){const Ii=ni.mapper.toViewElement(this._currentFakeCaretModelElement);Ii&&(wi.removeClass(ut.map(Et),Ii),this._currentFakeCaretModelElement=null)}const gi=Ut.selection.getSelectedElement();if(!gi)return;const Ti=ni.mapper.toViewElement(gi);if(!ae(Ti,gi,gt))return;const Rt=Ie(Ut.selection);Rt&&(wi.addClass(Et(Rt),Ti),this._currentFakeCaretModelElement=gi)}),this._listenToIfEnabled(be.ui.focusTracker,"change:isFocused",(Xt,Ut,ni)=>{ni||be.model.change(wi=>{wi.removeSelectionAttribute(q)})})}_handleArrowKeyPress(be,Ne){const $e=this.editor,gt=$e.model,Tt=gt.document.selection,Et=gt.schema,Xt=$e.editing.view,Ut=Ne.keyCode,ni=(0,I.Zt)(Ut,$e.locale.contentLanguageDirection),wi=Xt.document.selection.getSelectedElement();let gi;ae(wi,$e.editing.mapper.toModelElement(wi),Et)?gi=this._handleArrowKeyPressOnSelectedWidget(ni):Tt.isCollapsed?gi=this._handleArrowKeyPressWhenSelectionNextToAWidget(ni):Ne.shiftKey||(gi=this._handleArrowKeyPressWhenNonCollapsedSelection(ni)),gi&&(Ne.preventDefault(),be.stop())}_handleArrowKeyPressOnSelectedWidget(be){const Ne=this.editor.model,$e=Ie(Ne.document.selection);return Ne.change(gt=>$e?$e!==(be?"after":"before")?(gt.removeSelectionAttribute(q),!0):!1:(gt.setSelectionAttribute(q,be?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(be){const Ne=this.editor,$e=Ne.model,gt=$e.schema,Tt=Ne.plugins.get("Widget"),Et=Tt._getObjectElementNextToSelection(be);return!!ae(Ne.editing.mapper.toViewElement(Et),Et,gt)&&($e.change(Xt=>{Tt._setSelectionOverElement(Et),Xt.setSelectionAttribute(q,be?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(be){const Ne=this.editor,$e=Ne.model,gt=$e.schema,Tt=Ne.editing.mapper,Et=$e.document.selection,Xt=be?Et.getLastPosition().nodeBefore:Et.getFirstPosition().nodeAfter;return!!ae(Tt.toViewElement(Xt),Xt,gt)&&($e.change(Ut=>{Ut.setSelection(Xt,"on"),Ut.setSelectionAttribute(q,be?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const be=this.editor,Ne=be.editing.view;this._listenToIfEnabled(Ne.document,"mousedown",($e,gt)=>{const Tt=gt.domTarget.closest(".ck-widget__type-around__button");if(!Tt)return;const Et=function(ni){return ni.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(Tt),Xt=function(ni,wi){const gi=ni.closest(".ck-widget");return wi.mapDomToView(gi)}(Tt,Ne.domConverter),Ut=be.editing.mapper.toModelElement(Xt);this._insertParagraph(Ut,Et),gt.preventDefault(),$e.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const be=this.editor,Ne=be.model.document.selection,$e=be.editing.view;this._listenToIfEnabled($e.document,"enter",(gt,Tt)=>{if(gt.eventPhase!="atTarget")return;const Et=Ne.getSelectedElement(),Xt=be.editing.mapper.toViewElement(Et),Ut=be.model.schema;let ni;this._insertParagraphAccordingToFakeCaretPosition()?ni=!0:ae(Xt,Et,Ut)&&(this._insertParagraph(Et,Tt.isSoft?"before":"after"),ni=!0),ni&&(Tt.preventDefault(),gt.stop())},{context:r})}_enableInsertingParagraphsOnTypingKeystroke(){const be=this.editor.editing.view.document;this._listenToIfEnabled(be,"insertText",(Ne,$e)=>{this._insertParagraphAccordingToFakeCaretPosition()&&($e.selection=be.selection)},{priority:"high"}),I.OB.isAndroid?this._listenToIfEnabled(be,"keydown",(Ne,$e)=>{$e.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(be,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const be=this.editor,Ne=be.editing.view,$e=be.model,gt=$e.schema;this._listenToIfEnabled(Ne.document,"delete",(Tt,Et)=>{if(Tt.eventPhase!="atTarget")return;const Xt=Ie($e.document.selection);if(!Xt)return;const Ut=Et.direction,ni=$e.document.selection.getSelectedElement(),wi=Ut=="forward";if(Xt==="before"===wi)be.execute("delete",{selection:$e.createSelection(ni,"on")});else{const gi=gt.getNearestSelectionRange($e.createPositionAt(ni,Xt),Ut);if(gi)if(gi.isCollapsed){const Ti=$e.createSelection(gi.start);if($e.modifySelection(Ti,{direction:Ut}),Ti.focus.isEqual(gi.start)){const Rt=function(Ii,Mi){let Qi=Mi;for(const Fi of Mi.getAncestors({parentFirst:!0})){if(Fi.childCount>1||Ii.isLimit(Fi))break;Qi=Fi}return Qi}(gt,gi.start.parent);$e.deleteContent($e.createSelection(Rt,"on"),{doNotAutoparagraph:!0})}else $e.change(Rt=>{Rt.setSelection(gi),be.execute(wi?"deleteForward":"delete")})}else $e.change(Ti=>{Ti.setSelection(gi),be.execute(wi?"deleteForward":"delete")})}Et.preventDefault(),Tt.stop()},{context:r})}_enableInsertContentIntegration(){const be=this.editor,Ne=this.editor.model,$e=Ne.document.selection;this._listenToIfEnabled(be.model,"insertContent",(gt,[Tt,Et])=>{if(Et&&!Et.is("documentSelection"))return;const Xt=Ie($e);return Xt?(gt.stop(),Ne.change(Ut=>{const ni=$e.getSelectedElement(),wi=Ne.createPositionAt(ni,Xt),gi=Ut.createSelection(wi),Ti=Ne.insertContent(Tt,gi);return Ut.setSelection(gi),Ti})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const be=this.editor,Ne=this.editor.model.document.selection;this._listenToIfEnabled(be.model,"insertObject",($e,gt)=>{const[,Tt,,Et={}]=gt;if(Tt&&!Tt.is("documentSelection"))return;const Xt=Ie(Ne);Xt&&(Et.findOptimalPosition=Xt,gt[3]=Et)},{priority:"high"})}_enableDeleteContentIntegration(){const be=this.editor,Ne=this.editor.model.document.selection;this._listenToIfEnabled(be.model,"deleteContent",($e,[gt])=>{gt&&!gt.is("documentSelection")||Ie(Ne)&&$e.stop()},{priority:"high"})}}function Bt(bt){const be=bt.model;return(Ne,$e)=>{const gt=$e.keyCode==I.Do.arrowup,Tt=$e.keyCode==I.Do.arrowdown,Et=$e.shiftKey,Xt=be.document.selection;if(!gt&&!Tt)return;const Ut=Tt;if(Et&&function(wi,gi){return!wi.isCollapsed&&wi.isBackward==gi}(Xt,Ut))return;const ni=function(wi,gi,Ti){const Rt=wi.model;if(Ti){const Ii=gi.isCollapsed?gi.focus:gi.getLastPosition(),Mi=Nt(Rt,Ii,"forward");if(!Mi)return null;const Qi=Rt.createRange(Ii,Mi),Fi=xt(Rt.schema,Qi,"backward");return Fi?Rt.createRange(Ii,Fi):null}{const Ii=gi.isCollapsed?gi.focus:gi.getFirstPosition(),Mi=Nt(Rt,Ii,"backward");if(!Mi)return null;const Qi=Rt.createRange(Mi,Ii),Fi=xt(Rt.schema,Qi,"forward");return Fi?Rt.createRange(Fi,Ii):null}}(bt,Xt,Ut);if(ni){if(ni.isCollapsed&&(Xt.isCollapsed||Et))return;(ni.isCollapsed||function(wi,gi,Ti){const Rt=wi.model,Ii=wi.view.domConverter;if(Ti){const Ji=Rt.createSelection(gi.start);Rt.modifySelection(Ji),Ji.focus.isAtEnd||gi.start.isEqual(Ji.focus)||(gi=Rt.createRange(Ji.focus,gi.end))}const Mi=wi.mapper.toViewRange(gi),Qi=Ii.viewRangeToDom(Mi),Fi=I.UL.getDomRangeRects(Qi);let Vi;for(const Ji of Fi)if(Vi!==void 0){if(Math.round(Ji.top)>=Vi)return!1;Vi=Math.max(Vi,Math.round(Ji.bottom))}else Vi=Math.round(Ji.bottom);return!0}(bt,ni,Ut))&&(be.change(wi=>{const gi=Ut?ni.end:ni.start;if(Et){const Ti=be.createSelection(Xt.anchor);Ti.setFocus(gi),wi.setSelection(Ti)}else wi.setSelection(gi)}),Ne.stop(),$e.preventDefault(),$e.stopPropagation())}}}function Nt(bt,be,Ne){const $e=bt.schema,gt=bt.createRangeIn(be.root),Tt=Ne=="forward"?"elementStart":"elementEnd";for(const{previousPosition:Et,item:Xt,type:Ut}of gt.getWalker({startPosition:be,direction:Ne})){if($e.isLimit(Xt)&&!$e.isInline(Xt))return Et;if(Ut==Tt&&$e.isBlock(Xt))return null}return null}function xt(bt,be,Ne){const $e=Ne=="backward"?be.end:be.start;if(bt.checkChild($e,"$text"))return $e;for(const{nextPosition:gt}of be.getWalker({direction:Ne}))if(bt.checkChild(gt,"$text"))return gt;return null}var tt=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widget.css"),Dt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(tt.Z,Dt),tt.Z.locals;class ye extends d.Sy{static get pluginName(){return"Widget"}static get requires(){return[et,U.HG]}init(){const be=this.editor,Ne=be.editing.view,$e=Ne.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(gt,Tt,Et)=>{const Xt=Et.writer,Ut=Tt.selection;if(Ut.isCollapsed)return;const ni=Ut.getSelectedElement();if(!ni)return;const wi=be.editing.mapper.toViewElement(ni);r(wi)&&Et.consumable.consume(Ut,"selection")&&Xt.setSelection(Xt.createRangeOn(wi),{fake:!0,label:L(wi)})}),this.editor.editing.downcastDispatcher.on("selection",(gt,Tt,Et)=>{this._clearPreviouslySelectedWidgets(Et.writer);const Xt=Et.writer,Ut=Xt.document.selection;let ni=null;for(const wi of Ut.getRanges())for(const gi of wi){const Ti=gi.item;r(Ti)&&!Se(Ti,ni)&&(Xt.addClass(g,Ti),this._previouslySelected.add(Ti),ni=Ti)}},{priority:"low"}),Ne.addObserver(S.dM),this.listenTo($e,"mousedown",(...gt)=>this._onMousedown(...gt)),this.listenTo($e,"arrowKey",(...gt)=>{this._handleSelectionChangeOnArrowKeyPress(...gt)},{context:[r,"$text"]}),this.listenTo($e,"arrowKey",(...gt)=>{this._preventDefaultOnArrowKeyPress(...gt)},{context:"$root"}),this.listenTo($e,"arrowKey",Bt(this.editor.editing),{context:"$text"}),this.listenTo($e,"delete",(gt,Tt)=>{this._handleDelete(Tt.direction=="forward")&&(Tt.preventDefault(),gt.stop())},{context:"$root"})}_onMousedown(be,Ne){const $e=this.editor,gt=$e.editing.view,Tt=gt.document;let Et=Ne.target;if(function(Ut){let ni=Ut;for(;ni;){if(ni.is("editableElement")&&!ni.is("rootElement"))return!0;if(r(ni))return!1;ni=ni.parent}return!1}(Et)){if((I.OB.isSafari||I.OB.isGecko)&&Ne.domEvent.detail>=3){const Ut=$e.editing.mapper,ni=Et.is("attributeElement")?Et.findAncestor(gi=>!gi.is("attributeElement")):Et,wi=Ut.toModelElement(ni);Ne.preventDefault(),this.editor.model.change(gi=>{gi.setSelection(wi,"in")})}return}if(!r(Et)&&(Et=Et.findAncestor(r),!Et))return;I.OB.isAndroid&&Ne.preventDefault(),Tt.isFocused||gt.focus();const Xt=$e.editing.mapper.toModelElement(Et);this._setSelectionOverElement(Xt)}_handleSelectionChangeOnArrowKeyPress(be,Ne){const $e=Ne.keyCode,gt=this.editor.model,Tt=gt.schema,Et=gt.document.selection,Xt=Et.getSelectedElement(),Ut=(0,I.mA)($e,this.editor.locale.contentLanguageDirection),ni=Ut=="down"||Ut=="right",wi=Ut=="up"||Ut=="down";if(Xt&&Tt.isObject(Xt)){const Ti=ni?Et.getLastPosition():Et.getFirstPosition(),Rt=Tt.getNearestSelectionRange(Ti,ni?"forward":"backward");return void(Rt&&(gt.change(Ii=>{Ii.setSelection(Rt)}),Ne.preventDefault(),be.stop()))}if(!Et.isCollapsed&&!Ne.shiftKey){const Ti=Et.getFirstPosition(),Rt=Et.getLastPosition(),Ii=Ti.nodeAfter,Mi=Rt.nodeBefore;return void((Ii&&Tt.isObject(Ii)||Mi&&Tt.isObject(Mi))&&(gt.change(Qi=>{Qi.setSelection(ni?Rt:Ti)}),Ne.preventDefault(),be.stop()))}if(!Et.isCollapsed)return;const gi=this._getObjectElementNextToSelection(ni);if(gi&&Tt.isObject(gi)){if(Tt.isInline(gi)&&wi)return;this._setSelectionOverElement(gi),Ne.preventDefault(),be.stop()}}_preventDefaultOnArrowKeyPress(be,Ne){const $e=this.editor.model,gt=$e.schema,Tt=$e.document.selection.getSelectedElement();Tt&&gt.isObject(Tt)&&(Ne.preventDefault(),be.stop())}_handleDelete(be){if(this.editor.isReadOnly)return;const Ne=this.editor.model.document.selection;if(!Ne.isCollapsed)return;const $e=this._getObjectElementNextToSelection(be);return $e?(this.editor.model.change(gt=>{let Tt=Ne.anchor.parent;for(;Tt.isEmpty;){const Et=Tt;Tt=Et.parent,gt.remove(Et)}this._setSelectionOverElement($e)}),!0):void 0}_setSelectionOverElement(be){this.editor.model.change(Ne=>{Ne.setSelection(Ne.createRangeOn(be))})}_getObjectElementNextToSelection(be){const Ne=this.editor.model,$e=Ne.schema,gt=Ne.document.selection,Tt=Ne.createSelection(gt);if(Ne.modifySelection(Tt,{direction:be?"forward":"backward"}),Tt.isEqual(gt))return null;const Et=be?Tt.focus.nodeBefore:Tt.focus.nodeAfter;return Et&&$e.isObject(Et)?Et:null}_clearPreviouslySelectedWidgets(be){for(const Ne of this._previouslySelected)be.removeClass(g,Ne);this._previouslySelected.clear()}}function Se(bt,be){return!!be&&Array.from(bt.getAncestors()).includes(be)}class Ke extends d.Sy{static get requires(){return[C.WB]}static get pluginName(){return"WidgetToolbarRepository"}init(){const be=this.editor;if(be.plugins.has("BalloonToolbar")){const Ne=be.plugins.get("BalloonToolbar");this.listenTo(Ne,"show",$e=>{(function(gt){const Tt=gt.getSelectedElement();return!(!Tt||!r(Tt))})(be.editing.view.document.selection)&&$e.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(be.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(be.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const be of this._toolbarDefinitions.values())be.view.destroy()}register(be,{ariaLabel:Ne,items:$e,getRelatedElement:gt,balloonClassName:Tt="ck-toolbar-container"}){if(!$e.length)return void(0,I.KE)("widget-toolbar-no-items",{toolbarId:be});const Et=this.editor,Xt=Et.t,Ut=new C.jB(Et.locale);if(Ut.ariaLabel=Ne||Xt("Widget toolbar"),this._toolbarDefinitions.has(be))throw new I.Bb("widget-toolbar-duplicated",this,{toolbarId:be});const ni={view:Ut,getRelatedElement:gt,balloonClassName:Tt,itemsConfig:$e,initialized:!1};Et.ui.addToolbar(Ut,{isContextual:!0,beforeFocus:()=>{const wi=gt(Et.editing.view.document.selection);wi&&this._showToolbar(ni,wi)},afterBlur:()=>{this._hideToolbar(ni)}}),this._toolbarDefinitions.set(be,ni)}_updateToolbarsVisibility(){let be=0,Ne=null,$e=null;for(const gt of this._toolbarDefinitions.values()){const Tt=gt.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&Tt)if(this.editor.ui.focusTracker.isFocused){const Et=Tt.getAncestors().length;Et>be&&(be=Et,Ne=Tt,$e=gt)}else this._isToolbarVisible(gt)&&this._hideToolbar(gt);else this._isToolbarInBalloon(gt)&&this._hideToolbar(gt)}$e&&this._showToolbar($e,Ne)}_hideToolbar(be){this._balloon.remove(be.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(be,Ne){this._isToolbarVisible(be)?kt(this.editor,Ne):this._isToolbarInBalloon(be)||(be.initialized||(be.initialized=!0,be.view.fillFromConfig(be.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:be.view,position:Lt(this.editor,Ne),balloonClassName:be.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const $e of this._toolbarDefinitions.values())if(this._isToolbarVisible($e)){const gt=$e.getRelatedElement(this.editor.editing.view.document.selection);kt(this.editor,gt)}}))}_isToolbarVisible(be){return this._balloon.visibleView===be.view}_isToolbarInBalloon(be){return this._balloon.hasView(be.view)}}function kt(bt,be){const Ne=bt.plugins.get("ContextualBalloon"),$e=Lt(bt,be);Ne.updatePosition($e)}function Lt(bt,be){const Ne=bt.editing.view,$e=C.no.defaultPositions;return{target:Ne.domConverter.mapViewToDom(be),positions:[$e.northArrowSouth,$e.northArrowSouthWest,$e.northArrowSouthEast,$e.southArrowNorth,$e.southArrowNorthWest,$e.southArrowNorthEast,$e.viewportStickyNorth]}}class Gt extends(0,I.Re)(){constructor(be){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=be,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(be,Ne,$e){const gt=new I.UL(Ne);this.activeHandlePosition=function(Et){const Xt=["top-left","top-right","bottom-right","bottom-left"];for(const Ut of Xt)if(Et.classList.contains($t(Ut)))return Ut}(be),this._referenceCoordinates=function(Et,Xt){const Ut=new I.UL(Et),ni=Xt.split("-"),wi={x:ni[1]=="right"?Ut.right:Ut.left,y:ni[0]=="bottom"?Ut.bottom:Ut.top};return wi.x+=Et.ownerDocument.defaultView.scrollX,wi.y+=Et.ownerDocument.defaultView.scrollY,wi}(Ne,function(Et){const Xt=Et.split("-"),Ut={top:"bottom",bottom:"top",left:"right",right:"left"};return`${Ut[Xt[0]]}-${Ut[Xt[1]]}`}(this.activeHandlePosition)),this._originalWidth=gt.width,this._originalHeight=gt.height,this._aspectRatio=gt.width/gt.height;const Tt=$e.style.width;Tt&&Tt.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(Tt):this._originalWidthPercents=function(Et,Xt){const Ut=Et.parentElement,ni=parseFloat(Ut.ownerDocument.defaultView.getComputedStyle(Ut).width);return Xt.width/ni*100}($e,gt)}update(be){this.proposedWidth=be.width,this.proposedHeight=be.height,this.proposedWidthPercents=be.widthPercents,this.proposedHandleHostWidth=be.handleHostWidth,this.proposedHandleHostHeight=be.handleHostHeight}}function $t(bt){return`ck-widget__resizer__handle-${bt}`}class ft extends C.G7{constructor(){super();const be=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",be.to("_viewPosition",Ne=>Ne?`ck-orientation-${Ne}`:"")],style:{display:be.if("_isVisible","none",Ne=>!Ne)}},children:[{text:be.to("_label")}]})}_bindToState(be,Ne){this.bind("_isVisible").to(Ne,"proposedWidth",Ne,"proposedHeight",($e,gt)=>$e!==null&&gt!==null),this.bind("_label").to(Ne,"proposedHandleHostWidth",Ne,"proposedHandleHostHeight",Ne,"proposedWidthPercents",($e,gt,Tt)=>be.unit==="px"?`${$e}\xD7${gt}`:`${Tt}%`),this.bind("_viewPosition").to(Ne,"activeHandlePosition",Ne,"proposedHandleHostWidth",Ne,"proposedHandleHostHeight",($e,gt,Tt)=>gt<50||Tt<50?"above-center":$e)}_dismiss(){this.unbind(),this._isVisible=!1}}class Yt extends(0,I.Re)(){constructor(be){super(),this._options=be,this._viewResizerWrapper=null,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(Ne,$e)=>Ne&&$e),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",Ne=>{this.state.proposedWidth||this.state.proposedWidthPercents||(this._cleanup(),Ne.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(be=>{be.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(be=>{be.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const be=this,Ne=this._options.viewElement;this._options.editor.editing.view.change($e=>{const gt=$e.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(Tt){const Et=this.toDomElement(Tt);return be._appendHandles(Et),be._appendSizeUI(Et),Et});$e.insert($e.createPositionAt(Ne,"end"),gt),$e.addClass("ck-widget_with-resizer",Ne),this._viewResizerWrapper=gt,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(be){this._state=new Gt(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(be,this._getHandleHost(),this._getResizeHost())}updateSize(be){const Ne=this._proposeNewSize(be);this._options.editor.editing.view.change(Ut=>{const ni=this._options.unit||"%",wi=(ni==="%"?Ne.widthPercents:Ne.width)+ni;Ut.setStyle("width",wi,this._options.viewElement)});const $e=this._getHandleHost(),gt=new I.UL($e),Tt=Math.round(gt.width),Et=Math.round(gt.height),Xt=new I.UL($e);Ne.width=Math.round(Xt.width),Ne.height=Math.round(Xt.height),this.redraw(gt),this.state.update({...Ne,handleHostWidth:Tt,handleHostHeight:Et})}commit(){const be=this._options.unit||"%",Ne=(be==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+be;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(Ne)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(be){const Ne=this._domResizerWrapper;if(!(($e=Ne)&&$e.ownerDocument&&$e.ownerDocument.contains($e)))return;var $e;const gt=Ne.parentElement,Tt=this._getHandleHost(),Et=this._viewResizerWrapper,Xt=[Et.getStyle("width"),Et.getStyle("height"),Et.getStyle("left"),Et.getStyle("top")];let Ut;if(gt.isSameNode(Tt)){const ni=be||new I.UL(Tt);Ut=[ni.width+"px",ni.height+"px",void 0,void 0]}else Ut=[Tt.offsetWidth+"px",Tt.offsetHeight+"px",Tt.offsetLeft+"px",Tt.offsetTop+"px"];(0,I.Rt)(Xt,Ut)!=="same"&&this._options.editor.editing.view.change(ni=>{ni.setStyle({width:Ut[0],height:Ut[1],left:Ut[2],top:Ut[3]},Et)})}containsHandle(be){return this._domResizerWrapper.contains(be)}static isResizeHandle(be){return be.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(be=>{be.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(be){const Ne=this.state,$e={x:(gt=be).pageX,y:gt.pageY};var gt;const Tt=!this._options.isCentered||this._options.isCentered(this),Et={x:Ne._referenceCoordinates.x-($e.x+Ne.originalWidth),y:$e.y-Ne.originalHeight-Ne._referenceCoordinates.y};Tt&&Ne.activeHandlePosition.endsWith("-right")&&(Et.x=$e.x-(Ne._referenceCoordinates.x+Ne.originalWidth)),Tt&&(Et.x*=2);let Xt=Math.abs(Ne.originalWidth+Et.x),Ut=Math.abs(Ne.originalHeight+Et.y);return(Xt/Ne.aspectRatio>Ut?"width":"height")=="width"?Ut=Xt/Ne.aspectRatio:Xt=Ut*Ne.aspectRatio,{width:Math.round(Xt),height:Math.round(Ut),widthPercents:Math.min(Math.round(Ne.originalWidthPercents/Ne.originalWidth*Xt*100)/100,100)}}_getResizeHost(){const be=this._domResizerWrapper.parentElement;return this._options.getResizeHost(be)}_getHandleHost(){const be=this._domResizerWrapper.parentElement;return this._options.getHandleHost(be)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(be){const Ne=["top-left","top-right","bottom-right","bottom-left"];for(const gt of Ne)be.appendChild(new C.YS({tag:"div",attributes:{class:"ck-widget__resizer__handle "+($e=gt,`ck-widget__resizer__handle-${$e}`)}}).render());var $e}_appendSizeUI(be){this._sizeView=new ft,this._sizeView.render(),be.appendChild(this._sizeView.element)}}var _t=a("./node_modules/lodash-es/throttle.js"),ri=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widgetresize.css"),ui={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_e()(ri.Z,ui),ri.Z.locals;class Ai extends d.Sy{static get pluginName(){return"WidgetResize"}init(){const be=this.editor.editing,Ne=I.CO.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),this._resizers=new Map,be.view.addObserver(S.dM),this._observer=new((0,I.Xu)()),this.listenTo(be.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(Ne,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(Ne,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=(0,_t.Z)(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[gt,Tt]of this._resizers)gt.isAttached()||(this._resizers.delete(gt),Tt.destroy())},{priority:"lowest"}),this._observer.listenTo(I.CO.window,"resize",this._redrawSelectedResizerThrottled);const $e=this.editor.editing.view.document.selection;$e.on("change",()=>{const gt=$e.getSelectedElement(),Tt=this.getResizerByViewElement(gt)||null;Tt?this.select(Tt):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const be of this._resizers.values())be.destroy();this._redrawSelectedResizerThrottled.cancel()}select(be){this.deselect(),this.selectedResizer=be,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(be){const Ne=new Yt(be),$e=this.editor.plugins;if(Ne.attach(),$e.has("WidgetToolbarRepository")){const Tt=$e.get("WidgetToolbarRepository");Ne.on("begin",()=>{Tt.forceDisabled("resize")},{priority:"lowest"}),Ne.on("cancel",()=>{Tt.clearForceDisabled("resize")},{priority:"highest"}),Ne.on("commit",()=>{Tt.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(be.viewElement,Ne);const gt=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(gt)==Ne&&this.select(Ne),Ne}getResizerByViewElement(be){return this._resizers.get(be)}_getResizerByHandle(be){for(const Ne of this._resizers.values())if(Ne.containsHandle(be))return Ne}_mouseDownListener(be,Ne){const $e=Ne.domTarget;Yt.isResizeHandle($e)&&(this._activeResizer=this._getResizerByHandle($e)||null,this._activeResizer&&(this._activeResizer.begin($e),be.stop(),Ne.preventDefault()))}_mouseMoveListener(be,Ne){this._activeResizer&&this._activeResizer.updateSize(Ne)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}},"./src/clipboard.js":(f,_,a)=>{"use strict";a.r(_),a.d(_,{Clipboard:()=>L,ClipboardPipeline:()=>pe,DragDrop:()=>r,PastePlainText:()=>z});var d=a("./packages/ckeditor5-core/src/index.ts"),S=a("./packages/ckeditor5-utils/src/index.ts"),U=a("./packages/ckeditor5-engine/src/index.ts");class I extends U.qZ{constructor(c){super(c);const D=this.document;function W(q){return(ae,Ie)=>{Ie.preventDefault();const Ve=Ie.dropRange?[Ie.dropRange]:null,_e=new S.M3(D,q);D.fire(_e,{dataTransfer:Ie.dataTransfer,method:ae.name,targetRanges:Ve,target:Ie.target}),_e.stop.called&&Ie.stopPropagation()}}this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"],this.listenTo(D,"paste",W("clipboardInput"),{priority:"low"}),this.listenTo(D,"drop",W("clipboardInput"),{priority:"low"}),this.listenTo(D,"dragover",W("dragging"),{priority:"low"})}onDomEvent(c){const D="clipboardData"in c?c.clipboardData:c.dataTransfer,W=c.type=="drop"||c.type=="paste",q={dataTransfer:new U.tn(D,{cacheFiles:W})};c.type!="drop"&&c.type!="dragover"||(q.dropRange=function(ae,Ie){const Ve=Ie.target.ownerDocument,_e=Ie.clientX,Me=Ie.clientY;let Qe;return Ve.caretRangeFromPoint&&Ve.caretRangeFromPoint(_e,Me)?Qe=Ve.caretRangeFromPoint(_e,Me):Ie.rangeParent&&(Qe=Ve.createRange(),Qe.setStart(Ie.rangeParent,Ie.rangeOffset),Qe.collapse(!0)),Qe?ae.domConverter.domRangeToView(Qe):null}(this.view,c)),this.fire(c.type,c,q)}}const C=["figcaption","li"];function ge(x){let c="";if(x.is("$text")||x.is("$textProxy"))c=x.data;else if(x.is("element","img")&&x.hasAttribute("alt"))c=x.getAttribute("alt");else if(x.is("element","br"))c=`
`;else{let D=null;for(const W of x.getChildren()){const q=ge(W);D&&(D.is("containerElement")||W.is("containerElement"))&&(C.includes(D.name)||C.includes(W.name)?c+=`
`:c+=`

`),c+=q,D=W}}return c}class pe extends d.Sy{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(I),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const c=this.editor,D=c.model,W=c.editing.view,q=W.document;this.listenTo(q,"clipboardInput",ae=>{c.isReadOnly&&ae.stop()},{priority:"highest"}),this.listenTo(q,"clipboardInput",(ae,Ie)=>{const Ve=Ie.dataTransfer;let _e;if(Ie.content)_e=Ie.content;else{let ut="";Ve.getData("text/html")?ut=function(rt){return rt.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(qe,et)=>et.length==1?" ":et).replace(/<!--[\s\S]*?-->/g,"")}(Ve.getData("text/html")):Ve.getData("text/plain")&&(((Me=(Me=Ve.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||Me.includes("<br>"))&&(Me=`<p>${Me}</p>`),ut=Me),_e=this.editor.data.htmlProcessor.toView(ut)}var Me;const Qe=new S.M3(this,"inputTransformation");this.fire(Qe,{content:_e,dataTransfer:Ve,targetRanges:Ie.targetRanges,method:Ie.method}),Qe.stop.called&&ae.stop(),W.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(ae,Ie)=>{if(Ie.content.isEmpty)return;const Ve=this.editor.data.toModel(Ie.content,"$clipboardHolder");Ve.childCount!=0&&(ae.stop(),D.change(()=>{this.fire("contentInsertion",{content:Ve,method:Ie.method,dataTransfer:Ie.dataTransfer,targetRanges:Ie.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(ae,Ie)=>{Ie.resultRange=D.insertContent(Ie.content)},{priority:"low"})}_setupCopyCut(){const c=this.editor,D=c.model.document,W=c.editing.view.document,q=(ae,Ie)=>{const Ve=Ie.dataTransfer;Ie.preventDefault();const _e=c.data.toView(c.model.getSelectedContent(D.selection));W.fire("clipboardOutput",{dataTransfer:Ve,content:_e,method:ae.name})};this.listenTo(W,"copy",q,{priority:"low"}),this.listenTo(W,"cut",(ae,Ie)=>{c.isReadOnly?Ie.preventDefault():q(ae,Ie)},{priority:"low"}),this.listenTo(W,"clipboardOutput",(ae,Ie)=>{Ie.content.isEmpty||(Ie.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(Ie.content)),Ie.dataTransfer.setData("text/plain",ge(Ie.content))),Ie.method=="cut"&&c.model.deleteContent(D.selection)},{priority:"low"})}}var me=a("./packages/ckeditor5-widget/src/index.ts"),J=a("./node_modules/lodash-es/throttle.js"),ee=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Z=a.n(ee),h=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-clipboard/theme/clipboard.css"),g={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(h.Z,g),h.Z.locals;class r extends d.Sy{static get pluginName(){return"DragDrop"}static get requires(){return[pe,me.$L]}init(){const c=this.editor,D=c.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=(0,J.Z)(W=>this._updateDropMarker(W),40),this._removeDropMarkerDelayed=v(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=v(()=>this._clearDraggableAttributes(),40),D.addObserver(I),D.addObserver(U.dM),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(c,"change:isReadOnly",(W,q,ae)=>{ae?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(W,q,ae)=>{ae||this._finalizeDragging(!1)}),S.OB.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const c=this.editor,D=c.model,W=D.document,q=c.editing.view,ae=q.document;this.listenTo(ae,"dragstart",(Ie,Ve)=>{const _e=W.selection;if(Ve.target&&Ve.target.is("editableElement"))return void Ve.preventDefault();const Me=Ve.target?T(Ve.target):null;if(Me){const rt=c.editing.mapper.toModelElement(Me);this._draggedRange=U.iE.fromRange(D.createRangeOn(rt)),c.plugins.has("WidgetToolbarRepository")&&c.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!ae.selection.isCollapsed){const rt=ae.selection.getSelectedElement();rt&&(0,me.Qd)(rt)||(this._draggedRange=U.iE.fromRange(_e.getFirstRange()))}if(!this._draggedRange)return void Ve.preventDefault();this._draggingUid=(0,S.hQ)(),Ve.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",Ve.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const Qe=D.createSelection(this._draggedRange.toRange()),ut=c.data.toView(D.getSelectedContent(Qe));ae.fire("clipboardOutput",{dataTransfer:Ve.dataTransfer,content:ut,method:"dragstart"}),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(ae,"dragend",(Ie,Ve)=>{this._finalizeDragging(!Ve.dataTransfer.isCanceled&&Ve.dataTransfer.dropEffect=="move")},{priority:"low"}),this.listenTo(ae,"dragenter",()=>{this.isEnabled&&q.focus()}),this.listenTo(ae,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(ae,"dragging",(Ie,Ve)=>{if(!this.isEnabled)return void(Ve.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();const _e=u(c,Ve.targetRanges,Ve.target);this._draggedRange||(Ve.dataTransfer.dropEffect="copy"),S.OB.isGecko||(Ve.dataTransfer.effectAllowed=="copy"?Ve.dataTransfer.dropEffect="copy":["all","copyMove"].includes(Ve.dataTransfer.effectAllowed)&&(Ve.dataTransfer.dropEffect="move")),_e&&this._updateDropMarkerThrottled(_e)},{priority:"low"})}_setupClipboardInputIntegration(){const c=this.editor,D=c.editing.view.document;this.listenTo(D,"clipboardInput",(W,q)=>{if(q.method!="drop")return;const ae=u(c,q.targetRanges,q.target);if(this._removeDropMarker(),!ae)return this._finalizeDragging(!1),void W.stop();if(this._draggedRange&&this._draggingUid!=q.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),w(q.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(ae,!0))return this._finalizeDragging(!1),void W.stop();q.targetRanges=[c.editing.mapper.toViewRange(ae)]},{priority:"high"})}_setupContentInsertionIntegration(){const c=this.editor.plugins.get(pe);c.on("contentInsertion",(D,W)=>{if(!this.isEnabled||W.method!=="drop")return;const q=W.targetRanges.map(ae=>this.editor.editing.mapper.toModelRange(ae));this.editor.model.change(ae=>ae.setSelection(q))},{priority:"high"}),c.on("contentInsertion",(D,W)=>{if(!this.isEnabled||W.method!=="drop")return;const q=w(W.dataTransfer)=="move",ae=!W.resultRange||!W.resultRange.isCollapsed;this._finalizeDragging(ae&&q)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const c=this.editor,D=c.editing.view,W=D.document;this.listenTo(W,"mousedown",(q,ae)=>{if(S.OB.isAndroid||!ae)return;this._clearDraggableAttributesDelayed.cancel();let Ie=T(ae.target);if(S.OB.isBlink&&!c.isReadOnly&&!Ie&&!W.selection.isCollapsed){const Ve=W.selection.getSelectedElement();Ve&&(0,me.Qd)(Ve)||(Ie=W.selection.editableElement)}Ie&&(D.change(Ve=>{Ve.setAttribute("draggable","true",Ie)}),this._draggableElement=c.editing.mapper.toModelElement(Ie))}),this.listenTo(W,"mouseup",()=>{S.OB.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const c=this.editor.editing;c.view.change(D=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&D.removeAttribute("draggable",c.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const c=this.editor;c.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),c.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(D,{writer:W})=>{if(c.model.schema.checkChild(D.markerRange.start,"$text"))return W.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(q){const ae=this.toDomElement(q);return ae.append("\u2060",q.createElement("span"),"\u2060"),ae})}})}_updateDropMarker(c){const D=this.editor,W=D.model.markers;D.model.change(q=>{W.has("drop-target")?W.get("drop-target").getRange().isEqual(c)||q.updateMarker("drop-target",{range:c}):q.addMarker("drop-target",{range:c,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const c=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),c.markers.has("drop-target")&&c.change(D=>{D.removeMarker("drop-target")})}_finalizeDragging(c){const D=this.editor,W=D.model;this._removeDropMarker(),this._clearDraggableAttributes(),D.plugins.has("WidgetToolbarRepository")&&D.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(c&&this.isEnabled&&W.deleteContent(W.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function u(x,c,D){const W=x.model,q=x.editing.mapper;let ae=null;const Ie=c?c[0].start:null;if(D.is("uiElement")&&(D=D.parent),ae=function(Me,Qe){const ut=Me.model,rt=Me.editing.mapper;if((0,me.Qd)(Qe))return ut.createRangeOn(rt.toModelElement(Qe));if(!Qe.is("editableElement")){const qe=Qe.findAncestor(et=>(0,me.Qd)(et)||et.is("editableElement"));if((0,me.Qd)(qe))return ut.createRangeOn(rt.toModelElement(qe))}return null}(x,D),ae)return ae;const Ve=function(Me,Qe){const ut=Me.editing.mapper,rt=Me.editing.view,qe=ut.toModelElement(Qe);if(qe)return qe;const et=rt.createPositionBefore(Qe),Bt=ut.findMappedViewAncestor(et);return ut.toModelElement(Bt)}(x,D),_e=Ie?q.toModelPosition(Ie):null;return _e?(ae=function(Me,Qe,ut){const rt=Me.model;if(!rt.schema.checkChild(ut,"$block"))return null;const qe=rt.createPositionAt(ut,0),et=Qe.path.slice(0,qe.path.length),Bt=rt.createPositionFromPath(Qe.root,et),Nt=Bt.nodeAfter;return Nt&&rt.schema.isObject(Nt)?rt.createRangeOn(Nt):null}(x,_e,Ve),ae||(ae=W.schema.getNearestSelectionRange(_e,S.OB.isGecko?"forward":"backward"),ae||function(Me,Qe){const ut=Me.model;let rt=Qe;for(;rt;){if(ut.schema.isObject(rt))return ut.createRangeOn(rt);rt=rt.parent}return null}(x,_e.parent))):function(Me,Qe){const ut=Me.model,rt=ut.schema,qe=ut.createPositionAt(Qe,0);return rt.getNearestSelectionRange(qe,"forward")}(x,Ve)}function w(x){return S.OB.isGecko?x.dropEffect:["all","copyMove"].includes(x.effectAllowed)?"move":"copy"}function v(x,c){let D;function W(...q){W.cancel(),D=setTimeout(()=>x(...q),c)}return W.cancel=()=>{clearTimeout(D)},W}function T(x){if(x.is("editableElement"))return null;if(x.hasClass("ck-widget__selection-handle"))return x.findAncestor(me.Qd);if((0,me.Qd)(x))return x;const c=x.findAncestor(D=>(0,me.Qd)(D)||D.is("editableElement"));return(0,me.Qd)(c)?c:null}class z extends d.Sy{static get pluginName(){return"PastePlainText"}static get requires(){return[pe]}init(){const c=this.editor,D=c.model,W=c.editing.view,q=W.document,ae=D.document.selection;let Ie=!1;W.addObserver(I),this.listenTo(q,"keydown",(Ve,_e)=>{Ie=_e.shiftKey}),c.plugins.get(pe).on("contentInsertion",(Ve,_e)=>{(Ie||function(Me,Qe){if(Me.childCount>1)return!1;const ut=Me.getChild(0);return Qe.isObject(ut)?!1:Array.from(ut.getAttributeKeys()).length==0}(_e.content,D.schema))&&D.change(Me=>{const Qe=Array.from(ae.getAttributes()).filter(([rt])=>D.schema.getAttributeProperties(rt).isFormatting);ae.isCollapsed||D.deleteContent(ae,{doNotAutoparagraph:!0}),Qe.push(...ae.getAttributes());const ut=Me.createRangeIn(_e.content);for(const rt of ut.getItems())rt.is("$textProxy")&&Me.setAttributes(Qe,rt)})})}}class L extends d.Sy{static get pluginName(){return"Clipboard"}static get requires(){return[pe,r,z]}}},"./src/core.js":(f,_,a)=>{"use strict";a.r(_),a.d(_,{Command:()=>d.mY,Context:()=>d._y,ContextPlugin:()=>d.eO,DataApiMixin:()=>d.W9,Editor:()=>d.ML,ElementApiMixin:()=>d.xK,MultiCommand:()=>d.AJ,PendingActions:()=>d.lR,Plugin:()=>d.Sy,attachToForm:()=>d.P$,icons:()=>d.ci,secureSourceElement:()=>d.Nu});var d=a("./packages/ckeditor5-core/src/index.ts")},"./src/engine.js":(f,_,a)=>{"use strict";a.r(_),a.d(_,{AttributeElement:()=>d.kW,BubblingEventInfo:()=>d.r7,ClickObserver:()=>d.KU,Conversion:()=>d.uz,DataController:()=>d.Yc,DataTransfer:()=>d.tn,DocumentFragment:()=>d.f4,DocumentSelection:()=>d.uj,DomConverter:()=>d.pG,DomEventData:()=>d.dK,DomEventObserver:()=>d.qZ,DowncastWriter:()=>d.qD,EditingController:()=>d.jH,Element:()=>d.W_,History:()=>d.Ay,HtmlDataProcessor:()=>d.X5,InsertOperation:()=>d.IZ,LivePosition:()=>d.jP,LiveRange:()=>d.iE,MarkerOperation:()=>d.zj,Matcher:()=>d.xO,Model:()=>d.Hn,MouseObserver:()=>d.dM,Observer:()=>d.Qj,OperationFactory:()=>d.Bz,Position:()=>d.Ly,Range:()=>d.e6,Renderer:()=>d.Th,StylesProcessor:()=>d.A_,TabObserver:()=>d.aY,Text:()=>d.xv,TreeWalker:()=>d.Po,UpcastWriter:()=>d.yj,View:()=>d.G7,ViewAttributeElement:()=>d.m1,ViewContainerElement:()=>d.By,ViewDocument:()=>d.Ux,ViewDocumentFragment:()=>d.y_,ViewEditableElement:()=>d.W2,ViewElement:()=>d.y9,ViewEmptyElement:()=>d.pc,ViewRawElement:()=>d.wx,ViewText:()=>d.Xj,ViewUIElement:()=>d.dq,addBackgroundRules:()=>d.QR,addBorderRules:()=>d.sI,addMarginRules:()=>d.vt,addPaddingRules:()=>d.J8,disablePlaceholder:()=>d.DA,enablePlaceholder:()=>d.ID,findOptimalInsertionRange:()=>d.KT,getBoxSidesShorthandValue:()=>d.I8,getBoxSidesValueReducer:()=>d.mq,getBoxSidesValues:()=>d.oz,getFillerOffset:()=>d.YG,getPositionShorthandNormalizer:()=>d.m0,getShorthandValues:()=>d.uT,hidePlaceholder:()=>d.$_,isAttachment:()=>d.SB,isColor:()=>d.D5,isLength:()=>d.G9,isLineStyle:()=>d.IT,isPercentage:()=>d.zz,isPosition:()=>d.WK,isRepeat:()=>d.Zb,isURL:()=>d.PX,needsPlaceholder:()=>d.Q7,showPlaceholder:()=>d.NJ,transformSets:()=>d.Rf});var d=a("./packages/ckeditor5-engine/src/index.ts")},"./src/enter.js":(f,_,a)=>{"use strict";a.r(_),a.d(_,{Enter:()=>d.C,ShiftEnter:()=>d.G});var d=a("./packages/ckeditor5-enter/src/index.ts")},"./src/paragraph.js":(f,_,a)=>{"use strict";a.r(_),a.d(_,{Paragraph:()=>ge,ParagraphButtonUI:()=>J});var d=a("./packages/ckeditor5-core/src/index.ts"),S=a("./packages/ckeditor5-utils/src/index.ts");class U extends d.mY{refresh(){const Z=this.editor.model,h=Z.document,g=(0,S.Ps)(h.selection.getSelectedBlocks());this.value=!!g&&g.is("element","paragraph"),this.isEnabled=!!g&&I(g,Z.schema)}execute(Z={}){const h=this.editor.model,g=h.document;h.change(r=>{const u=(Z.selection||g.selection).getSelectedBlocks();for(const w of u)!w.is("element","paragraph")&&I(w,h.schema)&&r.rename(w,"paragraph")})}}function I(ee,Z){return Z.checkChild(ee.parent,"paragraph")&&!Z.isObject(ee)}class C extends d.mY{execute(Z){const h=this.editor.model,g=Z.attributes;let r=Z.position;h.change(u=>{const w=u.createElement("paragraph");if(g&&h.schema.setAllowedAttributes(w,g,u),!h.schema.checkChild(r.parent,w)){const v=h.schema.findAllowedParent(r,w);if(!v)return;r=u.split(r,v).position}h.insertContent(w,r),u.setSelection(w,"in")})}}class ge extends d.Sy{static get pluginName(){return"Paragraph"}init(){const Z=this.editor,h=Z.model;Z.commands.add("paragraph",new U(Z)),Z.commands.add("insertParagraph",new C(Z)),h.schema.register("paragraph",{inheritAllFrom:"$block"}),Z.conversion.elementToElement({model:"paragraph",view:"p"}),Z.conversion.for("upcast").elementToElement({model:(g,{writer:r})=>ge.paragraphLikeElements.has(g.name)?g.isEmpty?null:r.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}}ge.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);var pe=a("./packages/ckeditor5-ui/src/index.ts");const me=d.ci.paragraph;class J extends d.Sy{static get requires(){return[ge]}init(){const Z=this.editor,h=Z.t;Z.ui.componentFactory.add("paragraph",g=>{const r=new pe.r5(g),u=Z.commands.get("paragraph");return r.label=h("Paragraph"),r.icon=me,r.tooltip=!0,r.isToggleable=!0,r.bind("isEnabled").to(u),r.bind("isOn").to(u,"value"),r.on("execute",()=>{Z.execute("paragraph")}),r})}}},"./src/select-all.js":(f,_,a)=>{"use strict";a.r(_),a.d(_,{SelectAll:()=>J,SelectAllEditing:()=>ge,SelectAllUI:()=>me});var d=a("./packages/ckeditor5-core/src/index.ts"),S=a("./packages/ckeditor5-utils/src/index.ts");class U extends d.mY{constructor(Z){super(Z),this.affectsData=!1}execute(){const Z=this.editor.model,h=Z.document.selection;let g=Z.schema.getLimitElement(h);if(h.containsEntireContent(g)||!I(Z.schema,g))do if(g=g.parent,!g)return;while(!I(Z.schema,g));Z.change(r=>{r.setSelection(g,"in")})}}function I(ee,Z){return ee.isLimit(Z)&&(ee.checkChild(Z,"$text")||ee.checkChild(Z,"paragraph"))}const C=(0,S.Zz)("Ctrl+A");class ge extends d.Sy{static get pluginName(){return"SelectAllEditing"}init(){const Z=this.editor,h=Z.editing.view.document;Z.commands.add("selectAll",new U(Z)),this.listenTo(h,"keydown",(g,r)=>{(0,S.Cq)(r)===C&&(Z.execute("selectAll"),r.preventDefault())})}}var pe=a("./packages/ckeditor5-ui/src/index.ts");class me extends d.Sy{static get pluginName(){return"SelectAllUI"}init(){const Z=this.editor;Z.ui.componentFactory.add("selectAll",h=>{const g=Z.commands.get("selectAll"),r=new pe.r5(h),u=h.t;return r.set({label:u("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),r.bind("isEnabled").to(g,"isEnabled"),this.listenTo(r,"execute",()=>{Z.execute("selectAll"),Z.editing.view.focus()}),r})}}class J extends d.Sy{static get requires(){return[ge,me]}static get pluginName(){return"SelectAll"}}},"./src/typing.js":(f,_,a)=>{"use strict";a.r(_),a.d(_,{Delete:()=>d.HG,Input:()=>d.II,TextTransformation:()=>d.cL,TextWatcher:()=>d.uL,TwoStepCaretMovement:()=>d.mh,Typing:()=>d.Mq,findAttributeRange:()=>d.VD,getLastTextLine:()=>d.Up,inlineHighlight:()=>d.Im});var d=a("./packages/ckeditor5-typing/src/index.ts")},"./src/ui.js":(f,_,a)=>{"use strict";a.r(_),a.d(_,{BalloonPanelView:()=>d.no,BalloonToolbar:()=>d.Jf,BlockToolbar:()=>d.ee,BodyCollection:()=>d.BK,BoxedEditorUIView:()=>d.py,ButtonView:()=>d.r5,ColorGridView:()=>d.J6,ColorTileView:()=>d._9,ComponentFactory:()=>d._Y,ContextualBalloon:()=>d.WB,DropdownButtonView:()=>d.J0,DropdownView:()=>d._n,EditorUI:()=>d.S8,EditorUIView:()=>d.fF,FocusCycler:()=>d.I0,FormHeaderView:()=>d.Gp,IconView:()=>d.mO,IframeView:()=>d.VY,InlineEditableUIView:()=>d.r1,InputNumberView:()=>d.Xs,InputTextView:()=>d.pq,InputView:()=>d.Em,LabelView:()=>d.Dn,LabeledFieldView:()=>d.KP,ListItemView:()=>d.dn,ListView:()=>d.Bv,Model:()=>d.Hn,Notification:()=>d.P_,SplitButtonView:()=>d.Rm,StickyPanelView:()=>d.lp,SwitchButtonView:()=>d.BM,Template:()=>d.YS,ToolbarSeparatorView:()=>d.$y,ToolbarView:()=>d.jB,TooltipManager:()=>d.gE,View:()=>d.G7,ViewCollection:()=>d.vX,addKeyboardHandlingForGrid:()=>d.IJ,addListToDropdown:()=>d.Pm,addToolbarToDropdown:()=>d.up,clickOutsideHandler:()=>d.eC,createDropdown:()=>d.t9,createLabeledDropdown:()=>d.FH,createLabeledInputNumber:()=>d.sh,createLabeledInputText:()=>d.R,focusChildOnDropdownOpen:()=>d.Mh,getLocalizedColorOptions:()=>d.k6,injectCssTransitionDisabler:()=>d.fe,normalizeColorOptions:()=>d.S1,normalizeSingleColorDefinition:()=>d.jY,normalizeToolbarConfig:()=>d.iw,submitHandler:()=>d.GI});var d=a("./packages/ckeditor5-ui/src/index.ts")},"./src/undo.js":(f,_,a)=>{"use strict";a.r(_),a.d(_,{Undo:()=>g,UndoEditing:()=>me,UndoUi:()=>h});var d=a("./packages/ckeditor5-core/src/index.ts"),S=a("./packages/ckeditor5-engine/src/index.ts");class U extends d.mY{constructor(u){super(u),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this.listenTo(u.data,"set",(w,v)=>{v[1]={...v[1]};const T=v[1];T.batchType||(T.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(u.data,"set",(w,v)=>{v[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}addBatch(u){const w=this.editor.model.document.selection,v={ranges:w.hasOwnRange?Array.from(w.getRanges()):[],isBackward:w.isBackward};this._stack.push({batch:u,selection:v}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(u,w,v){const T=this.editor.model,z=T.document,L=[],x=u.map(D=>D.getTransformedByOperations(v)),c=x.flat();for(const D of x){const W=D.filter(q=>q.root!=z.graveyard).filter(q=>!C(q,c));W.length&&(I(W),L.push(W[0]))}L.length&&T.change(D=>{D.setSelection(L,{backward:w})})}_undo(u,w){const v=this.editor.model,T=v.document;this._createdBatches.add(w);const z=u.operations.slice().filter(L=>L.isDocumentOperation);z.reverse();for(const L of z){const x=L.baseVersion+1,c=Array.from(T.history.getOperations(x)),D=(0,S.Rf)([L.getReversed()],c,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const W of D)w.addOperation(W),v.applyOperation(W),T.history.setOperationAsUndone(L,W)}}}function I(r){r.sort((u,w)=>u.start.isBefore(w.start)?-1:1);for(let u=1;u<r.length;u++){const w=r[u-1].getJoined(r[u],!0);w&&(u--,r.splice(u,2,w))}}function C(r,u){return u.some(w=>w!==r&&w.containsRange(r,!0))}class ge extends U{execute(u=null){const w=u?this._stack.findIndex(z=>z.batch==u):this._stack.length-1,v=this._stack.splice(w,1)[0],T=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(T,()=>{this._undo(v.batch,T);const z=this.editor.model.document.history.getOperations(v.batch.baseVersion);this._restoreSelection(v.selection.ranges,v.selection.isBackward,z),this.fire("revert",v.batch,T)}),this.refresh()}}class pe extends U{execute(){const u=this._stack.pop(),w=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(w,()=>{const v=u.batch.operations[u.batch.operations.length-1].baseVersion+1,T=this.editor.model.document.history.getOperations(v);this._restoreSelection(u.selection.ranges,u.selection.isBackward,T),this._undo(u.batch,w)}),this.refresh()}}class me extends d.Sy{static get pluginName(){return"UndoEditing"}constructor(u){super(u),this._batchRegistry=new WeakSet}init(){const u=this.editor;this._undoCommand=new ge(u),this._redoCommand=new pe(u),u.commands.add("undo",this._undoCommand),u.commands.add("redo",this._redoCommand),this.listenTo(u.model,"applyOperation",(w,v)=>{const T=v[0];if(!T.isDocumentOperation)return;const z=T.batch,L=this._redoCommand._createdBatches.has(z),x=this._undoCommand._createdBatches.has(z);this._batchRegistry.has(z)||(this._batchRegistry.add(z),z.isUndoable&&(L?this._undoCommand.addBatch(z):x||(this._undoCommand.addBatch(z),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(w,v,T)=>{this._redoCommand.addBatch(T)}),u.keystrokes.set("CTRL+Z","undo"),u.keystrokes.set("CTRL+Y","redo"),u.keystrokes.set("CTRL+SHIFT+Z","redo")}}var J=a("./packages/ckeditor5-ui/src/index.ts");const ee='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',Z='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class h extends d.Sy{static get pluginName(){return"UndoUI"}init(){const u=this.editor,w=u.locale,v=u.t,T=w.uiLanguageDirection=="ltr"?ee:Z,z=w.uiLanguageDirection=="ltr"?Z:ee;this._addButton("undo",v("Undo"),"CTRL+Z",T),this._addButton("redo",v("Redo"),"CTRL+Y",z)}_addButton(u,w,v,T){const z=this.editor;z.ui.componentFactory.add(u,L=>{const x=z.commands.get(u),c=new J.r5(L);return c.set({label:w,icon:T,keystroke:v,tooltip:!0}),c.bind("isEnabled").to(x,"isEnabled"),this.listenTo(c,"execute",()=>{z.execute(u),z.editing.view.focus()}),c})}}class g extends d.Sy{static get requires(){return[me,h]}static get pluginName(){return"Undo"}}},"./src/upload.js":(f,_,a)=>{"use strict";a.r(_),a.d(_,{Base64UploadAdapter:()=>J,FileDialogButtonView:()=>pe,FileRepository:()=>I,SimpleUploadAdapter:()=>Z});var d=a("./packages/ckeditor5-core/src/index.ts"),S=a("./packages/ckeditor5-utils/src/index.ts");class U extends(0,S.Re)(){constructor(){super();const r=new window.FileReader;this._reader=r,this._data=void 0,this.set("loaded",0),r.onprogress=u=>{this.loaded=u.loaded}}get error(){return this._reader.error}get data(){return this._data}read(r){const u=this._reader;return this.total=r.size,new Promise((w,v)=>{u.onload=()=>{const T=u.result;this._data=T,w(T)},u.onerror=()=>{v("error")},u.onabort=()=>{v("aborted")},this._reader.readAsDataURL(r)})}abort(){this._reader.abort()}}class I extends d.Sy{static get pluginName(){return"FileRepository"}static get requires(){return[d.lR]}init(){this.loaders=new S.FE,this.loaders.on("change",()=>this._updatePendingAction()),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(r,u)=>u?r/u*100:0)}getLoader(r){return this._loadersMap.get(r)||null}createLoader(r){if(!this.createUploadAdapter)return(0,S.KE)("filerepository-no-upload-adapter"),null;const u=new C(Promise.resolve(r),this.createUploadAdapter);return this.loaders.add(u),this._loadersMap.set(r,u),r instanceof Promise&&u.file.then(w=>{this._loadersMap.set(w,u)}).catch(()=>{}),u.on("change:uploaded",()=>{let w=0;for(const v of this.loaders)w+=v.uploaded;this.uploaded=w}),u.on("change:uploadTotal",()=>{let w=0;for(const v of this.loaders)v.uploadTotal&&(w+=v.uploadTotal);this.uploadTotal=w}),u}destroyLoader(r){const u=r instanceof C?r:this.getLoader(r);u._destroy(),this.loaders.remove(u),this._loadersMap.forEach((w,v)=>{w===u&&this._loadersMap.delete(v)})}_updatePendingAction(){const r=this.editor.plugins.get(d.lR);if(this.loaders.length){if(!this._pendingAction){const u=this.editor.t,w=v=>`${u("Upload in progress")} ${parseInt(v)}%.`;this._pendingAction=r.add(w(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",w)}}else r.remove(this._pendingAction),this._pendingAction=null}}class C extends(0,S.Re)(){constructor(r,u){super(),this.id=(0,S.hQ)(),this._filePromiseWrapper=this._createFilePromiseWrapper(r),this._adapter=u(this),this._reader=new U,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(w,v)=>v?w/v*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(r=>this._filePromiseWrapper?r:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new S.Bb("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(r=>this._reader.read(r)).then(r=>{if(this.status!=="reading")throw this.status;return this.status="idle",r}).catch(r=>{throw r==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:r)})}upload(){if(this.status!="idle")throw new S.Bb("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(r=>(this.uploadResponse=r,this.status="idle",r)).catch(r=>{throw this.status==="aborted"?"aborted":(this.status="error",r)})}abort(){const r=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?r=="reading"?this._reader.abort():r=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(r){const u={};return u.promise=new Promise((w,v)=>{u.rejecter=v,u.isFulfilled=!1,r.then(T=>{u.isFulfilled=!0,w(T)}).catch(T=>{u.isFulfilled=!0,v(T)})}),u}}var ge=a("./packages/ckeditor5-ui/src/index.ts");class pe extends ge.G7{constructor(r){super(r),this.buttonView=new ge.r5(r),this._fileInputView=new me(r),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class me extends ge.G7{constructor(r){super(r),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const u=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:u.to("acceptedType"),multiple:u.to("allowMultipleFiles")},on:{change:u.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}class J extends d.Sy{static get requires(){return[I]}static get pluginName(){return"Base64UploadAdapter"}init(){this.editor.plugins.get(I).createUploadAdapter=r=>new ee(r)}}class ee{constructor(r){this.loader=r}upload(){return new Promise((r,u)=>{const w=this.reader=new window.FileReader;w.addEventListener("load",()=>{r({default:w.result})}),w.addEventListener("error",v=>{u(v)}),w.addEventListener("abort",()=>{u()}),this.loader.file.then(v=>{w.readAsDataURL(v)})})}abort(){this.reader.abort()}}class Z extends d.Sy{static get requires(){return[I]}static get pluginName(){return"SimpleUploadAdapter"}init(){const r=this.editor.config.get("simpleUpload");r&&(r.uploadUrl?this.editor.plugins.get(I).createUploadAdapter=u=>new h(u,r):(0,S.KE)("simple-upload-adapter-missing-uploadurl"))}}class h{constructor(r,u){this.loader=r,this.options=u}upload(){return this.loader.file.then(r=>new Promise((u,w)=>{this._initRequest(),this._initListeners(u,w,r),this._sendRequest(r)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const r=this.xhr=new XMLHttpRequest;r.open("POST",this.options.uploadUrl,!0),r.responseType="json"}_initListeners(r,u,w){const v=this.xhr,T=this.loader,z=`Couldn't upload file: ${w.name}.`;v.addEventListener("error",()=>u(z)),v.addEventListener("abort",()=>u()),v.addEventListener("load",()=>{const L=v.response;if(!L||L.error)return u(L&&L.error&&L.error.message?L.error.message:z);const x=L.url?{default:L.url}:L.urls;r({...L,urls:x})}),v.upload&&v.upload.addEventListener("progress",L=>{L.lengthComputable&&(T.uploadTotal=L.total,T.uploaded=L.loaded)})}_sendRequest(r){const u=this.options.headers||{},w=this.options.withCredentials||!1;for(const T of Object.keys(u))this.xhr.setRequestHeader(T,u[T]);this.xhr.withCredentials=w;const v=new FormData;v.append("upload",r),this.xhr.send(v)}}},"./src/utils.js":(f,_,a)=>{"use strict";a.r(_),a.d(_,{CKEditorError:()=>d.Bb,Collection:()=>d.FE,Config:()=>d.De,DomEmitterMixin:()=>d.Xu,ElementReplacer:()=>d.a6,EmitterMixin:()=>d.ln,EventInfo:()=>d.M3,FocusTracker:()=>d.Rh,KeystrokeHandler:()=>d.VD,Locale:()=>d.go,ObservableMixin:()=>d.Re,Rect:()=>d.UL,ResizeObserver:()=>d.do,compareArrays:()=>d.Rt,count:()=>d.QX,createElement:()=>d.az,diff:()=>d.Hg,env:()=>d.OB,fastDiff:()=>d.HZ,findClosestScrollableAncestor:()=>d.wm,first:()=>d.Ps,getAncestors:()=>d.dk,getCode:()=>d.Cq,getDataFromElement:()=>d.yy,getEnvKeystrokeText:()=>d.XU,getLanguageDirection:()=>d.j9,getLocalizedArrowKeyCodeDirection:()=>d.mA,getOptimalPosition:()=>d.xZ,global:()=>d.CO,indexOf:()=>d.cq,insertAt:()=>d.ZQ,insertToPriorityArray:()=>d.VG,isArrowKeyCode:()=>d.dj,isCombiningMark:()=>d.tO,isComment:()=>d.C3,isForwardArrowKeyCode:()=>d.Zt,isHighSurrogateHalf:()=>d.Cb,isInsideCombinedSymbol:()=>d.pp,isInsideEmojiSequence:()=>d.YK,isInsideSurrogatePair:()=>d.to,isIterable:()=>d.TW,isLowSurrogateHalf:()=>d.nA,isNode:()=>d.UG,isRange:()=>d.bR,isText:()=>d.Gs,isVisible:()=>d.pn,keyCodes:()=>d.Do,logError:()=>d.H,logWarning:()=>d.KE,mix:()=>d.CD,parseKeystroke:()=>d.Zz,priorities:()=>d.tA,remove:()=>d.Od,scrollAncestorsToShowTarget:()=>d.F0,scrollViewportToShowTarget:()=>d.mR,setDataInElement:()=>d.jS,spliceArray:()=>d.x,toArray:()=>d.qo,toMap:()=>d.qL,toUnit:()=>d.nn,uid:()=>d.hQ,version:()=>d.i8});var d=a("./packages/ckeditor5-utils/src/index.ts")},"./src/widget.js":(f,_,a)=>{"use strict";a.r(_),a.d(_,{WIDGET_CLASS_NAME:()=>d.s4,WIDGET_SELECTED_CLASS_NAME:()=>d.Uo,Widget:()=>d.$L,WidgetResize:()=>d.WR,WidgetToolbarRepository:()=>d.e8,WidgetTypeAround:()=>d.Ww,findOptimalInsertionRange:()=>d.KT,getLabel:()=>d.id,isWidget:()=>d.Qd,setHighlightHandling:()=>d.em,setLabel:()=>d.l6,toWidget:()=>d.XC,toWidgetEditable:()=>d.sC,viewToModelPositionOutsideModelElement:()=>d.$n});var d=a("./packages/ckeditor5-widget/src/index.ts")},"?7cdd":(f,_,a)=>{f.exports=a},"./node_modules/lodash-es/_ListCache.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>ee});const d=function(){this.__data__=[],this.size=0};var S=a("./node_modules/lodash-es/eq.js");const U=function(Z,h){for(var g=Z.length;g--;)if((0,S.Z)(Z[g][0],h))return g;return-1};var I=Array.prototype.splice;const C=function(Z){var h=this.__data__,g=U(h,Z);return!(g<0)&&(g==h.length-1?h.pop():I.call(h,g,1),--this.size,!0)},ge=function(Z){var h=this.__data__,g=U(h,Z);return g<0?void 0:h[g][1]},pe=function(Z){return U(this.__data__,Z)>-1},me=function(Z,h){var g=this.__data__,r=U(g,Z);return r<0?(++this.size,g.push([Z,h])):g[r][1]=h,this};function J(Z){var h=-1,g=Z==null?0:Z.length;for(this.clear();++h<g;){var r=Z[h];this.set(r[0],r[1])}}J.prototype.clear=d,J.prototype.delete=C,J.prototype.get=ge,J.prototype.has=pe,J.prototype.set=me;const ee=J},"./node_modules/lodash-es/_Map.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/lodash-es/_getNative.js"),S=a("./node_modules/lodash-es/_root.js");const U=(0,d.Z)(S.Z,"Map")},"./node_modules/lodash-es/_MapCache.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>D});const d=(0,a("./node_modules/lodash-es/_getNative.js").Z)(Object,"create"),S=function(){this.__data__=d?d(null):{},this.size=0},U=function(W){var q=this.has(W)&&delete this.__data__[W];return this.size-=q?1:0,q};var I="__lodash_hash_undefined__",C=Object.prototype.hasOwnProperty;const ge=function(W){var q=this.__data__;if(d){var ae=q[W];return ae===I?void 0:ae}return C.call(q,W)?q[W]:void 0};var pe=Object.prototype.hasOwnProperty;const me=function(W){var q=this.__data__;return d?q[W]!==void 0:pe.call(q,W)};var J="__lodash_hash_undefined__";const ee=function(W,q){var ae=this.__data__;return this.size+=this.has(W)?0:1,ae[W]=d&&q===void 0?J:q,this};function Z(W){var q=-1,ae=W==null?0:W.length;for(this.clear();++q<ae;){var Ie=W[q];this.set(Ie[0],Ie[1])}}Z.prototype.clear=S,Z.prototype.delete=U,Z.prototype.get=ge,Z.prototype.has=me,Z.prototype.set=ee;const h=Z;var g=a("./node_modules/lodash-es/_ListCache.js"),r=a("./node_modules/lodash-es/_Map.js");const u=function(){this.size=0,this.__data__={hash:new h,map:new(r.Z||g.Z),string:new h}},w=function(W){var q=typeof W;return q=="string"||q=="number"||q=="symbol"||q=="boolean"?W!=="__proto__":W===null},v=function(W,q){var ae=W.__data__;return w(q)?ae[typeof q=="string"?"string":"hash"]:ae.map},T=function(W){var q=v(this,W).delete(W);return this.size-=q?1:0,q},z=function(W){return v(this,W).get(W)},L=function(W){return v(this,W).has(W)},x=function(W,q){var ae=v(this,W),Ie=ae.size;return ae.set(W,q),this.size+=ae.size==Ie?0:1,this};function c(W){var q=-1,ae=W==null?0:W.length;for(this.clear();++q<ae;){var Ie=W[q];this.set(Ie[0],Ie[1])}}c.prototype.clear=u,c.prototype.delete=T,c.prototype.get=z,c.prototype.has=L,c.prototype.set=x;const D=c},"./node_modules/lodash-es/_Stack.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>Z});var d=a("./node_modules/lodash-es/_ListCache.js");const S=function(){this.__data__=new d.Z,this.size=0},U=function(h){var g=this.__data__,r=g.delete(h);return this.size=g.size,r},I=function(h){return this.__data__.get(h)},C=function(h){return this.__data__.has(h)};var ge=a("./node_modules/lodash-es/_Map.js"),pe=a("./node_modules/lodash-es/_MapCache.js"),me=200;const J=function(h,g){var r=this.__data__;if(r instanceof d.Z){var u=r.__data__;if(!ge.Z||u.length<me-1)return u.push([h,g]),this.size=++r.size,this;r=this.__data__=new pe.Z(u)}return r.set(h,g),this.size=r.size,this};function ee(h){var g=this.__data__=new d.Z(h);this.size=g.size}ee.prototype.clear=S,ee.prototype.delete=U,ee.prototype.get=I,ee.prototype.has=C,ee.prototype.set=J;const Z=ee},"./node_modules/lodash-es/_Symbol.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>d});const d=a("./node_modules/lodash-es/_root.js").Z.Symbol},"./node_modules/lodash-es/_Uint8Array.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>d});const d=a("./node_modules/lodash-es/_root.js").Z.Uint8Array},"./node_modules/lodash-es/_arrayLikeKeys.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>me});const d=function(J,ee){for(var Z=-1,h=Array(J);++Z<J;)h[Z]=ee(Z);return h};var S=a("./node_modules/lodash-es/isArguments.js"),U=a("./node_modules/lodash-es/isArray.js"),I=a("./node_modules/lodash-es/isBuffer.js"),C=a("./node_modules/lodash-es/_isIndex.js"),ge=a("./node_modules/lodash-es/isTypedArray.js"),pe=Object.prototype.hasOwnProperty;const me=function(J,ee){var Z=(0,U.Z)(J),h=!Z&&(0,S.Z)(J),g=!Z&&!h&&(0,I.Z)(J),r=!Z&&!h&&!g&&(0,ge.Z)(J),u=Z||h||g||r,w=u?d(J.length,String):[],v=w.length;for(var T in J)!ee&&!pe.call(J,T)||u&&(T=="length"||g&&(T=="offset"||T=="parent")||r&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||(0,C.Z)(T,v))||w.push(T);return w}},"./node_modules/lodash-es/_arrayPush.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>d});const d=function(S,U){for(var I=-1,C=U.length,ge=S.length;++I<C;)S[ge+I]=U[I];return S}},"./node_modules/lodash-es/_assignValue.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>I});var d=a("./node_modules/lodash-es/_baseAssignValue.js"),S=a("./node_modules/lodash-es/eq.js"),U=Object.prototype.hasOwnProperty;const I=function(C,ge,pe){var me=C[ge];U.call(C,ge)&&(0,S.Z)(me,pe)&&(pe!==void 0||ge in C)||(0,d.Z)(C,ge,pe)}},"./node_modules/lodash-es/_baseAssignValue.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>S});var d=a("./node_modules/lodash-es/_defineProperty.js");const S=function(U,I,C){I=="__proto__"&&d.Z?(0,d.Z)(U,I,{configurable:!0,enumerable:!0,value:C,writable:!0}):U[I]=C}},"./node_modules/lodash-es/_baseClone.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>pn});var d=a("./node_modules/lodash-es/_Stack.js");const S=function(fi,pi){for(var qi=-1,ke=fi==null?0:fi.length;++qi<ke&&pi(fi[qi],qi,fi)!==!1;);return fi};var U=a("./node_modules/lodash-es/_assignValue.js"),I=a("./node_modules/lodash-es/_copyObject.js"),C=a("./node_modules/lodash-es/keys.js");const ge=function(fi,pi){return fi&&(0,I.Z)(pi,(0,C.Z)(pi),fi)};var pe=a("./node_modules/lodash-es/keysIn.js");const me=function(fi,pi){return fi&&(0,I.Z)(pi,(0,pe.Z)(pi),fi)};var J=a("./node_modules/lodash-es/_cloneBuffer.js"),ee=a("./node_modules/lodash-es/_copyArray.js"),Z=a("./node_modules/lodash-es/_getSymbols.js");const h=function(fi,pi){return(0,I.Z)(fi,(0,Z.Z)(fi),pi)};var g=a("./node_modules/lodash-es/_arrayPush.js"),r=a("./node_modules/lodash-es/_getPrototype.js"),u=a("./node_modules/lodash-es/stubArray.js");const w=Object.getOwnPropertySymbols?function(fi){for(var pi=[];fi;)(0,g.Z)(pi,(0,Z.Z)(fi)),fi=(0,r.Z)(fi);return pi}:u.Z,v=function(fi,pi){return(0,I.Z)(fi,w(fi),pi)};var T=a("./node_modules/lodash-es/_getAllKeys.js"),z=a("./node_modules/lodash-es/_baseGetAllKeys.js");const L=function(fi){return(0,z.Z)(fi,pe.Z,w)};var x=a("./node_modules/lodash-es/_getTag.js"),c=Object.prototype.hasOwnProperty;const D=function(fi){var pi=fi.length,qi=new fi.constructor(pi);return pi&&typeof fi[0]=="string"&&c.call(fi,"index")&&(qi.index=fi.index,qi.input=fi.input),qi};var W=a("./node_modules/lodash-es/_cloneArrayBuffer.js");const q=function(fi,pi){var qi=pi?(0,W.Z)(fi.buffer):fi.buffer;return new fi.constructor(qi,fi.byteOffset,fi.byteLength)};var ae=/\w*$/;const Ie=function(fi){var pi=new fi.constructor(fi.source,ae.exec(fi));return pi.lastIndex=fi.lastIndex,pi};var Ve=a("./node_modules/lodash-es/_Symbol.js"),_e=Ve.Z?Ve.Z.prototype:void 0,Me=_e?_e.valueOf:void 0;const Qe=function(fi){return Me?Object(Me.call(fi)):{}};var ut=a("./node_modules/lodash-es/_cloneTypedArray.js"),rt="[object Boolean]",qe="[object Date]",et="[object Map]",Bt="[object Number]",Nt="[object RegExp]",xt="[object Set]",tt="[object String]",Dt="[object Symbol]",ye="[object ArrayBuffer]",Se="[object DataView]",Ke="[object Float32Array]",kt="[object Float64Array]",Lt="[object Int8Array]",Gt="[object Int16Array]",$t="[object Int32Array]",ft="[object Uint8Array]",Yt="[object Uint8ClampedArray]",_t="[object Uint16Array]",ri="[object Uint32Array]";const ui=function(fi,pi,qi){var ke=fi.constructor;switch(pi){case ye:return(0,W.Z)(fi);case rt:case qe:return new ke(+fi);case Se:return q(fi,qi);case Ke:case kt:case Lt:case Gt:case $t:case ft:case Yt:case _t:case ri:return(0,ut.Z)(fi,qi);case et:return new ke;case Bt:case tt:return new ke(fi);case Nt:return Ie(fi);case xt:return new ke;case Dt:return Qe(fi)}};var Ai=a("./node_modules/lodash-es/_initCloneObject.js"),bt=a("./node_modules/lodash-es/isArray.js"),be=a("./node_modules/lodash-es/isBuffer.js"),Ne=a("./node_modules/lodash-es/isObjectLike.js"),$e="[object Map]";const gt=function(fi){return(0,Ne.Z)(fi)&&(0,x.Z)(fi)==$e};var Tt=a("./node_modules/lodash-es/_baseUnary.js"),Et=a("./node_modules/lodash-es/_nodeUtil.js"),Xt=Et.Z&&Et.Z.isMap;const Ut=Xt?(0,Tt.Z)(Xt):gt;var ni=a("./node_modules/lodash-es/isObject.js"),wi="[object Set]";const gi=function(fi){return(0,Ne.Z)(fi)&&(0,x.Z)(fi)==wi};var Ti=Et.Z&&Et.Z.isSet;const Rt=Ti?(0,Tt.Z)(Ti):gi;var Ii=1,Mi=2,Qi=4,Fi="[object Arguments]",Vi="[object Function]",Ji="[object GeneratorFunction]",cn="[object Object]",Ri={};Ri[Fi]=Ri["[object Array]"]=Ri["[object ArrayBuffer]"]=Ri["[object DataView]"]=Ri["[object Boolean]"]=Ri["[object Date]"]=Ri["[object Float32Array]"]=Ri["[object Float64Array]"]=Ri["[object Int8Array]"]=Ri["[object Int16Array]"]=Ri["[object Int32Array]"]=Ri["[object Map]"]=Ri["[object Number]"]=Ri[cn]=Ri["[object RegExp]"]=Ri["[object Set]"]=Ri["[object String]"]=Ri["[object Symbol]"]=Ri["[object Uint8Array]"]=Ri["[object Uint8ClampedArray]"]=Ri["[object Uint16Array]"]=Ri["[object Uint32Array]"]=!0,Ri["[object Error]"]=Ri[Vi]=Ri["[object WeakMap]"]=!1;const pn=function fi(pi,qi,ke,V,F,P){var N,de=qi&Ii,Ce=qi&Mi,Ze=qi&Qi;if(ke&&(N=F?ke(pi,V,F,P):ke(pi)),N!==void 0)return N;if(!(0,ni.Z)(pi))return pi;var st=(0,bt.Z)(pi);if(st){if(N=D(pi),!de)return(0,ee.Z)(pi,N)}else{var Ct=(0,x.Z)(pi),Ge=Ct==Vi||Ct==Ji;if((0,be.Z)(pi))return(0,J.Z)(pi,de);if(Ct==cn||Ct==Fi||Ge&&!F){if(N=Ce||Ge?{}:(0,Ai.Z)(pi),!de)return Ce?v(pi,me(N,pi)):h(pi,ge(N,pi))}else{if(!Ri[Ct])return F?pi:{};N=ui(pi,Ct,de)}}P||(P=new d.Z);var Ft=P.get(pi);if(Ft)return Ft;P.set(pi,N),Rt(pi)?pi.forEach(function(Oi){N.add(fi(Oi,qi,ke,Oi,pi,P))}):Ut(pi)&&pi.forEach(function(Oi,Ei){N.set(Ei,fi(Oi,qi,ke,Ei,pi,P))});var ci=Ze?Ce?L:T.Z:Ce?pe.Z:C.Z,yi=st?void 0:ci(pi);return S(yi||pi,function(Oi,Ei){yi&&(Oi=pi[Ei=Oi]),(0,U.Z)(N,Ei,fi(Oi,qi,ke,Ei,pi,P))}),N}},"./node_modules/lodash-es/_baseGetAllKeys.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/lodash-es/_arrayPush.js"),S=a("./node_modules/lodash-es/isArray.js");const U=function(I,C,ge){var pe=C(I);return(0,S.Z)(I)?pe:(0,d.Z)(pe,ge(I))}},"./node_modules/lodash-es/_baseGetTag.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>h});var d=a("./node_modules/lodash-es/_Symbol.js"),S=Object.prototype,U=S.hasOwnProperty,I=S.toString,C=d.Z?d.Z.toStringTag:void 0;const ge=function(g){var r=U.call(g,C),u=g[C];try{g[C]=void 0;var w=!0}catch{}var v=I.call(g);return w&&(r?g[C]=u:delete g[C]),v};var pe=Object.prototype.toString;const me=function(g){return pe.call(g)};var J="[object Null]",ee="[object Undefined]",Z=d.Z?d.Z.toStringTag:void 0;const h=function(g){return g==null?g===void 0?ee:J:Z&&Z in Object(g)?ge(g):me(g)}},"./node_modules/lodash-es/_baseUnary.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>d});const d=function(S){return function(U){return S(U)}}},"./node_modules/lodash-es/_cloneArrayBuffer.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>S});var d=a("./node_modules/lodash-es/_Uint8Array.js");const S=function(U){var I=new U.constructor(U.byteLength);return new d.Z(I).set(new d.Z(U)),I}},"./node_modules/lodash-es/_cloneBuffer.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>ge});var d=a("./node_modules/lodash-es/_root.js"),S=Kt&&!Kt.nodeType&&Kt,U=S&&!0&&ti&&!ti.nodeType&&ti,I=U&&U.exports===S?d.Z.Buffer:void 0,C=I?I.allocUnsafe:void 0;const ge=function(pe,me){if(me)return pe.slice();var J=pe.length,ee=C?C(J):new pe.constructor(J);return pe.copy(ee),ee}},"./node_modules/lodash-es/_cloneTypedArray.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>S});var d=a("./node_modules/lodash-es/_cloneArrayBuffer.js");const S=function(U,I){var C=I?(0,d.Z)(U.buffer):U.buffer;return new U.constructor(C,U.byteOffset,U.length)}},"./node_modules/lodash-es/_copyArray.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>d});const d=function(S,U){var I=-1,C=S.length;for(U||(U=Array(C));++I<C;)U[I]=S[I];return U}},"./node_modules/lodash-es/_copyObject.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/lodash-es/_assignValue.js"),S=a("./node_modules/lodash-es/_baseAssignValue.js");const U=function(I,C,ge,pe){var me=!ge;ge||(ge={});for(var J=-1,ee=C.length;++J<ee;){var Z=C[J],h=pe?pe(ge[Z],I[Z],Z,ge,I):void 0;h===void 0&&(h=I[Z]),me?(0,S.Z)(ge,Z,h):(0,d.Z)(ge,Z,h)}return ge}},"./node_modules/lodash-es/_createAssigner.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>T});const d=function(z){return z},S=function(z,L,x){switch(x.length){case 0:return z.call(L);case 1:return z.call(L,x[0]);case 2:return z.call(L,x[0],x[1]);case 3:return z.call(L,x[0],x[1],x[2])}return z.apply(L,x)};var U=Math.max;const I=function(z,L,x){return L=U(L===void 0?z.length-1:L,0),function(){for(var c=arguments,D=-1,W=U(c.length-L,0),q=Array(W);++D<W;)q[D]=c[L+D];D=-1;for(var ae=Array(L+1);++D<L;)ae[D]=c[D];return ae[L]=x(q),S(z,this,ae)}},C=function(z){return function(){return z}};var ge=a("./node_modules/lodash-es/_defineProperty.js");const pe=ge.Z?function(z,L){return(0,ge.Z)(z,"toString",{configurable:!0,enumerable:!1,value:C(L),writable:!0})}:d;var me=800,J=16,ee=Date.now;const Z=function(z){var L=0,x=0;return function(){var c=ee(),D=J-(c-x);if(x=c,D>0){if(++L>=me)return arguments[0]}else L=0;return z.apply(void 0,arguments)}}(pe),h=function(z,L){return Z(I(z,L,d),z+"")};var g=a("./node_modules/lodash-es/eq.js"),r=a("./node_modules/lodash-es/isArrayLike.js"),u=a("./node_modules/lodash-es/_isIndex.js"),w=a("./node_modules/lodash-es/isObject.js");const v=function(z,L,x){if(!(0,w.Z)(x))return!1;var c=typeof L;return!!(c=="number"?(0,r.Z)(x)&&(0,u.Z)(L,x.length):c=="string"&&L in x)&&(0,g.Z)(x[L],z)},T=function(z){return h(function(L,x){var c=-1,D=x.length,W=D>1?x[D-1]:void 0,q=D>2?x[2]:void 0;for(W=z.length>3&&typeof W=="function"?(D--,W):void 0,q&&v(x[0],x[1],q)&&(W=D<3?void 0:W,D=1),L=Object(L);++c<D;){var ae=x[c];ae&&z(L,ae,c,W)}return L})}},"./node_modules/lodash-es/_defineProperty.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>S});var d=a("./node_modules/lodash-es/_getNative.js");const S=function(){try{var U=(0,d.Z)(Object,"defineProperty");return U({},"",{}),U}catch{}}()},"./node_modules/lodash-es/_freeGlobal.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>d});const d=typeof re.g=="object"&&re.g&&re.g.Object===Object&&re.g},"./node_modules/lodash-es/_getAllKeys.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>I});var d=a("./node_modules/lodash-es/_baseGetAllKeys.js"),S=a("./node_modules/lodash-es/_getSymbols.js"),U=a("./node_modules/lodash-es/keys.js");const I=function(C){return(0,d.Z)(C,U.Z,S.Z)}},"./node_modules/lodash-es/_getNative.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>w});var d=a("./node_modules/lodash-es/isFunction.js");const S=a("./node_modules/lodash-es/_root.js").Z["__core-js_shared__"];var U,I=(U=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+U:"";const C=function(v){return!!I&&I in v};var ge=a("./node_modules/lodash-es/isObject.js"),pe=a("./node_modules/lodash-es/_toSource.js"),me=/^\[object .+?Constructor\]$/,J=Function.prototype,ee=Object.prototype,Z=J.toString,h=ee.hasOwnProperty,g=RegExp("^"+Z.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const r=function(v){return!(!(0,ge.Z)(v)||C(v))&&((0,d.Z)(v)?g:me).test((0,pe.Z)(v))},u=function(v,T){return v?.[T]},w=function(v,T){var z=u(v,T);return r(z)?z:void 0}},"./node_modules/lodash-es/_getPrototype.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>d});const d=(0,a("./node_modules/lodash-es/_overArg.js").Z)(Object.getPrototypeOf,Object)},"./node_modules/lodash-es/_getSymbols.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>C});const d=function(ge,pe){for(var me=-1,J=ge==null?0:ge.length,ee=0,Z=[];++me<J;){var h=ge[me];pe(h,me,ge)&&(Z[ee++]=h)}return Z};var S=a("./node_modules/lodash-es/stubArray.js"),U=Object.prototype.propertyIsEnumerable,I=Object.getOwnPropertySymbols;const C=I?function(ge){return ge==null?[]:(ge=Object(ge),d(I(ge),function(pe){return U.call(ge,pe)}))}:S.Z},"./node_modules/lodash-es/_getTag.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>x});var d=a("./node_modules/lodash-es/_getNative.js"),S=a("./node_modules/lodash-es/_root.js");const U=(0,d.Z)(S.Z,"DataView");var I=a("./node_modules/lodash-es/_Map.js");const C=(0,d.Z)(S.Z,"Promise"),ge=(0,d.Z)(S.Z,"Set"),pe=(0,d.Z)(S.Z,"WeakMap");var me=a("./node_modules/lodash-es/_baseGetTag.js"),J=a("./node_modules/lodash-es/_toSource.js"),ee="[object Map]",Z="[object Promise]",h="[object Set]",g="[object WeakMap]",r="[object DataView]",u=(0,J.Z)(U),w=(0,J.Z)(I.Z),v=(0,J.Z)(C),T=(0,J.Z)(ge),z=(0,J.Z)(pe),L=me.Z;(U&&L(new U(new ArrayBuffer(1)))!=r||I.Z&&L(new I.Z)!=ee||C&&L(C.resolve())!=Z||ge&&L(new ge)!=h||pe&&L(new pe)!=g)&&(L=function(c){var D=(0,me.Z)(c),W=D=="[object Object]"?c.constructor:void 0,q=W?(0,J.Z)(W):"";if(q)switch(q){case u:return r;case w:return ee;case v:return Z;case T:return h;case z:return g}return D});const x=L},"./node_modules/lodash-es/_initCloneObject.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>ge});var d=a("./node_modules/lodash-es/isObject.js"),S=Object.create;const U=function(){function pe(){}return function(me){if(!(0,d.Z)(me))return{};if(S)return S(me);pe.prototype=me;var J=new pe;return pe.prototype=void 0,J}}();var I=a("./node_modules/lodash-es/_getPrototype.js"),C=a("./node_modules/lodash-es/_isPrototype.js");const ge=function(pe){return typeof pe.constructor!="function"||(0,C.Z)(pe)?{}:U((0,I.Z)(pe))}},"./node_modules/lodash-es/_isIndex.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=9007199254740991,S=/^(?:0|[1-9]\d*)$/;const U=function(I,C){var ge=typeof I;return!!(C=C??d)&&(ge=="number"||ge!="symbol"&&S.test(I))&&I>-1&&I%1==0&&I<C}},"./node_modules/lodash-es/_isPrototype.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>S});var d=Object.prototype;const S=function(U){var I=U&&U.constructor;return U===(typeof I=="function"&&I.prototype||d)}},"./node_modules/lodash-es/_nodeUtil.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>C});var d=a("./node_modules/lodash-es/_freeGlobal.js"),S=Kt&&!Kt.nodeType&&Kt,U=S&&!0&&ti&&!ti.nodeType&&ti,I=U&&U.exports===S&&d.Z.process;const C=function(){try{var ge=U&&U.require&&U.require("util").types;return ge||I&&I.binding&&I.binding("util")}catch{}}()},"./node_modules/lodash-es/_overArg.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>d});const d=function(S,U){return function(I){return S(U(I))}}},"./node_modules/lodash-es/_root.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/lodash-es/_freeGlobal.js"),S=typeof self=="object"&&self&&self.Object===Object&&self;const U=d.Z||S||Function("return this")()},"./node_modules/lodash-es/_toSource.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>S});var d=Function.prototype.toString;const S=function(U){if(U!=null){try{return d.call(U)}catch{}try{return U+""}catch{}}return""}},"./node_modules/lodash-es/assignIn.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>I});var d=a("./node_modules/lodash-es/_copyObject.js"),S=a("./node_modules/lodash-es/_createAssigner.js"),U=a("./node_modules/lodash-es/keysIn.js");const I=(0,S.Z)(function(C,ge){(0,d.Z)(ge,(0,U.Z)(ge),C)})},"./node_modules/lodash-es/cloneDeepWith.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>I});var d=a("./node_modules/lodash-es/_baseClone.js"),S=1,U=4;const I=function(C,ge){return ge=typeof ge=="function"?ge:void 0,(0,d.Z)(C,S|U,ge)}},"./node_modules/lodash-es/debounce.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>T});var d=a("./node_modules/lodash-es/isObject.js"),S=a("./node_modules/lodash-es/_root.js");const U=function(){return S.Z.Date.now()};var I=/\s/;const C=function(z){for(var L=z.length;L--&&I.test(z.charAt(L)););return L};var ge=/^\s+/;const pe=function(z){return z&&z.slice(0,C(z)+1).replace(ge,"")};var me=a("./node_modules/lodash-es/isSymbol.js"),J=NaN,ee=/^[-+]0x[0-9a-f]+$/i,Z=/^0b[01]+$/i,h=/^0o[0-7]+$/i,g=parseInt;const r=function(z){if(typeof z=="number")return z;if((0,me.Z)(z))return J;if((0,d.Z)(z)){var L=typeof z.valueOf=="function"?z.valueOf():z;z=(0,d.Z)(L)?L+"":L}if(typeof z!="string")return z===0?z:+z;z=pe(z);var x=Z.test(z);return x||h.test(z)?g(z.slice(2),x?2:8):ee.test(z)?J:+z};var u="Expected a function",w=Math.max,v=Math.min;const T=function(z,L,x){var c,D,W,q,ae,Ie,Ve=0,_e=!1,Me=!1,Qe=!0;if(typeof z!="function")throw new TypeError(u);function ut(Nt){var xt=c,tt=D;return c=D=void 0,Ve=Nt,q=z.apply(tt,xt)}function rt(Nt){var xt=Nt-Ie;return Ie===void 0||xt>=L||xt<0||Me&&Nt-Ve>=W}function qe(){var Nt=U();if(rt(Nt))return et(Nt);ae=setTimeout(qe,function(xt){var tt=L-(xt-Ie);return Me?v(tt,W-(xt-Ve)):tt}(Nt))}function et(Nt){return ae=void 0,Qe&&c?ut(Nt):(c=D=void 0,q)}function Bt(){var Nt=U(),xt=rt(Nt);if(c=arguments,D=this,Ie=Nt,xt){if(ae===void 0)return function(tt){return Ve=tt,ae=setTimeout(qe,L),_e?ut(tt):q}(Ie);if(Me)return clearTimeout(ae),ae=setTimeout(qe,L),ut(Ie)}return ae===void 0&&(ae=setTimeout(qe,L)),q}return L=r(L)||0,(0,d.Z)(x)&&(_e=!!x.leading,W=(Me="maxWait"in x)?w(r(x.maxWait)||0,L):W,Qe="trailing"in x?!!x.trailing:Qe),Bt.cancel=function(){ae!==void 0&&clearTimeout(ae),Ve=0,c=Ie=D=ae=void 0},Bt.flush=function(){return ae===void 0?q:et(U())},Bt}},"./node_modules/lodash-es/eq.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>d});const d=function(S,U){return S===U||S!=S&&U!=U}},"./node_modules/lodash-es/isArguments.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>me});var d=a("./node_modules/lodash-es/_baseGetTag.js"),S=a("./node_modules/lodash-es/isObjectLike.js"),U="[object Arguments]";const I=function(J){return(0,S.Z)(J)&&(0,d.Z)(J)==U};var C=Object.prototype,ge=C.hasOwnProperty,pe=C.propertyIsEnumerable;const me=I(function(){return arguments}())?I:function(J){return(0,S.Z)(J)&&ge.call(J,"callee")&&!pe.call(J,"callee")}},"./node_modules/lodash-es/isArray.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>d});const d=Array.isArray},"./node_modules/lodash-es/isArrayLike.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/lodash-es/isFunction.js"),S=a("./node_modules/lodash-es/isLength.js");const U=function(I){return I!=null&&(0,S.Z)(I.length)&&!(0,d.Z)(I)}},"./node_modules/lodash-es/isBuffer.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>ge});var d=a("./node_modules/lodash-es/_root.js");const S=function(){return!1};var U=Kt&&!Kt.nodeType&&Kt,I=U&&!0&&ti&&!ti.nodeType&&ti,C=I&&I.exports===U?d.Z.Buffer:void 0;const ge=(C?C.isBuffer:void 0)||S},"./node_modules/lodash-es/isElement.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>U});var d=a("./node_modules/lodash-es/isObjectLike.js"),S=a("./node_modules/lodash-es/isPlainObject.js");const U=function(I){return(0,d.Z)(I)&&I.nodeType===1&&!(0,S.Z)(I)}},"./node_modules/lodash-es/isFunction.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>pe});var d=a("./node_modules/lodash-es/_baseGetTag.js"),S=a("./node_modules/lodash-es/isObject.js"),U="[object AsyncFunction]",I="[object Function]",C="[object GeneratorFunction]",ge="[object Proxy]";const pe=function(me){if(!(0,S.Z)(me))return!1;var J=(0,d.Z)(me);return J==I||J==C||J==U||J==ge}},"./node_modules/lodash-es/isLength.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>S});var d=9007199254740991;const S=function(U){return typeof U=="number"&&U>-1&&U%1==0&&U<=d}},"./node_modules/lodash-es/isObject.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>d});const d=function(S){var U=typeof S;return S!=null&&(U=="object"||U=="function")}},"./node_modules/lodash-es/isObjectLike.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>d});const d=function(S){return S!=null&&typeof S=="object"}},"./node_modules/lodash-es/isPlainObject.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>ee});var d=a("./node_modules/lodash-es/_baseGetTag.js"),S=a("./node_modules/lodash-es/_getPrototype.js"),U=a("./node_modules/lodash-es/isObjectLike.js"),I="[object Object]",C=Function.prototype,ge=Object.prototype,pe=C.toString,me=ge.hasOwnProperty,J=pe.call(Object);const ee=function(Z){if(!(0,U.Z)(Z)||(0,d.Z)(Z)!=I)return!1;var h=(0,S.Z)(Z);if(h===null)return!0;var g=me.call(h,"constructor")&&h.constructor;return typeof g=="function"&&g instanceof g&&pe.call(g)==J}},"./node_modules/lodash-es/isSymbol.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>I});var d=a("./node_modules/lodash-es/_baseGetTag.js"),S=a("./node_modules/lodash-es/isObjectLike.js"),U="[object Symbol]";const I=function(C){return typeof C=="symbol"||(0,S.Z)(C)&&(0,d.Z)(C)==U}},"./node_modules/lodash-es/isTypedArray.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>J});var d=a("./node_modules/lodash-es/_baseGetTag.js"),S=a("./node_modules/lodash-es/isLength.js"),U=a("./node_modules/lodash-es/isObjectLike.js"),I={};I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Arguments]"]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object Boolean]"]=I["[object DataView]"]=I["[object Date]"]=I["[object Error]"]=I["[object Function]"]=I["[object Map]"]=I["[object Number]"]=I["[object Object]"]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object WeakMap]"]=!1;const C=function(ee){return(0,U.Z)(ee)&&(0,S.Z)(ee.length)&&!!I[(0,d.Z)(ee)]};var ge=a("./node_modules/lodash-es/_baseUnary.js"),pe=a("./node_modules/lodash-es/_nodeUtil.js"),me=pe.Z&&pe.Z.isTypedArray;const J=me?(0,ge.Z)(me):C},"./node_modules/lodash-es/keys.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>pe});var d=a("./node_modules/lodash-es/_arrayLikeKeys.js"),S=a("./node_modules/lodash-es/_isPrototype.js");const U=(0,a("./node_modules/lodash-es/_overArg.js").Z)(Object.keys,Object);var I=Object.prototype.hasOwnProperty;const C=function(me){if(!(0,S.Z)(me))return U(me);var J=[];for(var ee in Object(me))I.call(me,ee)&&ee!="constructor"&&J.push(ee);return J};var ge=a("./node_modules/lodash-es/isArrayLike.js");const pe=function(me){return(0,ge.Z)(me)?(0,d.Z)(me):C(me)}},"./node_modules/lodash-es/keysIn.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>me});var d=a("./node_modules/lodash-es/_arrayLikeKeys.js"),S=a("./node_modules/lodash-es/isObject.js"),U=a("./node_modules/lodash-es/_isPrototype.js");const I=function(J){var ee=[];if(J!=null)for(var Z in Object(J))ee.push(Z);return ee};var C=Object.prototype.hasOwnProperty;const ge=function(J){if(!(0,S.Z)(J))return I(J);var ee=(0,U.Z)(J),Z=[];for(var h in J)(h!="constructor"||!ee&&C.call(J,h))&&Z.push(h);return Z};var pe=a("./node_modules/lodash-es/isArrayLike.js");const me=function(J){return(0,pe.Z)(J)?(0,d.Z)(J,!0):ge(J)}},"./node_modules/lodash-es/stubArray.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>d});const d=function(){return[]}},"./node_modules/lodash-es/throttle.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>I});var d=a("./node_modules/lodash-es/debounce.js"),S=a("./node_modules/lodash-es/isObject.js"),U="Expected a function";const I=function(C,ge,pe){var me=!0,J=!0;if(typeof C!="function")throw new TypeError(U);return(0,S.Z)(pe)&&(me="leading"in pe?!!pe.leading:me,J="trailing"in pe?!!pe.trailing:J),(0,d.Z)(C,ge,{leading:me,maxWait:ge,trailing:J})}},"./node_modules/lodash-es/toString.js":(f,_,a)=>{"use strict";a.d(_,{Z:()=>J});var d=a("./node_modules/lodash-es/_Symbol.js");const S=function(ee,Z){for(var h=-1,g=ee==null?0:ee.length,r=Array(g);++h<g;)r[h]=Z(ee[h],h,ee);return r};var U=a("./node_modules/lodash-es/isArray.js"),I=a("./node_modules/lodash-es/isSymbol.js"),C=1/0,ge=d.Z?d.Z.prototype:void 0,pe=ge?ge.toString:void 0;const me=function ee(Z){if(typeof Z=="string")return Z;if((0,U.Z)(Z))return S(Z,ee)+"";if((0,I.Z)(Z))return pe?pe.call(Z):"";var h=Z+"";return h=="0"&&1/Z==-C?"-0":h},J=function(ee){return ee==null?"":me(ee)}}},m={};function E(f){var _=m[f];if(_!==void 0)return _.exports;var a=m[f]={id:f,exports:{}};return ii[f](a,a.exports,E),a.exports}E.n=f=>{var _=f&&f.__esModule?()=>f.default:()=>f;return E.d(_,{a:_}),_},E.d=(f,_)=>{for(var a in _)E.o(_,a)&&!E.o(f,a)&&Object.defineProperty(f,a,{enumerable:!0,get:_[a]})},E.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),E.o=(f,_)=>Object.prototype.hasOwnProperty.call(f,_),E.r=f=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},E.nc=void 0;var y=E("?7cdd");(window.CKEditor5=window.CKEditor5||{}).dll=y})(),function(ii){ii.CKEditor5=ii.CKEditor5||{};const m=["utils","core","engine","ui","clipboard","enter","paragraph","select-all","typing","undo","upload","widget"];for(const E of m){const y=E.replace(/-([a-z])/g,(f,_)=>_.toUpperCase());ii.CKEditor5[y]=ii.CKEditor5.dll(`./src/${E}.js`)}}(window)}}]);
